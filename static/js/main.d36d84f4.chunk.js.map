{"version":3,"sources":["icons/switchSide.png","librarys/lightcone_v3/lib/wallet/common/response.ts","widgets/Common/TabNav.js","librarys/lightcone_v3/lib/wallet/common/request.ts","librarys/lightcone_v3/lib/wallet/common/validator.ts","librarys/lightcone_v3/lib/wallet/common/index.ts","librarys/lightcone_v3/lib/wallet/ethereum/contracts/AbiFunction.ts","librarys/lightcone_v3/lib/wallet/ethereum/contracts/Contract.ts","librarys/lightcone_v3/lib/wallet/ethereum/contracts/Contracts.ts","librarys/lightcone_v3/lib/wallet/ethereum/contracts/index.ts","librarys/lightcone_v3/lib/wallet/ethereum/utils.ts","librarys/lightcone_v3/lib/wallet/ethereum/eth.ts","librarys/lightcone_v3/lib/wallet/ethereum/wallet.ts","librarys/lightcone_v3/lib/wallet/ethereum/index.ts","librarys/lightcone_v3/lib/wallet/config/index.ts","librarys/lightcone_v3/lib/wallet/ethereum/transaction.ts","librarys/lightcone_v3/model/types.ts","librarys/lightcone_v3/sign/exchange.ts","config/appConfig.js","librarys/lightcone_v3/wallet/account.ts","sagas/StartupSagas.js","api/wedexApi.js","utils/enum.js","api/index.js","sagas/index.js","store/models/appState.js","store/models/metaMask.js","store/models/dexAccount.js","store/models/depth.js","store/models/trade.js","store/models/candleStick.js","store/models/ticker.js","store/models/markets.js","store/models/tokens.js","store/models/placeOrder.js","store/models/balance.js","store/models/walletBalance.js","store/models/order.js","store/models/transfer.js","store/models/socket.js","store/models/rate.js","store/models/award.js","store/models/persistData.js","store/index.js","store/models/index.js","utils/index.js","widgets/Common/CoinInput.js","locales/en_US.js","locales/zh_CN.js","locales/index.js","locales/ja_JP.js","locales/ko_KR.js","locales/ru_RU.js","widgets/Dialog/funcfyDialog.js","widgets/Dialog/BrowserInvalidModal.js","widgets/Dialog/SignInModal.js","widgets/Dialog/UpsertPasswordModal.js","widgets/Dialog/TransferModal.js","components/PromisefyConfirm.js","widgets/Common/BillPreCheck.js","widgets/Common/FormErrorInfo.js","widgets/TopNav.js","widgets/Pair.js","widgets/TokenInfo.js","components/Pagination/index.js","components/Svg.js","components/Spin.js","widgets/Trade.js","widgets/TVChartContainer/api/index.js","widgets/TVChartContainer/index.js","widgets/DepthChartContainer/index.js","widgets/TVChart.js","widgets/PlaceOrder.js","widgets/MyOrder.js","widgets/Depth.js","widgets/EggAward.js","views/Home.js","views/mine/Balance.js","views/mine/Transfer.js","views/mine/Order.js","views/mine/Apikey.js","views/mine/Award.js","views/mine/Mine.js","views/ActivityList.js","views/Activity.js","routes/index.js","App.js","serviceWorker.js","theme.js","index.js","librarys/lightcone_v3/lib/wallet/common/formatter.ts","librarys/lightcone_v3/lib/wallet/common/utils.ts","librarys/lightcone_v3/lib/wallet/ethereum/metaMask.ts","librarys/lightcone_v3/lib/wallet/ethereum/keystore.ts","librarys/lightcone_v3/lib/sign/poseidon.ts","librarys/lightcone_v3/lib/wallet/ethereum/mnemonic.ts","librarys/lightcone_v3/lib/wallet/config/tokens.ts","librarys/lightcone_v3/lib/wallet/config/data.ts","icons.js","librarys/lightcone_v3/lib/wallet/ethereum/schemas.ts","librarys/lightcone_v3/lib/wallet/ethereum/validator.ts","librarys/lightcone_v3/lib/wallet/ethereum/walletAccount.ts","metamask.png","icons/wedexLogo.svg","charting_library/charting_library.min.js","icons/fullscreen.svg","icons/chartTechnic.svg","icons/chartSetting.svg","icons/depthAll.svg","icons/depthSell.svg","icons/depthBuy.svg","icons/award.png","icons/wedexLogoVertical.png","librarys/lightcone_v3/lib/wallet/common/code.ts","librarys/lightcone_v3/lib/sign/eddsa.ts","librarys/lightcone_v3/lib/wallet/common/schemas.ts","librarys/lightcone_v3/lib/sign/babyjub.ts"],"names":["module","exports","Response","errorCode","errorMsg","this","code","message","data","Pair","props","state","activeTab","setState","tabs","tab","onChange","restProps","height","alignItems","justifyContent","map","key","text","minWidth","sx","bg","cursor","onClick","setActive","px","fontSize","fontWeight","children","React","Component","connect","dispatch","headers","checkStatus","response","status","error","Error","statusText","id","crypto","randomBytes","toString","request","host","options","timeOut","requestPromise","Promise","resolve","body","JSON","stringify","fetch","then","res","json","catch","e","timeoutPromise","reject","setTimeout","race","schemas","basic","basicSchemas","validate","payload","type","value","onError","onSuccess","source","schema","Schema","errors","fields","console","log","msgs","err","join","handleErrors","formatter","validator","utils","abi","require","AbiFunction","inputs","name","outputs","constant","inputTypes","outputTypes","methodAbiHash","toHex","methodID","abiInputs","parseInputs","clearHexPrefix","rawEncode","parseOutputs","rawDecode","toBuffer","encoded","addHexPrefix","undefined","output","BN","ethereumjs_abi","Contract","abiFunctions","funAbi","filter","reduce","acc","item","methodHash","method","abiFunction","encodeInputs","decodeOutputs","encode","methodId","slice","decodeEncodedInputs","WETH","wethAbi","ERC20Token","erc20Abi","AirdropContract","airdropAbi","ExchangeContract","exchangeAbi","Contracts","updateHost","newValue","getTransactionCount","address","tag","a","params","getGasPrice","estimateGas","tx","getAccountBalance","getTransactionByhash","hash","getTransactionRecipt","isValidEthAddress","getHash","sha3","Eth","PARAM_INVALID","msg","signedTx","sendRawTransaction","txHash","call","getWallet","wallets","localStorage","wallet","parse","find","toLowerCase","getNonce","toNumber","nonce","localNonce","Math","max","account","keystore","mnemonic","metamask","eth","setWallet","otherWallets","w","push","isInWhiteList","storeUnlockedAddress","unlockType","unlockedType","unlockedAddress","getUnlockedAddress","getUnlockedType","clearUnlockedAddress","fm","config","configs","fees","txs","whiteList","add","getTokenBySymbol","symbol","getTokens","token","tokens","getMarketBySymbol","baseToken","quoteToken","getMarkets","market","pricePrecision","getMarketsByTokenR","markets","getTokenByAddress","getMarketByPair","pair","pairArr","split","length","getGasLimitByType","getFeeByType","fee","isinWhiteList","getChainId","chainId","getExchangeId","exchangeId","getLabel","label","getMaxFeeBips","maxFeeBips","isSupportedMarket","m","toUpperCase","getTokenSupportedMarkets","leftMarket","getMarketsByTokenL","rightMarket","getWalletAddress","walletAddress","getExchangeAddress","exchangeAddress","getMaxAmountInWEI","maxAmount","getWallets","fromWEI","valueInWEI","precision","toBig","div","digits","toFixed","toWEI","times","Transaction","rawTx","raw","signed","EthTransaction","privateKey","walletType","path","complete","ethTx","sign","serialize","setChainId","setGasLimit","setGasPrice","KeyPair","publicKeyX","publicKeyY","secretKey","DexAccount","accountId","keyPair","WithdrawalRequest","tokenId","amount","amountInBN","tokenF","tokenFId","amountF","amountFInBN","signature","OrderRequest","owner","tokenS","tokenB","tokenSId","tokenBId","amountS","amountB","amountSInBN","amountBInBN","orderId","allOrNone","validSince","validUntil","buy","feeBips","rebateBips","signatureRx","signatureRy","signatureS","CancelRequest","orderToken","orderTokenId","GetAPIKeyRequest","SignAPIKeyRequest","FlexCancelRequest","orderHash","clientOrderId","SignFlexCancelRequest","assert","exchange","currentWalletAccount","seed","EdDSA","generateKeyPair","password","gasPrice","permission","keccak","getAddress","createAccountAndDeposit","publicX","publicY","ethereum","pubKeyX","pubKeyY","tokenAddress","to","feeInWEI","gasLimit","gasInWEI","plus","withdrawal","feeToken","startsWith","signWithdrawal","Poseidon","hasher","success","verify","order","Rx","Ry","s","tokenBuy","tokenSell","signOrder","floor","random","setupOrder","cancel","signCancel","sha256","relay","serverUrl","wsUrl","relayUrl","maxCandlestickPerRequest","pollingIntervalRatio","wedex","ratioRecommendedGasPrice","txSendByMetaMask","Account","_spender","_value","appConfig","sendTransaction","signEthereumTx","verifyPassword","createOrUpdateAccountResposne","createOrUpdateAccount","signedEthereumTx","deposit","withdraw","submitWithdrawal","submitOrder","submitCancel","signGetApiKey","submitFlexCancel","startup","api","action","getSystemMaintain","resp","appState","update","maintainInfo","put","fetchMarkets","getContracts","list","dexAccount","loadAccount","setImmediateInterval","socket","checkHeartBeat","start","srvApi","axios","create","baseURL","formatExchanges","exchanges","_","standardContractName","targetContractName","amountPrecision","totalPrecision","maxLevel","baseContractId","standardContract","quoteContractId","targetContract","toUpper","interceptors","use","store","getState","common","getAllExchanges","get","rows","getChannelExchanges","getUserBillEggPrizeList","restParams","postUserReadBillEggPrizeList","post","getExchanges","channelName","contracts","contract","fullname","contractAddr","website","homepage","getContract","getLeverCoin","getSystemContractFee","getSystemBillValidTime","getNotice","getArticleList","getArticleListRecommended","recommended","getArticle","XEnumItem","meta","getValue","XEnum","enumDict","enumItems","Object","values","keys","forEach","itemValue","getText","exist","ele","excludeIndex","specKey","includes","ENUM_ACCOUNT_STATUS","UNSIGNED","UNCREATED","CREATED","LOGGED_IN","CREATING","LOCKED","UPDATING","ENUM_ORDER_STATUS","PROCESSING","PROCESSED","CANCELLING","CANCELLED","EXPIRED","ENUM_TX_STATUS","RECEIVED","FAILED","ENUM_INTERVAL_TYPE","MIN_1","MIN_5","MIN_15","MIN_30","HOUR_1","HOUR_2","HOUR_4","HOUR_12","DAY_1","WEEK_1","ENUM_LANGUAGE_TYPE","cn","us","kr","ru","jp","withoutThrow","func","notification","style","backgroundColor","String","relayApi","limit","trades","trade","timestamp","tradeId","side","size","price","level","depth","bids","updatedBids","i","volume","count","updatedBid","sizeInNumber","asks","updatedAsks","updatedAsk","offset","apiKey","statuses","end","Date","getTime","responseData","orders","updatedOrders","formatOrders","totalNum","delete","getCandlestick","candlesticks","candlestick","open","close","high","low","interval","resolution","parseValueByText","formatResolution","promises","periodEnd","periodStart","ms","promise","all","candles","flatten","tickers","ticker","bid","ask","types","tokenSymbol","allType","txType","realAmount","minPrice","BigNumber","normalPrice","maxPrice","url","needApiKey","resultInfo","logout","errorMessage","104208","getBalances","getOrders","cancelOrders","getEthBalance","getTokenBalance","getTrade","lightconeGetAccount","getDepth","getCandlestickCombine","getApiKey","getTickers","getPrice","getTransactions","getOrderId","submitOrderToLightcone","getRecommendedGasPrice","getAllowance","wedexApi","onLocationChange","root","safeWrap","args","info","pathname","location","select","waitFor","toText","takeLatest","ready","loading","closed","image","awardInfo","visible","title","unit","createdAt","reducers","showEggAward","closeAward","detect","walletName","window","enable","accounts","fromMetaMask","web3","dkeyEnableSuccess","result","dkeyEnableFailure","fromDkey","startConnecting","isDesiredBrowser","isDesiredNetwork","installed","updateMetaMask","effects","connectToMetaMask","metaMask","browser","valid","isMetaMask","autoRefreshOnNetworkChange","desireNetwork","Number","networkVersion","on","getAccount","isDkey","initAccountFromMetaMask","initState","passwordHash","rememberMeStartTime","rememberMeMinutes","canceledOrders","switchAccount","clearAccountInfo","updateAccount","checkAccountOvertime","moment","isAfter","duration","description","initialize","balance","walletBalance","placeOrder","relayAccount","startFetchBalance","checkAccountCreated","checkAccountInterval","clearInterval","setInterval","isFreeze","genApiKey","fetchOrders","scrollSellTableToBottom","tableDom","document","getElementsByClassName","tableBodyDom","scrollTop","scrollHeight","formatFromWEI","currentMarket","baseSymbol","quoteSymbol","calcSummationCurve","items","direction","orderBy","reverse","sumSize","sumVolume","incrementalVersion","fetchDepth","marketPair","unsubscribe","topic","unsubscribeAll","subscribe","setLevel","scrollSellTable","incrementalUpdate","depthState","startVersion","endVersion","newDepth","expectVersion","chain","unionBy","latestPrice","lastPrice","variation","page","pageSize","updateVariation","fetchTrade","index","currentPrice","tradeState","unshift","modified","take","dayInfo","tvSubscribers","fetchDayInfo","candleStick","pick","subscribeBars","subscribeUID","onRealtimeCallback","symbolInfo","newSub","lastBar","realtimeCb","unsubscribeBars","subscriberUID","sub","topicInfo","subscriberTopic","subscriber","newCancle","time","formatTicker","marketName","baseTokenSymbol","quoteTokenSymbol","differ","fetchTicker","size24h","volume24h","stars","currentTab","currentMarkets","cond","sort","sortDirection","selectors","createSelector","hasProps","updateFilterCond","updateMarketsTicker","currentMatched","router","persistData","defaultBaseSymbol","defaultQuoteSymbol","quoteTokens","uniq","defaultTab","setCurrentTab","setCurrentMarket","fetchCurrentMarkets","startFetchMarketInfo","ws","readyState","reload","onSocketReady","starMarket","xorBy","pairs","buyPrice","buyAmount","buyTotal","sellPrice","sellAmount","sellTotal","marketBuyTotal","marketSellAmount","placeAnOrder","isBuy","exchangeAccount","tradingPrivKey","tokenSConfig","relayTokenId","signedEtheruemTx","channelId","placeBuyOrder","withLoading","placeSellOrder","formatBalances","balances","totalAmount","amountLocked","availAmount","decimalPlaces","fetchBalances","equals","newBalance","b","appendBalance","blance","fetchBalance","fetchAllBalances","processingList","historyStatus","allMarket","fetchProcessingOrders","incrementalUpdateProcessing","orderState","o","formatPageParams","cancelAnOrders","genSignature","cancelAllOrders","orderStore","checkAllowance","depositAmout","allowance","txCount","fetchTransactions","transfer","transactions","feeAmount","toTokenPrecision","approveTxCount","approveZero","approveMax","depositTo","resetLastTransferTime","onchainWithdrawal","lastPingTime","pollingIntervals","inverval","history","alert","WebSocket","onmessage","event","onMessage","onerror","onopen","polling","_onSubResult","send","op","topicType","TopicMarket","upperCase","subInfo","topics","intervals","rate","fetchRate","award","checkAward","now","clone","isBefore","CNY","USD","legal","CNYRates","USDRates","sagaMiddleware","latestAward","billSn","read","newAward","money","markRead","ids","locale","lastTransferTime","format","checkChannel","query","getUrlParams","search","channel","checkLocale","locales","checkMarket","match","matchPath","exact","strict","createBrowserHistory","middleware","createContext","loggerMiddleware","createLogger","collapsed","createSagaMiddleware","historyMiddleware","routerMiddleware","initMiddleware","enhancers","applyMiddleware","init","models","redux","connectRouter","plugins","persistPlugin","createRematchPersist","whitelist","storage","asyncLocalStorage","version","selectorPlugin","selectPlugin","initPlugin","run","rootSaga","renderIf","predicate","elemOrThunk","isFunction","urlString","encodeURIComponent","toPairs","sortBy","fromPairs","paramsString","k","v","signatureBase","handler","debounce","placement","warning","ceil","hashes","indexOf","val","decodeURIComponent","checkPassword","genPasswordHash","lightConeUtils","keccakHash","promisefy","asyncFunc","preArgs","callback","getPrecision","num","parts","asLegalMoney","from","filledFee","updatedOrder","filledSize","filledVolume","avgPrice","filledInNumber","filled","checkLogined","rootState","signinedStatus","getTradingViewLocale","str","InputGroup","Group","disabled","min","approximate","useState","focused","setFocused","content","trigger","overlayStyle","display","compact","borderRadius","WebkitBoxShadow","paddingLeft","paddingRight","width","border","color","pointerEvents","textAlign","className","onKeyPress","test","target","currentTarget","selectionStart","selectionEnd","valueAsNumber","isNumber","isNaN","preventDefault","onBlur","onFocus","flex","padding","messages","zh_CN","en_US","funcfy","createElement","ReactDOM","render","onDestory","unmountComponentAtNode","parentNode","removeChild","Widget","injectIntl","intl","errorInfos","formatMessage","checkInput","form","getFieldProps","getFieldsError","validateFields","remember","loginSunccess","onSucess","modalTitle","getFieldDecorator","noLabelLayout","getFieldsValue","wrapperCol","span","maskClosable","onOk","onCancel","onFail","footer","pt","pb","mx","onSubmit","submit","Item","labelCol","hasFeedback","rules","required","pattern","Password","mt","FormErrorInfo","htmlType","ghost","UpsertPasswordModal","WrappedForm","connectedWidget","forwardRef","gasLimitInWEI","createAccountFee","recommendedGasEth","fetchWalletBalances","normal","minGas","normalGas","maxGas","confirmPassword","gasEth","ethAvail","getEthAvail","gasEthInWEI","gasPriceInWEI","dividedBy","toGWEI","ethBalance","ethAmount","formItemLayout","rule","getFieldValue","lineHeight","gasLimitDeposit","gasLimitWithdraw","withdrawFeeInWEI","Option","buttonItemLayout","initialSymbol","initialType","balanceStore","walletBalanceStore","useIntl","setVisible","setSymbol","setType","transferAmount","setTransferAmount","recommendedGasPrice","setRecommendedGasPrice","useEffect","show","balancesSymbols","walletBalancesSymbols","symbolOptions","union","walletEthAvail","getWalletEthAvail","withdrawFee","available","getAvailable","ethAvailable","duaration","diff","second","defaultValue","ml","InnerModal","renderContent","otherProps","ref","signIn","checkBrowser","PromisefyConfirm","bodyStyle","checkNetwork","invalidText","checkAddress","loadMetamask","checkSignedIn","SignInModal","useImperativeHandle","check","line","TopNav","activitis","link","notices","fetchNotice","billPreCheck","updatePersistData","menus","mine","changePassword","clearStore","activity","newWindow","language","genMenu","subMenus","menu","signined","accountCreating","overlay","overlayClassName","src","metamaskLogo","pl","takeRight","login","origin","BillPreCheck","variant","wedexLogo","dots","draggable","autoplay","autoplaySpeed","easing","notice","maxWidth","renderNav","as","withRouter","fuzzy","category","href","rel","pagination","filters","sorter","extra","field","columns","align","unused","record","haveStar","theme","onCell","rowIndex","stopPropagation","dataIndex","numeral","overflowY","Search","placeholder","allowClear","rowKey","dataSource","onRow","onSelected","TokenInfo","tokenInfo","lang","marketValue","publishDate","rank","publishAmount","flowAmount","whitePaper","publishPrice","desc","leverToken","descInLocale","leverTokenName","underlying","baseName","currency","quoteName","lever","purchased","currWorth","lastWorth","lastSwapTime","pr","flexDirection","abs","flexBasis","my","QhPagination","handleSizeChange","fetchDataByPage","bind","handleCurrentChange","currentPage","initPageSize","total","autoload","pageParams","fetchData","onFetched","current","onShowSizeChange","pageSizeOptions","showQuickJumper","defaultProps","icon","aria-hidden","xlinkHref","antIcon","spin","indicator","wrapperClassName","Trade","tableHeight","row","Spin","spinning","scroll","y","supportedResolutions","getOptions","option","onReady","cb","supported_resolutions","searchSymbols","userInput","symbolType","onResultReadyCallback","resolveSymbol","symbolName","onSymbolResolvedCallback","onResolveErrorCallback","symbol_stub","session","timezone","minmov","pricescale","pow","has_intraday","intraday_multipliers","supported_resolution","volume_precision","data_status","getBars","onHistoryCallback","onErrorCallback","firstDataRequest","toLocaleString","noData","startTimestamp","endTimestamp","last","period","formatedFrom","formatedTo","timestaps","range","parsedCandles","ts","candle","c","rightCandle","LeftCandle","findLast","onResetCacheNeededCallback","calculateHistoryDepth","resolutionBack","intervalBack","TVChartContainer","_candleDefault","tvWidget","chart","removeAllStudies","createStudy","_lineDefault","_showSettingDialog","checked","executeActionById","_showIndicatorsDialog","prevLocale","prevSymbol","prevLineType","lineType","prevTheme","prevInterval","prevShowIndicatorsDialog","showIndicatorsDialog","prevShowSettingDialog","showSettingDialog","TradingView","activeChart","setResolution","remove","loadStudies","applyOverrides","Intl","DateTimeFormat","resolvedOptions","timeZone","debug","datafeed","Datafeed","container_id","library_path","libraryPath","frameborder","toolbar_bg","custom_css_url","overrides","customFormatters","timeFormatter","date","replace","getUTCHours","getUTCMinutes","getUTCSeconds","dateFormatter","getUTCFullYear","getUTCMonth","getUTCDate","disabled_features","charts_storage_url","chartsStorageUrl","charts_storage_api_version","chartsStorageApiVersion","client_id","clientId","user_id","userId","autosize","timeframe","time_frames","symbols_types","studies_overrides","tvInterval","widgetOptions","generateTradingViewConfig","widget","onChartReady","onDataLoaded","containerId","fullScreen","datafeedUrl","studiesOverrides","DepthChartContainer","forceFit","scale","alias","tickCount","grid","showTitle","position","tooltip","units","views","DEPTH_VIEW","TRADING_VIEW","tvLocalMapping","ViewTypeButton","styled","Text","background","active","borderColor","borderTopLeftRadius","left","borderBottomLeftRadius","borderTopRightRadius","right","borderBottomRightRadius","borderLeftWidth","borderRightWidth","IntervalButton","marginRight","TVChart","pairVisible","tokenInfoVisible","selectedView","showIndicators","showSetting","assign","invetvalMapping","itemInterval","borderRight","mr","chartTechnicIcon","chartSettingIcon","fullscreenIcon","py","onVisibleChange","flag","renderPairs","fetchTokenInfo","renderTokenInfo","renderUnits","top","bottom","zIndex","renderTvOps","percentPositins","PlaceOrder","baseMin","quoteMin","updatePlaceOrder","quoteError","baseError","percent","currentPrecision","minTradeValue","baseBalance","quoteBalance","availBase","availQuote","getMinTradeValue","TabNav","TransferModal","renderLimitBuyArea","renderLimitSaleArea","renderMarketBuyArea","renderMarketSaleArea","MyOrder","tabValue","hideSmall","toLower","walletAmount","merged","walletToken","genOrderColumns","genBalanceColumns","tableData","genBalanceData","onTabChange","onChangeShowAll","depthTypes","depthAllIcon","depthSellIcon","depthBuyIcon","Depth","activeType","hoverPrice","precisions","depthType","maxBy","maxSize","col","sum","mouseEnterDelay","mouseLeaveDelay","prefixCls","opacity","onRowEvent","onMouseEnter","onMouseLeave","renderPrecisions","showHeader","Svg","margin","backgroundImage","awardIcon","backgroundSize","backgroundPosition","wedexLogoVertical","borderTop","Home","onWindowResize","windowHeight","clientHeight","windowWidth","clientWidth","largeScreen","addEventListener","removeEventListener","bodyHeight","leftRemainHeight","rightRemainHeight","EggAward","TabPane","renderChart","memoize","overview","radius","innerRadius","allMarkets","marketOptions","balanceTotal","usd","walletBalanceTotal","mb","symbols","marketsStore","walletBalances","walletColumns","logo","dexColumns","quote","renderOverview","renderFilters","onChangeTab","RangePicker","initialSide","onSymbolChanged","onSideChanged","newProps","onStatusChanged","startOf","toDate","valueOf","endOf","transfers","transferColumns","minHeight","onDataFetched","reset","infos","startDate","billTime","Balance","Transfer","Order","Apikey","Award","Mine","oldTab","newTab","borderLeft","borderBottom","ActivityList","fetchRecommendedData","statusMapping","initiate","underway","finished","poster","flexWrap","endDate","abstract","statusInfo","fetchActivity","activityId","dangerouslySetInnerHTML","__html","NumericInput","backgroundRepeat","renderEmpty","basename","component","Activity","startSocket","maxHeight","Boolean","hostname","topNavHeight","breakpoints","space","fonts","heading","monospace","fontSizes","fontWeights","bold","lineHeights","colors","backgroundTint","primary","secondary","muted","hint","blue","failure","styles","fontFamily","h1","h2","h3","h4","h5","h6","p","pre","overflowX","table","borderCollapse","borderSpacing","th","borderBottomStyle","td","img","shadows","small","large","variants","divider","topNav","exchangeX","exchangeY","topNavDividerHeight","overflow","noScrollbar","flexCenter","clickable","buttons","getElementById","navigator","serviceWorker","registration","unregister","mixed","Buffer","ethUtil","RegExp","toBN","fromGWEI","formatKey","formatAddress","toChecksumAddress","input","padLeftEven","hex","getDisplaySymbol","settingsCurrency","number","rm","EXPONENTIAL_AT","RANGE","ROUNDING_MODE","trim","trimAll","calculateGas","hashPersonalMessage","substring","r","signMessage","_chainId","transactionHash","decryptKeystoreToPkey","parsed","determineKeystoreType","decryptPresaleToPrivKey","private","decryptMewV1ToPrivKey","privKey","decryptUtcKeystoreToPkey","pkeyToKeystore","fromPrivateKey","toV3","n","fromV3","getPrivateKey","encseed","Crypto","locked","publisher","fromEthSale","fromV1","isKeystorePassRequired","getFileName","toJSON","bn128","bigInt","blake2b","F","Fr","SEED","NROUNDSF","NROUNDSP","T","getPseudoRandom","h","digest","affine","leBuff2int","allDifferent","isZero","j","getMatrix","t","nRounds","cmatrix","M","Array","inverse","getConstants","ark","sigma","mul","square","mix","newState","zero","createHash","nRoundsF","nRoundsP","C","mnemonictoPrivatekey","dpath","validateMnemonic","mnemonicToSeed","fromMasterSeed","derive","isValidateMnemonic","phrase","tile","standSchemas","BASIC_TX","ADDRESS","ETH_DATA","TX","BASIC_TOKEN","TOKEN","transaction","transactionSchmas","createWallet","Wallet","generate","privateKeytoAddress","privateToAddress","publicKeytoAddress","publicKey","sanitize","publicToAddress","getAddresses","chainCode","pageNum","addresses","hdk","HDKey","dkey","privateKeytoPublic","privateToPublic","fromMnemonic","PrivateKeyAccount","fromKeystore","MetaMaskAccount","createMnemonic","strength","generateMnemonic","WalletAccount","ethNode","ecsign","finalHash","MetaMask","formatedTx","gas","arguments","prototype","hasOwnProperty","isArray","mobile","enabled_features","widgetbar","details","watchlist","watchlist_settings","default_symbols","brokerConfig","configFlags","fullscreen","favorites","chartTypes","_id","_ready","_readyHandlers","_onWindowResize","_autoResizeChart","_options","preset","concat","warn","loading_screen","_create","headerReady","_innerWindowLoaded","_innerWindow","onGrayedObjectClicked","_innerAPI","onShortcut","createShortcutAction","setLanguage","changeSymbol","splice","_iFrame","closePopupsAndDialogs","selectLineTool","selectedLineTool","save","saveChart","load","loadChart","extendedData","getSavedCharts","loadChartFromServer","saveChartToServer","removeChartFromServer","onContextMenu","createButton","showNoticeDialog","showConfirmDialog","showLoadChartDialog","showSaveAsChartDialog","symbolInterval","getSymbolInterval","mainSeriesPriceFormatter","getIntervals","getStudiesList","addCustomCSSFile","applyStudiesOverrides","watchList","chartsCount","layout","setLayout","layoutName","changeTheme","takeScreenshot","lockAllDrawingTools","hideAllDrawingTools","undoRedoState","tradingViewApi","contentWindow","innerHeight","_render","innerHTML","querySelector","widgetReady","initializationFinished","brokerFactory","disabledFeatures","enabledFeatures","restConfig","numeric_formatting","rss_news_feed","newsProvider","news_provider","loadLastChart","load_last_chart","saveLoadAdapter","save_load_adapter","settingsAdapter","settings_adapter","customIndicatorsUrl","indicators_file_name","saved_data","chartContent","studies_access","drawings_access","auto_save_delay","snapshot_url","study_count_limit","symbol_search_request_delay","defineProperty","SUCC","createBlakeHash","babyJub","poseidon","mod","subOrder","mulPointEscalar","Base8","strKey","prv","leInt2Buff","msgBuff","rBuff","A","R8","hm","S","sig","pubKey","R","inCurve","Pleft","Pright","addPoint","STRING","OPTION_NUMBER","URL","HEX","QUANTITY","PRIVATE_KEY","len","TX_HASH","ABI_METHOD","enum","RPC_TAG","TIMESTAMP","PROJECT_ID","LOOPRING_TOKEN","PRIVATE_KEY_BUFFER","CURRENCY","DEFAULT_BLOCK","CANCEL_ORDER_TYPE","shr","q","cta","d","base","rem","exp","isOdd","inSubgroup","P","x2","y2","one","packPoint","buff","greater","unpackPoint","_buff","greaterOrEquals","x","sqrt","neg"],"mappings":"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","file":"static/js/main.d36d84f4.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAABECAYAAADgHze4AAAKN2lDQ1BzUkdCIElFQzYxOTY2LTIuMQAAeJydlndUU9kWh8+9N71QkhCKlNBraFICSA29SJEuKjEJEErAkAAiNkRUcERRkaYIMijggKNDkbEiioUBUbHrBBlE1HFwFBuWSWStGd+8ee/Nm98f935rn73P3Wfvfda6AJD8gwXCTFgJgAyhWBTh58WIjYtnYAcBDPAAA2wA4HCzs0IW+EYCmQJ82IxsmRP4F726DiD5+yrTP4zBAP+flLlZIjEAUJiM5/L42VwZF8k4PVecJbdPyZi2NE3OMErOIlmCMlaTc/IsW3z2mWUPOfMyhDwZy3PO4mXw5Nwn4405Er6MkWAZF+cI+LkyviZjg3RJhkDGb+SxGXxONgAoktwu5nNTZGwtY5IoMoIt43kA4EjJX/DSL1jMzxPLD8XOzFouEiSniBkmXFOGjZMTi+HPz03ni8XMMA43jSPiMdiZGVkc4XIAZs/8WRR5bRmyIjvYODk4MG0tbb4o1H9d/JuS93aWXoR/7hlEH/jD9ld+mQ0AsKZltdn6h21pFQBd6wFQu/2HzWAvAIqyvnUOfXEeunxeUsTiLGcrq9zcXEsBn2spL+jv+p8Of0NffM9Svt3v5WF485M4knQxQ143bmZ6pkTEyM7icPkM5p+H+B8H/nUeFhH8JL6IL5RFRMumTCBMlrVbyBOIBZlChkD4n5r4D8P+pNm5lona+BHQllgCpSEaQH4eACgqESAJe2Qr0O99C8ZHA/nNi9GZmJ37z4L+fVe4TP7IFiR/jmNHRDK4ElHO7Jr8WgI0IABFQAPqQBvoAxPABLbAEbgAD+ADAkEoiARxYDHgghSQAUQgFxSAtaAYlIKtYCeoBnWgETSDNnAYdIFj4DQ4By6By2AE3AFSMA6egCnwCsxAEISFyBAVUod0IEPIHLKFWJAb5AMFQxFQHJQIJUNCSAIVQOugUqgcqobqoWboW+godBq6AA1Dt6BRaBL6FXoHIzAJpsFasBFsBbNgTzgIjoQXwcnwMjgfLoK3wJVwA3wQ7oRPw5fgEVgKP4GnEYAQETqiizARFsJGQpF4JAkRIauQEqQCaUDakB6kH7mKSJGnyFsUBkVFMVBMlAvKHxWF4qKWoVahNqOqUQdQnag+1FXUKGoK9RFNRmuizdHO6AB0LDoZnYsuRlegm9Ad6LPoEfQ4+hUGg6FjjDGOGH9MHCYVswKzGbMb0445hRnGjGGmsVisOtYc64oNxXKwYmwxtgp7EHsSewU7jn2DI+J0cLY4X1w8TogrxFXgWnAncFdwE7gZvBLeEO+MD8Xz8MvxZfhGfA9+CD+OnyEoE4wJroRIQiphLaGS0EY4S7hLeEEkEvWITsRwooC4hlhJPEQ8TxwlviVRSGYkNimBJCFtIe0nnSLdIr0gk8lGZA9yPFlM3kJuJp8h3ye/UaAqWCoEKPAUVivUKHQqXFF4pohXNFT0VFysmK9YoXhEcUjxqRJeyUiJrcRRWqVUo3RU6YbStDJV2UY5VDlDebNyi/IF5UcULMWI4kPhUYoo+yhnKGNUhKpPZVO51HXURupZ6jgNQzOmBdBSaaW0b2iDtCkVioqdSrRKnkqNynEVKR2hG9ED6On0Mvph+nX6O1UtVU9Vvuom1TbVK6qv1eaoeajx1UrU2tVG1N6pM9R91NPUt6l3qd/TQGmYaYRr5Grs0Tir8XQObY7LHO6ckjmH59zWhDXNNCM0V2ju0xzQnNbS1vLTytKq0jqj9VSbru2hnaq9Q/uE9qQOVcdNR6CzQ+ekzmOGCsOTkc6oZPQxpnQ1df11Jbr1uoO6M3rGelF6hXrtevf0Cfos/ST9Hfq9+lMGOgYhBgUGrQa3DfGGLMMUw12G/YavjYyNYow2GHUZPTJWMw4wzjduNb5rQjZxN1lm0mByzRRjyjJNM91tetkMNrM3SzGrMRsyh80dzAXmu82HLdAWThZCiwaLG0wS05OZw2xljlrSLYMtCy27LJ9ZGVjFW22z6rf6aG1vnW7daH3HhmITaFNo02Pzq62ZLde2xvbaXPJc37mr53bPfW5nbse322N3055qH2K/wb7X/oODo4PIoc1h0tHAMdGx1vEGi8YKY21mnXdCO3k5rXY65vTW2cFZ7HzY+RcXpkuaS4vLo3nG8/jzGueNueq5clzrXaVuDLdEt71uUnddd457g/sDD30PnkeTx4SnqWeq50HPZ17WXiKvDq/XbGf2SvYpb8Tbz7vEe9CH4hPlU+1z31fPN9m31XfKz95vhd8pf7R/kP82/xsBWgHcgOaAqUDHwJWBfUGkoAVB1UEPgs2CRcE9IXBIYMj2kLvzDecL53eFgtCA0O2h98KMw5aFfR+OCQ8Lrwl/GGETURDRv4C6YMmClgWvIr0iyyLvRJlESaJ6oxWjE6Kbo1/HeMeUx0hjrWJXxl6K04gTxHXHY+Oj45vipxf6LNy5cDzBPqE44foi40V5iy4s1licvvj4EsUlnCVHEtGJMYktie85oZwGzvTSgKW1S6e4bO4u7hOeB28Hb5Lvyi/nTyS5JpUnPUp2Td6ePJninlKR8lTAFlQLnqf6p9alvk4LTduf9ik9Jr09A5eRmHFUSBGmCfsytTPzMoezzLOKs6TLnJftXDYlChI1ZUPZi7K7xTTZz9SAxESyXjKa45ZTk/MmNzr3SJ5ynjBvYLnZ8k3LJ/J9879egVrBXdFboFuwtmB0pefK+lXQqqWrelfrry5aPb7Gb82BtYS1aWt/KLQuLC98uS5mXU+RVtGaorH1futbixWKRcU3NrhsqNuI2ijYOLhp7qaqTR9LeCUXS61LK0rfb+ZuvviVzVeVX33akrRlsMyhbM9WzFbh1uvb3LcdKFcuzy8f2x6yvXMHY0fJjpc7l+y8UGFXUbeLsEuyS1oZXNldZVC1tep9dUr1SI1XTXutZu2m2te7ebuv7PHY01anVVda926vYO/Ner/6zgajhop9mH05+x42Rjf2f836urlJo6m06cN+4X7pgYgDfc2Ozc0tmi1lrXCrpHXyYMLBy994f9Pdxmyrb6e3lx4ChySHHn+b+O31w0GHe4+wjrR9Z/hdbQe1o6QT6lzeOdWV0iXtjusePhp4tLfHpafje8vv9x/TPVZzXOV42QnCiaITn07mn5w+lXXq6enk02O9S3rvnIk9c60vvG/wbNDZ8+d8z53p9+w/ed71/LELzheOXmRd7LrkcKlzwH6g4wf7HzoGHQY7hxyHui87Xe4Znjd84or7ldNXva+euxZw7dLI/JHh61HXb95IuCG9ybv56Fb6ree3c27P3FlzF3235J7SvYr7mvcbfjT9sV3qID0+6j068GDBgztj3LEnP2X/9H686CH5YcWEzkTzI9tHxyZ9Jy8/Xvh4/EnWk5mnxT8r/1z7zOTZd794/DIwFTs1/lz0/NOvm1+ov9j/0u5l73TY9P1XGa9mXpe8UX9z4C3rbf+7mHcTM7nvse8rP5h+6PkY9PHup4xPn34D94Tz+49wZioAAAAJcEhZcwAALiMAAC4jAXilP3YAAAOMSURBVHic7ZpLSFRhFIDPuXeccXxR4OQ0pkm2CaRFtCgjI6O0oEXSQmphBoK7HpqO5SNBaoQkouyFIC16bTKUXkTvRZQtkyQ0xBLRksL3a+7pXMemmVGb/44DIfw/XO5/zv3Pf777v865w5h6eno+IGIChKFwPxa+tdvt9gxRG5PD4dgYDud66e3tzSKi/UZsTOFyHmqRABJAAkgACSABJIAEkABLGwCVagVKyrcBKFmAsN5isidbVIoZHKeXLH8G4PvQQDNdsg2HFWDG8YmKw1Ba6WQp9Y9+Ylq/kFWwmkUGwwKIjR9GJzXAyHANXYwdWDQAFo8nQUnlbf4I2CJoEcNARyEm5iCWufPorPooZAB0Tq6DCMtTriUasZu1tvFUtWCpVki1SoNhADw2kgCRUU/EnNN7IHjDb35c/17y6UUFBa6h0/2DXOp9QwDsvJE7SBJs3UYuLEan1sEQlwMgFB6JRiwaa6U6a48QAM/dXgB1tzAsYD4vvG5yKacZAuZAIC4Dc+QZruUJjoDiFHfudVLFEDADUabpzuv9RwIO8IIuDwqARRNrwGzebBjAC6ERQ1QzBPhDoAlM5tzgI2CKyPQnp7egaTVc0YQ5Cnuj6OrKKwwRy1KtD+CO4AAKpgVopkChYSMAsNy2Acv4lAI1OuBJmsgasPmLmMHD8krY+b9L/JIIRt/9JKJXgO5KMDIFXlt1F897hW/fwQE0+sjrwFejwGjXO7qwdoLnNR00jBMGQIgK0LQFB5iees7bkLw7AXErWFPv4ZGOHLCkEKjKXVaKQ/gWomdBAajO8gXLeOsBpHuViHt0CBjr1CGyQVUfG4egaZievCO4CDUXb6FmP5UOEZXaBH3dORCfGArELToX+VUIgGN4C48Cx3EMiAcsr0hugv7ufZCwKpchHwq5JvoFU+MnAawGouH4aD5HxNY5ERExGxKSH3CtU6wj4t2j5euRUJeEAeh8dB8nJJz7RcyTkCAf15Ap0IubdxUnJJ5cwBDAjLnL/AmdY5sAI296TkRD1v385ofYeegpmQfC+o2T0u1QUpHHw3/KNyldwEKPG9dhcKiG6uN+Bj4N6SgmrUo/BRsZ5MZsWr7Tk5ZDiictxy6W27nl679p+fwbZFGxYBbkxezl/bHa4XAUeFroZ5dtQftFA4SjSAAJIAEkgASQABJAAkiA/w/AiSR/7YA9HJ3pf+Hgq92IzW9oRhpjWoI5DwAAAABJRU5ErkJggg==\"","export default class Response {\n  constructor(errorCode, errorMsg) {\n    this[\"id\"] = \"1\";\n    this[\"result\"] = null;\n    this[\"error\"] = {\n      code: errorCode,\n      message: errorMsg,\n      data: null\n    };\n  }\n}\n\n// common/config/config.json index.js\n// loopring/ethereum/abi.js token.js transaction.js util.js\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text,\n} from 'rebass'\nimport { Table, Input, Icon } from 'antd';\n\nclass Pair extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: {}\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      activeTab: this.props.tabs[0]\n    })\n  }\n\n  async setActive (tab) {\n    await this.props.onChange(tab)\n    this.setState({\n      activeTab: tab\n    })\n  }\n\n  render() {\n    let { tabs, ...restProps } = this.props\n    return (\n      <Flex {...restProps} height={40} alignItems='center' justifyContent='flex-start' >\n        {\n          tabs.map(tab => (\n            <Flex key={tab.text} minWidth={80} height={40} alignItems='center' justifyContent='center'\n              sx={{\n                bg: tab.text === this.state.activeTab.text ? 'backgroundTint': 'background',\n                cursor: 'pointer'\n              }} onClick={() => this.setActive(tab)}>\n              <Text px={'8px'} fontSize={0} fontWeight={'bold'}>{tab.text}</Text>\n            </Flex>\n          ))\n        }\n        { this.props.children }\n      </Flex>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Pair);","import \"isomorphic-fetch\";\nimport crypto from \"crypto\";\n\nconst headers = {\n  \"Content-Type\": \"application/json\"\n};\n\nfunction checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  } else {\n    const error = new Error(response.statusText);\n    error[\"response\"] = response;\n    throw error;\n  }\n}\n\n/**\n * @description Supports single request and batch request;\n * @param host\n * @param options\n * @param timeOut\n * @returns {Promise}\n */\nfunction request(host: string, options: any, timeOut?: number) {\n  timeOut = timeOut || 15000;\n  const requestPromise = new Promise(resolve => {\n    if (options.body) {\n      options.headers = options.headers || headers;\n      options.body = JSON.stringify(options.body);\n    }\n    fetch(host, options)\n      .then(checkStatus)\n      .then(res => res.json())\n      .then(data => resolve(data))\n      .catch(e => {\n        resolve({ error: e });\n      });\n  });\n  const timeoutPromise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve({ error: { message: \"request time out\" } });\n    }, timeOut);\n  });\n  return Promise.race([requestPromise, timeoutPromise]);\n}\n\n/**\n * @description Returns a random hex string\n */\nexport function id() {\n  return crypto.randomBytes(8).toString(\"hex\");\n}\n\nexport default request;\n","import Schema from \"async-validator\";\nimport basicSchemas from \"./schemas\";\n\nconst schemas = {\n  basic: {\n    ...basicSchemas\n  }\n};\n\nlet handleErrors = (errors, fields) => {\n  let msgs = errors.map(err => err.message).join();\n  throw new Error(`data type invalid: ${msgs} \\n`);\n};\n\nlet validate = payload => {\n  let { type, value, onError, onSuccess } = payload;\n  let source = {};\n  let schema = {};\n\n  // fix bug: if value undefined or null\n  if (typeof value === \"undefined\") {\n    throw new Error(`data type invalid: ${type} should not be undefined`);\n  }\n  if (value === null) {\n    throw new Error(`data type invalid: ${type} should not be null`);\n  }\n\n  if (schemas[\"basic\"][type]) {\n    // validate one field , schema & source must just has one field\n    schema[type] = schemas[\"basic\"][type];\n    source[type] = value;\n  }\n\n  // TODO: if schema empty\n  let validator = new Schema(schema);\n  validator.validate(source, (errors, fields) => {\n    if (errors) {\n      console.log(\"validate start source\", source);\n      console.log(\"validate start schema\", schema);\n      if (onError) {\n        onError(errors, fields);\n      } else {\n        handleErrors(errors, fields);\n      }\n    } else {\n      if (onSuccess) {\n        onSuccess();\n      }\n    }\n  });\n};\n\nexport default {\n  validate\n};\n","import request from \"./request\";\nimport * as formatter from \"./formatter\";\nimport validator from \"./validator\";\nimport code from \"./code\";\nimport response from \"./response\";\nimport * as utils from \"./utils\";\n\nexport default {\n  formatter,\n  request,\n  validator,\n  code,\n  response,\n  utils\n};\n","// Using import {*} from 'ethereumjs-abi'; failed to import ethereumjs-abi\nvar abi = require(\"ethereumjs-abi\");\nimport {\n  addHexPrefix,\n  clearHexPrefix,\n  toBuffer,\n  toHex\n} from \"../../common/formatter\";\nimport BN from \"bn.js\";\n\nexport default class AbiFunction {\n  name: string;\n  inputTypes: string[];\n  inputs: any[];\n  outputTypes: string[];\n  outputs: any[];\n  constant: string;\n  methodAbiHash: string;\n\n  constructor({ inputs, name, outputs, constant }) {\n    this.name = name;\n    this.inputTypes = inputs.map(({ type }) => type);\n    this.inputs = inputs;\n    this.outputTypes = outputs.map(({ type }) => type);\n    this.outputs = outputs;\n    this.constant = constant;\n    this.methodAbiHash = toHex(abi.methodID(name, this.inputTypes));\n  }\n\n  /**\n   * @description Returns encoded methodId and inputs\n   * @param inputs Object, examples {owner:\"0x000...}\n   * @returns {string}\n   */\n  encodeInputs(inputs) {\n    const abiInputs = this.parseInputs(inputs);\n    return (\n      this.methodAbiHash +\n      clearHexPrefix(toHex(abi.rawEncode(this.inputTypes, abiInputs)))\n    );\n  }\n\n  /**\n   * @description decode ethereum jsonrpc response result\n   * @param outputs\n   * @returns {*}\n   */\n  decodeOutputs(outputs) {\n    return this.parseOutputs(\n      abi.rawDecode(this.outputTypes, toBuffer(outputs))\n    );\n  }\n\n  /**\n   * @description decode encoded inputs\n   * @param encoded\n   * @returns {*}\n   */\n  decodeEncodedInputs(encoded) {\n    return this.parseOutputs(\n      abi.rawDecode(this.inputTypes, toBuffer(addHexPrefix(encoded)))\n    );\n  }\n\n  parseInputs(inputs = {}) {\n    return this.inputs.map(({ name, type }) => {\n      if (inputs[name] === undefined) {\n        throw new Error(`Parameter ${name} of type ${type} is required!`);\n      }\n      return inputs[name];\n    });\n  }\n\n  parseOutputs(outputs) {\n    return outputs.map(output => {\n      if (output instanceof BN) {\n        return toHex(output);\n      }\n      return output;\n    });\n  }\n}\n","import AbiFunction from \"./AbiFunction\";\nimport { toHex } from \"../../common/formatter\";\nvar ethereumjs_abi = require(\"ethereumjs-abi\");\n\nexport default class Contract {\n  abiFunctions: any;\n\n  constructor(abi) {\n    const funAbi = abi.filter(({ type }) => type === \"function\");\n    this.abiFunctions = funAbi.reduce((acc, item) => {\n      const inputTypes = item.inputs.map(({ type }) => type);\n      const key = `${item.name}(${inputTypes.toString()})`;\n      const methodHash = ethereumjs_abi.methodID(item.name, inputTypes);\n      return {\n        ...acc,\n        [item.name]: new AbiFunction(item),\n        [key]: new AbiFunction(item),\n        [methodHash]: new AbiFunction(item)\n      };\n    });\n  }\n\n  /**\n   * @description Encodes inputs data according to  ethereum abi\n   * @param method string can be full method or just method name, examples: 'balanceOf' or balanceOf(address)\n   * @param inputs array\n   * @returns {*|string}\n   */\n  encodeInputs(method, inputs) {\n    const abiFunction = this.abiFunctions[method];\n    if (abiFunction) {\n      return abiFunction.encodeInputs(inputs);\n    } else {\n      throw new Error(`No  ${method} method according to abi `);\n    }\n  }\n\n  /**\n   * @description Decodes outputs\n   * @param method string can be full method or just method name, examples: 'balanceOf' or balanceOf(address)\n   * @param outputs string\n   * @returns {*}\n   */\n  decodeOutputs(method, outputs) {\n    const abiFunction = this.abiFunctions[method];\n    if (abiFunction) {\n      return abiFunction.decodeOutputs(outputs);\n    } else {\n      throw new Error(`No  ${method} method according to abi `);\n    }\n  }\n\n  /**\n   * @description Decode encoded method and inputs\n   * @param encode string | Buffer\n   * @returns {*}\n   */\n  decodeEncodeInputs(encode) {\n    encode = toHex(encode);\n    const methodId = encode.slice(0, 10);\n    const abiFunction = this.abiFunctions[methodId];\n    if (abiFunction) {\n      return abiFunction.decodeEncodedInputs(encode.slice(10));\n    } else {\n      throw new Error(`No corresponding method according to abi `);\n    }\n  }\n}\n","import Contract from \"./Contract\";\n\nimport erc20Abi from \"../../config/abis/erc20.json\";\nimport wethAbi from \"../../config/abis/weth.json\";\nimport airdropAbi from \"../../config/abis/airdrop.json\";\nimport exchangeAbi from \"../../config/abis/exchange.json\";\n\nconst WETH = new Contract(wethAbi);\nconst ERC20Token = new Contract(erc20Abi);\nconst AirdropContract = new Contract(airdropAbi);\nconst ExchangeContract = new Contract(exchangeAbi);\n\nexport default {\n  ERC20Token,\n  WETH,\n  AirdropContract,\n  ExchangeContract\n};\n","import AbiFunction from \"./AbiFunction\";\nimport Contract from \"./Contract\";\nimport Contracts from \"./Contracts\";\n\nexport default {\n  AbiFunction,\n  Contract,\n  Contracts\n};\n","import validator from \"../common/validator\";\nimport request from \"../common/request\";\n\nimport { sha3 } from \"ethereumjs-util\";\n\nvar host = \"http://localhost:8545\";\n\nexport function updateHost(newValue) {\n  host = newValue;\n}\n\nexport async function getTransactionCount(address, tag) {\n  try {\n    validator.validate({ value: address, type: \"ADDRESS\" });\n  } catch (e) {\n    throw new Error(\"Invalid Address\");\n  }\n  tag = tag || \"pending\";\n  if (tag) {\n    try {\n      validator.validate({ value: tag, type: \"RPC_TAG\" });\n    } catch (e) {\n      throw new Error(\"Invalid tag, must be one of latest, pending, earliest\");\n    }\n  }\n  const params = [address, tag];\n  const body = {};\n  body[\"method\"] = \"eth_getTransactionCount\";\n  body[\"params\"] = params;\n  // Set id\n  body[\"id\"] = 1;\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\nexport async function getGasPrice() {\n  const params = [];\n  const body = {};\n  body[\"method\"] = \"eth_gasPrice\";\n  body[\"params\"] = params;\n  // Set id\n  body[\"id\"] = 1;\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\nexport async function estimateGas(tx) {\n  const body = {};\n  body[\"method\"] = \"eth_estimateGas\";\n  body[\"params\"] = [tx];\n  // Set id\n  body[\"id\"] = 1;\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\nexport async function getAccountBalance(address, tag?) {\n  try {\n    validator.validate({ value: address, type: \"ADDRESS\" });\n  } catch (e) {\n    throw new Error(\"Invalid Address\");\n  }\n  tag = tag || \"pending\";\n  if (tag) {\n    try {\n      validator.validate({ value: tag, type: \"RPC_TAG\" });\n    } catch (e) {\n      throw new Error(\"Invalid tag, must be one of latest, pending,earliest\");\n    }\n  }\n  const params = [address, tag];\n  const body = {};\n  body[\"method\"] = \"eth_getBalance\";\n  body[\"params\"] = params;\n  // Set id\n  body[\"id\"] = 1;\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\nexport async function getTransactionByhash(hash) {\n  try {\n    validator.validate({ value: hash, type: \"ETH_DATA\" });\n  } catch (e) {\n    throw new Error(\"Invalid Transaction Hash\");\n  }\n  const params = [hash];\n  const body = {};\n  body[\"method\"] = \"eth_getTransactionByHash\";\n  body[\"params\"] = params;\n  // Set id\n  body[\"id\"] = 1;\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\nexport async function getTransactionRecipt(hash) {\n  try {\n    validator.validate({ value: hash, type: \"ETH_DATA\" });\n  } catch (e) {\n    throw new Error(\"Invalid Transaction Hash\");\n  }\n  const params = [hash];\n  const body = {};\n  body[\"method\"] = \"eth_getTransactionReceipt\";\n  body[\"params\"] = params;\n  // Set id\n  body[\"id\"] = 1;\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\nexport function isValidEthAddress(address) {\n  try {\n    validator.validate({ value: address, type: \"ADDRESS\" });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport function getHash(message) {\n  return sha3(message);\n}\n","import validator from \"./validator\";\nimport request, { id } from \"../common/request\";\nimport Response from \"../common/response\";\nimport code from \"../common/code\";\n\nexport default class Eth {\n  host: string;\n\n  constructor(host) {\n    this.host = host;\n  }\n\n  getTransactionCount({ address, tag }) {\n    return getTransactionCount(this.host, { address, tag });\n  }\n\n  sendRawTransaction(signedTx) {\n    return sendRawTransaction(this.host, signedTx);\n  }\n\n  getGasPrice() {\n    return getGasPrice(this.host);\n  }\n\n  estimateGas(tx) {\n    return estimateGas(this.host, tx);\n  }\n\n  getAccountBalance({ address, tag }) {\n    return getAccountBalance(this.host, { address, tag });\n  }\n\n  getTransactionByhash(txHash) {\n    return getTransactionByhash(this.host, txHash);\n  }\n\n  call({ tx, tag }) {\n    return call(this.host, { tx, tag });\n  }\n}\n\n/**\n * @description Returns the number of transactions sent from an address.\n * @param host\n * @param address\n * @param tag\n * @returns {Promise}\n */\nexport function getTransactionCount(host, { address, tag }) {\n  tag = tag || \"pending\";\n  try {\n    validator.validate({ value: address, type: \"ETH_ADDRESS\" });\n    validator.validate({ value: tag, type: \"RPC_TAG\" });\n  } catch (e) {\n    return Promise.resolve(\n      new Response(code.PARAM_INVALID.code, code.PARAM_INVALID.msg)\n    );\n  }\n  const params = [address, tag];\n  const body = {};\n  body[\"method\"] = \"eth_getTransactionCount\";\n  body[\"params\"] = params;\n  body[\"id\"] = id();\n  body[\"jsonrpc\"] = \"2.0\";\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\n/**\n * @description Sends signed ethereum tx\n * @param host\n * @param signedTx\n * @returns {Promise}\n */\nexport function sendRawTransaction(host, signedTx) {\n  const body = {};\n  body[\"method\"] = \"eth_sendRawTransaction\";\n  body[\"params\"] = [signedTx];\n  body[\"id\"] = id();\n  body[\"jsonrpc\"] = \"2.0\";\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\n/**\n * @description Returns the current price per gas in wei.\n * @param host\n * @returns {Promise}\n */\nexport function getGasPrice(host) {\n  const params = [];\n  const body = {};\n  body[\"method\"] = \"eth_gasPrice\";\n  body[\"params\"] = params;\n  body[\"id\"] = id();\n  body[\"jsonrpc\"] = \"2.0\";\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\n/**\n * @description Generates and returns an estimate of how much gas is necessary to allow the transaction to complete.\n * @param host\n * @param tx\n * @returns {Promise}\n */\nexport function estimateGas(host, tx) {\n  const body = {};\n  body[\"method\"] = \"eth_estimateGas\";\n  body[\"params\"] = [tx];\n  body[\"id\"] = id();\n  body[\"jsonrpc\"] = \"2.0\";\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\n/**\n * @description Returns the ethereum balance of the account of given address.\n * @param host\n * @param address\n * @param tag\n * @returns {Promise}\n */\nexport function getAccountBalance(host, { address, tag }) {\n  tag = tag || \"latest\";\n  if (tag) {\n    try {\n      validator.validate({ value: tag, type: \"RPC_TAG\" });\n      validator.validate({ value: address, type: \"ETH_ADDRESS\" });\n    } catch (e) {\n      return Promise.resolve(\n        new Response(code.PARAM_INVALID.code, code.PARAM_INVALID.msg)\n      );\n    }\n  }\n  const params = [address, tag];\n  const body = {};\n  body[\"method\"] = \"eth_getBalance\";\n  body[\"params\"] = params;\n  body[\"id\"] = id();\n  body[\"jsonrpc\"] = \"2.0\";\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\n/**\n * @description Returns the information about a transaction requested by transaction hash.\n * @param host\n * @param hash ethereum tx hash\n * @returns {Promise}\n */\nexport function getTransactionByhash(host, hash) {\n  try {\n    validator.validate({ value: hash, type: \"ETH_DATA\" });\n  } catch (e) {\n    return Promise.resolve(\n      new Response(code.PARAM_INVALID.code, code.PARAM_INVALID.msg)\n    );\n  }\n  const params = [hash];\n  const body = {};\n  body[\"method\"] = \"eth_getTransactionByHash\";\n  body[\"params\"] = params;\n  body[\"id\"] = id();\n  body[\"jsonrpc\"] = \"2.0\";\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\n/**\n * @description Executes a new message call immediately without creating a transaction on the block chain.\n * @param host\n * @param tx\n * @param tag\n * @returns {Promise}\n */\nexport function call(host, { tx, tag }) {\n  tag = tag || \"latest\";\n  if (tag) {\n    try {\n      validator.validate({ value: tag, type: \"RPC_TAG\" });\n    } catch (e) {\n      return Promise.resolve(\n        new Response(code.PARAM_INVALID.code, code.PARAM_INVALID.msg)\n      );\n    }\n  }\n  const params = [tx, tag];\n  const body = {};\n  body[\"method\"] = \"eth_call\";\n  body[\"params\"] = params;\n  body[\"id\"] = id();\n  body[\"jsonrpc\"] = \"2.0\";\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n","import { getTransactionCount } from \"./utils\";\nimport { toNumber } from \"../common/formatter\";\nimport validator from \"./validator\";\n\nconst setWallet = wallet => {\n  const wallets =\n    typeof localStorage !== \"undefined\" && localStorage.wallet\n      ? JSON.parse(localStorage.wallet)\n      : [];\n  const otherWallets = wallets.filter(\n    w => w.address.toLowerCase() !== wallet.address.toLowerCase()\n  );\n  otherWallets.push({\n    address: wallet.address,\n    nonce: toNumber(wallet.nonce) + 1\n  });\n  if (typeof localStorage !== \"undefined\") {\n    localStorage.wallet = JSON.stringify(otherWallets);\n  }\n};\n\nconst getWallet = address => {\n  const wallets =\n    typeof localStorage !== \"undefined\" && localStorage.wallet\n      ? JSON.parse(localStorage.wallet)\n      : [];\n  console.log(\"get wallets\");\n  return wallets.find(\n    wallet => wallet.address.toLowerCase() === address.toLowerCase()\n  );\n};\n\nconst getNonce = async address => {\n  try {\n    validator.validate({ value: address, type: \"ADDRESS\" });\n    const nonce =\n      toNumber((await getTransactionCount(address, \"pending\"))[\"result\"]) || 0;\n    const localNonce =\n      getWallet(address) && getWallet(address).nonce\n        ? getWallet(address).nonce\n        : 0;\n    return Math.max(nonce, localNonce);\n  } catch (e) {\n    throw new Error(e.message);\n  }\n};\n\nconst storeUnlockedAddress = (unlockType, address) => {\n  localStorage.unlockedType = unlockType;\n  localStorage.unlockedAddress = address;\n};\n\nconst getUnlockedAddress = () => {\n  return localStorage.unlockedAddress || \"\";\n};\n\nconst getUnlockedType = () => {\n  return localStorage.unlockedType || \"\";\n};\n\nconst clearUnlockedAddress = () => {\n  localStorage.unlockedType = \"\";\n  localStorage.unlockedAddress = \"\";\n};\n\nconst isInWhiteList = address => {};\n\nexport default {\n  setWallet,\n  getWallet,\n  isInWhiteList,\n  getNonce,\n  storeUnlockedAddress,\n  getUnlockedAddress,\n  getUnlockedType,\n  clearUnlockedAddress\n};\n","import abi from \"./contracts\";\nimport * as account from \"./walletAccount\";\nimport * as keystore from \"./keystore\";\nimport * as metamask from \"./metaMask\";\nimport * as mnemonic from \"./mnemonic\";\nimport * as utils from \"./utils\";\nimport validator from \"./validator\";\nimport eth from \"./eth\";\nimport wallet from \"./wallet\";\n\nexport default {\n  abi,\n  account,\n  keystore,\n  mnemonic,\n  metamask,\n  eth,\n  wallet,\n  validator,\n  utils\n};\n","//const config = require('./config.json');\nconst data = require(\"./data\");\nconst fm = require(\"../common/formatter\");\nconst config = data.configs;\nconst fees = config.fees;\nconst txs = config.txs;\n\nfunction requestWhiteList() {\n  const url =\n    \"//raw.githubusercontent.com/Loopring/mock-relay-data/master/whiteList.json\";\n  return fetch(url, { method: \"GET\" }).then(res => res.json());\n}\n\nasync function isinWhiteList(address) {\n  return await requestWhiteList().then(whiteList => {\n    const result = whiteList.find(\n      add => add.toLowerCase() === address.toLowerCase()\n    );\n    return !!result;\n  });\n}\n\nfunction getChainId() {\n  return config.chainId;\n}\n\nfunction getExchangeId() {\n  return config.exchangeId;\n}\n\nfunction getLabel() {\n  return config.label;\n}\n\nfunction getMaxFeeBips() {\n  return config.maxFeeBips;\n}\n\nfunction getTokenBySymbol(symbol) {\n  if (!symbol) {\n    return {};\n  }\n  return (\n    getTokens().find(\n      token => token.symbol.toLowerCase() === symbol.toLowerCase()\n    ) || {}\n  );\n}\n\nfunction getTokenByAddress(address) {\n  if (!address) {\n    return {};\n  }\n  return getTokens().find(\n    token => token.address.toLowerCase() === address.toLowerCase()\n  );\n}\n\nfunction getCustomTokens() {\n  return getTokens().filter(token => token.custom);\n}\n\nfunction getTokens() {\n  return config.tokens;\n}\n\nfunction fromWEI(symbol, valueInWEI, precision = 4) {\n  const token = getTokenBySymbol(symbol);\n  if (!token) {\n    return 0;\n  }\n  const value = fm.toBig(valueInWEI).div(\"1e\" + token.digits);\n  return value.toNumber().toFixed(precision);\n}\n\nfunction toWEI(symbol, value) {\n  const token = getTokenBySymbol(symbol);\n  if (!token) {\n    return 0;\n  }\n  const valueInBN = fm.toBig(value).times(\"1e\" + token.digits);\n  return valueInBN.toString(10);\n}\n\nfunction getMarketByPair(pair) {\n  if (pair) {\n    const pairArr = pair.split(\"-\");\n    if (pairArr && pairArr.length === 2) {\n      return getMarketBySymbol(pairArr[0], pairArr[1]);\n    }\n  }\n}\n\nfunction isSupportedMarket(market) {\n  if (!market) {\n    return false;\n  }\n  const pair = market.split(\"-\");\n  if (pair.length !== 2) {\n    return false;\n  }\n  return getMarkets().find(m => {\n    return (\n      (m.baseToken === pair[0].toUpperCase() &&\n        m.quoteToken === pair[1].toUpperCase()) ||\n      (m.baseToken === pair[1].toUpperCase() &&\n        m.quoteToken === pair[0].toUpperCase())\n    );\n  });\n}\n\nfunction getMarketBySymbol(baseToken, quoteToken) {\n  if (baseToken && quoteToken) {\n    return (\n      getMarkets().find(market => {\n        return (\n          (market.baseToken === baseToken &&\n            market.quoteToken === quoteToken) ||\n          (market.baseToken === quoteToken && market.quoteToken === baseToken)\n        );\n      }) || {\n        pricePrecision: 8\n      }\n    );\n  } else {\n    return {\n      pricePrecision: 8\n    };\n  }\n}\n\nfunction getMarketsByTokenR(token) {\n  return getMarkets().filter(item => item.quoteToken === token);\n}\n\nfunction getMarketsByTokenL(token) {\n  return getMarkets().filter(item => item.baseToken === token);\n}\n\nfunction getTokenSupportedMarkets(token) {\n  const leftMarket = getMarketsByTokenL(token);\n  const rightMarket = getMarketsByTokenR(token);\n  return [...leftMarket, ...rightMarket];\n}\n\nfunction getMarkets() {\n  return config.markets;\n}\n\nfunction getGasLimitByType(type) {\n  if (type) {\n    return txs.find(tx => type === tx.type);\n  }\n}\n\nfunction getFeeByType(type) {\n  if (type) {\n    return fees.find(fee => type === fee.type);\n  }\n}\n\nfunction getWalletAddress() {\n  return config.walletAddress;\n}\n\nfunction getExchangeAddress() {\n  return config.exchangeAddress;\n}\n\nfunction getWallets() {\n  return data.wallets;\n}\n\nfunction getMaxAmountInWEI() {\n  return config.maxAmount;\n}\n\nexport default {\n  getTokenBySymbol,\n  getTokenByAddress,\n  getTokens,\n  getMarketBySymbol,\n  getMarketByPair,\n  getGasLimitByType,\n  getFeeByType,\n  isinWhiteList,\n  getChainId,\n  getExchangeId,\n  getLabel,\n  getMaxFeeBips,\n  isSupportedMarket,\n  getMarketsByTokenR,\n  getTokenSupportedMarkets,\n  getMarkets,\n  getWalletAddress,\n  getExchangeAddress,\n  getMaxAmountInWEI,\n  getWallets,\n  fromWEI,\n  toWEI\n};\n","import EthTransaction from \"ethereumjs-tx\";\nimport validator from \"./validator\";\nimport { addHexPrefix, toBuffer, toHex } from \"../common/formatter\";\nimport { getGasPrice, getTransactionCount } from \"./utils\";\nimport request from \"../common/request\";\nimport { configs } from \"../config/data\";\n\n// HACK: What is the host in wallet/ethereum?\nconst host = \"host\";\n\nexport default class Transaction {\n  raw: string;\n  signed: string;\n\n  constructor(rawTx) {\n    validator.validate({ value: rawTx, type: \"BASIC_TX\" });\n    this.raw = rawTx;\n  }\n\n  setGasLimit() {\n    this.raw[\"gasLimit\"] = this.raw[\"gasLimit\"] || configs[\"defaultGasLimit\"];\n  }\n\n  async setGasPrice() {\n    this.raw[\"gasPrice\"] =\n      this.raw[\"gasPrice\"] || (await getGasPrice())[\"result\"];\n  }\n\n  setChainId() {\n    this.raw[\"chainId\"] = this.raw[\"chainId\"] || configs[\"chainId\"] || 1;\n  }\n\n  async setNonce(address, tag) {\n    tag = tag || \"pending\";\n    this.raw[\"nonce\"] =\n      this.raw[\"nonce\"] || (await getTransactionCount(address, tag))[\"result\"];\n  }\n\n  hash() {\n    validator.validate({ value: this.raw, type: \"TX\" });\n    return new EthTransaction(this.raw).hash();\n  }\n\n  async sign({ privateKey, walletType, path }) {\n    try {\n      validator.validate({ value: this.raw, type: \"TX\" });\n    } catch (e) {\n      await this.complete();\n    }\n    const ethTx = new EthTransaction(this.raw);\n\n    let signed;\n    if (privateKey) {\n      try {\n        if (typeof privateKey === \"string\") {\n          validator.validate({ value: privateKey, type: \"PRIVATE_KEY\" });\n          privateKey = toBuffer(addHexPrefix(privateKey));\n        } else {\n          validator.validate({ value: privateKey, type: \"PRIVATE_KEY_BUFFER\" });\n        }\n      } catch (e) {\n        throw new Error(\"Invalid private key\");\n      }\n\n      ethTx.sign(privateKey);\n      signed = toHex(ethTx.serialize());\n    } else {\n      throw new Error(\"Invalid private key\");\n    }\n    this.signed = signed;\n    return signed;\n  }\n\n  async send({ privateKey, walletType, path }) {\n    if (!this.signed) {\n      await this.sign({ privateKey, walletType, path });\n    }\n    let body = {};\n    body[\"method\"] = \"eth_sendRawTransaction\";\n    body[\"params\"] = [this.signed];\n    return request(host, {\n      method: \"post\",\n      body\n    });\n  }\n\n  async sendRawTx(signedTx) {\n    let body = {};\n    body[\"method\"] = \"eth_sendRawTransaction\";\n    body[\"params\"] = [signedTx];\n    return request(host, {\n      method: \"post\",\n      body\n    });\n  }\n\n  async complete() {\n    this.setChainId();\n    this.setGasLimit();\n    await this.setGasPrice();\n  }\n}\n","import BN from \"bn.js\";\n\n/**\n * The keypair data for EdDSA.\n */\nexport class KeyPair {\n  publicKeyX: string;\n  publicKeyY: string;\n  secretKey: string;\n}\n\nexport class DexAccount {\n  accountId: number;\n  keyPair: KeyPair;\n  nonce?: number;\n}\n\n/**\n * The signature data for EdDSA.\n */\nexport interface Signature {\n  Rx: string;\n  Ry: string;\n  s: string;\n}\n\nexport class WithdrawalRequest {\n  account: DexAccount;\n  token: string;\n  tokenId?: number;\n  amount: string;\n  amountInBN?: BN;\n  tokenF: string;\n  tokenFId?: number;\n  amountF: string;\n  amountFInBN?: BN;\n  label?: number;\n  signature?: Signature;\n  hash?: string;\n}\n\nexport class OrderRequest {\n  owner: string;\n  accountId: number;\n  exchangeId: number;\n  keyPair: KeyPair;\n\n  tokenS: string;\n  tokenB: string;\n  tokenSId: number;\n  tokenBId: number;\n\n  amountS: string;\n  amountB: string;\n  amountSInBN: BN;\n  amountBInBN: BN;\n\n  orderId: number;\n\n  label: number;\n\n  allOrNone?: boolean;\n  validSince: number;\n  validUntil: number;\n  maxFeeBips: number;\n  buy?: boolean;\n\n  feeBips: number;\n  rebateBips?: number;\n\n  hash?: string;\n  signatureRx?: string;\n  signatureRy?: string;\n  signatureS?: string;\n\n  [key: string]: any;\n}\n\n// must be cost by circuit -- NOT recommend\nexport class CancelRequest {\n  account: DexAccount;\n  orderToken: string;\n  orderTokenId?: number;\n  orderId: number;\n  tokenF: string;\n  tokenFId?: number;\n  amountF: string;\n  amountFInBN?: BN;\n  label?: number;\n  signature?: Signature;\n}\n\nexport class GetAPIKeyRequest {\n  account: DexAccount;\n  signature?: Signature;\n}\n\nexport class SignAPIKeyRequest {\n  accountId: number;\n  publicKeyX: string;\n  publicKeyY: string;\n}\n\nexport class FlexCancelRequest {\n  account: DexAccount;\n  orderHash?: string;\n  clientOrderId?: string;\n  signature?: Signature;\n}\n\nexport class SignFlexCancelRequest {\n  accountId: number;\n  orderHash?: string;\n  clientOrderId?: string;\n}\n","import { EdDSA } from \"../lib/sign/eddsa\";\nimport { ethereum } from \"../lib/wallet\";\nimport * as fm from \"../lib/wallet/common/formatter\";\nimport { keccak } from \"ethereumjs-util\";\nimport config from \"../lib/wallet/config\";\nimport Transaction from \"../lib/wallet/ethereum/transaction\";\nimport { WalletAccount } from \"../lib/wallet/ethereum/walletAccount\";\nimport {\n  CancelRequest,\n  FlexCancelRequest,\n  GetAPIKeyRequest,\n  OrderRequest,\n  SignAPIKeyRequest,\n  SignFlexCancelRequest,\n  WithdrawalRequest\n} from \"../model/types\";\nimport * as Poseidon from \"../lib/sign/poseidon\";\nimport sha256 from \"crypto-js/sha256\";\n\nconst assert = require(\"assert\");\n\nexport class Exchange {\n  private currentWalletAccount: WalletAccount;\n\n  public generateKeyPair(seed: string) {\n    return EdDSA.generateKeyPair(seed);\n  }\n\n  public verifyPassword(publicKeyX: string, publicKeyY: string, seed: string) {\n    const keyPair = this.generateKeyPair(seed);\n    return (\n      keyPair.publicKeyX === publicKeyX && keyPair.publicKeyY === publicKeyY\n    );\n  }\n\n  public createOrUpdateAccount(\n    wallet: WalletAccount,\n    password: string,\n    nonce: number,\n    gasPrice: number,\n    permission: Buffer\n  ) {\n    try {\n      let hash = keccak(\"Loopring\" + wallet.getAddress().toLowerCase() + password)\n      const keyPair = EdDSA.generateKeyPair(hash);\n      this.currentWalletAccount = wallet;\n      const transaction = this.createAccountAndDeposit(\n        keyPair.publicKeyX,\n        keyPair.publicKeyY,\n        \"\",\n        \"0\",\n        permission,\n        nonce,\n        gasPrice\n      );\n      return {\n        rawTx: transaction,\n        keyPair: keyPair\n      };\n    } catch (err) {\n      console.error(\"Failed in method updateAccount. Error: \", err);\n      throw err;\n    }\n  }\n\n  private createAccountAndDeposit(\n    publicX: string,\n    publicY: string,\n    symbol: string,\n    amount: string,\n    permission: Buffer,\n    nonce: number,\n    gasPrice: number\n  ) {\n    try {\n      let address, value: string;\n      const token = config.getTokenBySymbol(symbol);\n\n      if (JSON.stringify(token) === \"{}\") {\n        address = \"0x0\";\n        value = \"0\";\n      } else {\n        address = token.address;\n        value = fm.toHex(fm.toBig(amount).times(\"1e\" + token.digits));\n      }\n\n      const data = ethereum.abi.Contracts.ExchangeContract.encodeInputs(\n        \"updateAccountAndDeposit\",\n        {\n          pubKeyX: fm.toHex(fm.toBN(publicX)),\n          pubKeyY: fm.toHex(fm.toBN(publicY)),\n          tokenAddress: address,\n          amount: value,\n          permission: permission\n        }\n      );\n\n      return new Transaction({\n        to: config.getExchangeAddress(),\n        value: fm.toHex(config.getFeeByType(\"create\").feeInWEI),\n        data: data,\n        chainId: config.getChainId(),\n        nonce: fm.toHex(nonce),\n        gasPrice: fm.toHex(fm.fromGWEI(gasPrice)),\n        gasLimit: fm.toHex(config.getGasLimitByType(\"create\").gasInWEI)\n      });\n    } catch (err) {\n      console.error(\"Failed in method createOrUpdateAccount. Error: \", err);\n      throw err;\n    }\n  }\n\n  public deposit(\n    wallet: WalletAccount,\n    symbol: string,\n    amount: string,\n    nonce: number,\n    gasPrice: number\n  ) {\n    let to, value, data: string;\n    try {\n      const token = config.getTokenBySymbol(symbol);\n      const fee = config.getFeeByType(\"deposit\").feeInWEI;\n      value = fm.toBig(amount).times(\"1e\" + token.digits);\n\n      if (wallet.getAddress()) {\n        this.currentWalletAccount = wallet;\n        if (symbol === \"ETH\") {\n          to = \"0x0\";\n          data = ethereum.abi.Contracts.ExchangeContract.encodeInputs(\n            \"deposit\",\n            {\n              tokenAddress: to,\n              amount: fm.toHex(value)\n            }\n          );\n          value = value.plus(fee);\n        } else {\n          to = token.address;\n          data = ethereum.abi.Contracts.ExchangeContract.encodeInputs(\n            \"deposit\",\n            {\n              tokenAddress: to,\n              amount: fm.toHex(value)\n            }\n          );\n          value = fee;\n        }\n\n        return new Transaction({\n          to: config.getExchangeAddress(),\n          value: fm.toHex(value),\n          data: data,\n          chainId: config.getChainId(),\n          nonce: fm.toHex(nonce),\n          gasPrice: fm.toHex(fm.fromGWEI(gasPrice)),\n          gasLimit: fm.toHex(config.getGasLimitByType(\"depositTo\").gasInWEI)\n        });\n      }\n    } catch (err) {\n      console.error(\"Failed in method deposit. Error: \", err);\n      throw err;\n    }\n  }\n\n  public withdraw(\n    wallet: WalletAccount,\n    symbol: string,\n    amount: string,\n    nonce: number,\n    gasPrice: number\n  ) {\n    let to, value, data: string;\n    try {\n      const token = config.getTokenBySymbol(symbol);\n      const fee = config.getFeeByType(\"withdraw\").feeInWEI;\n      value = fm.toBig(amount).times(\"1e\" + token.digits);\n\n      if (wallet.getAddress()) {\n        this.currentWalletAccount = wallet;\n        to = symbol === \"ETH\" ? \"0x0\" : token.address;\n        data = ethereum.abi.Contracts.ExchangeContract.encodeInputs(\n          \"withdraw\",\n          {\n            tokenAddress: to,\n            amount: fm.toHex(value)\n          }\n        );\n        value = fee;\n        return new Transaction({\n          to: config.getExchangeAddress(),\n          value: fm.toHex(value),\n          data: data,\n          chainId: config.getChainId(),\n          nonce: fm.toHex(nonce),\n          gasPrice: fm.toHex(fm.fromGWEI(gasPrice)),\n          gasLimit: fm.toHex(config.getGasLimitByType(\"withdrawFrom\").gasInWEI)\n        });\n      }\n    } catch (err) {\n      console.error(\"Failed in method withdraw. Error: \", err);\n      throw err;\n    }\n  }\n\n  public submitWithdrawal(withdrawal: WithdrawalRequest) {\n    let token, feeToken;\n    if (!withdrawal.token.startsWith(\"0x\")) {\n      token = config.getTokenBySymbol(withdrawal.token);\n    } else {\n      token = config.getTokenByAddress(withdrawal.token);\n    }\n    if (!withdrawal.tokenF.startsWith(\"0x\")) {\n      feeToken = config.getTokenBySymbol(withdrawal.tokenF);\n    } else {\n      feeToken = config.getTokenByAddress(withdrawal.tokenF);\n    }\n    withdrawal.tokenId = token.id;\n    withdrawal.token = token.address;\n    withdrawal.amountInBN = config.toWEI(token.symbol, withdrawal.amount);\n    withdrawal.amount = withdrawal.amountInBN.toString(10);\n\n    withdrawal.tokenFId = feeToken.id;\n    withdrawal.tokenF = feeToken.address;\n    withdrawal.amountFInBN = config.toWEI(feeToken.symbol, withdrawal.amountF);\n    withdrawal.amountF = withdrawal.amountFInBN.toString(10);\n\n    withdrawal.label =\n      withdrawal.label !== undefined ? withdrawal.label : config.getLabel();\n    return this.signWithdrawal(withdrawal);\n  }\n\n  public signWithdrawal(withdrawal: WithdrawalRequest) {\n    if (withdrawal.signature !== undefined) {\n      return;\n    }\n    const account = withdrawal.account;\n    const hasher = Poseidon.createHash(9, 6, 53);\n\n    // Calculate hash\n    const inputs = [\n      config.getExchangeId(),\n      account.accountId,\n      withdrawal.tokenId,\n      withdrawal.amountInBN,\n      withdrawal.tokenFId,\n      withdrawal.amountFInBN,\n      withdrawal.label,\n      account.nonce\n    ];\n    const hash = hasher(inputs).toString(10);\n\n    // Create signature\n    withdrawal.hash = hash;\n    withdrawal.signature = EdDSA.sign(account.keyPair.secretKey, hash);\n\n    // Verify signature\n    const success = EdDSA.verify(hash, withdrawal.signature, [\n      account.keyPair.publicKeyX,\n      account.keyPair.publicKeyY\n    ]);\n    assert(success, \"Failed to verify signature\");\n    return withdrawal;\n  }\n\n  public signOrder(order: OrderRequest) {\n    if (order.signature !== undefined) {\n      return;\n    }\n    const hasher = Poseidon.createHash(14, 6, 53);\n\n    // Calculate hash\n    const inputs = [\n      config.getExchangeId(),\n      order.orderId,\n      order.accountId,\n      order.tokenSId,\n      order.tokenBId,\n      order.amountSInBN,\n      order.amountBInBN,\n      order.allOrNone ? 1 : 0,\n      order.validSince,\n      order.validUntil,\n      order.maxFeeBips,\n      order.buy ? 1 : 0,\n      order.label\n    ];\n    order.hash = hasher(inputs).toString(10);\n\n    // Create signature\n    const signature = EdDSA.sign(order.keyPair.secretKey, order.hash);\n    order.signature = signature;\n    order.signatureRx = signature.Rx;\n    order.signatureRy = signature.Ry;\n    order.signatureS = signature.s;\n\n    // Verify signature\n    const success = EdDSA.verify(order.hash, order.signature, [\n      order.keyPair.publicKeyX,\n      order.keyPair.publicKeyY\n    ]);\n    assert(success, \"Failed to verify signature\");\n    return order;\n  }\n\n  public setupOrder(order: OrderRequest) {\n    let tokenBuy, tokenSell;\n    if (!order.tokenS.startsWith(\"0x\")) {\n      tokenSell = config.getTokenBySymbol(order.tokenS);\n    } else {\n      tokenSell = config.getTokenByAddress(order.tokenS);\n    }\n    if (!order.tokenB.startsWith(\"0x\")) {\n      tokenBuy = config.getTokenBySymbol(order.tokenB);\n    } else {\n      tokenBuy = config.getTokenByAddress(order.tokenB);\n    }\n    order.tokenS = tokenSell.address;\n    order.tokenB = tokenBuy.address;\n    order.tokenSId = tokenSell.id;\n    order.tokenBId = tokenBuy.id;\n\n    order.amountSInBN = config.toWEI(tokenSell.symbol, order.amountS);\n    order.amountS = order.amountSInBN.toString(10);\n\n    order.amountBInBN = config.toWEI(tokenBuy.symbol, order.amountB);\n    order.amountB = order.amountBInBN.toString(10);\n\n    order.exchangeId =\n      order.exchangeId !== undefined\n        ? order.exchangeId\n        : config.getExchangeId();\n    order.buy = order.buy !== undefined ? order.buy : false;\n\n    order.maxFeeBips =\n      order.maxFeeBips !== undefined\n        ? order.maxFeeBips\n        : config.getMaxFeeBips();\n    order.allOrNone = order.allOrNone !== undefined ? order.allOrNone : false;\n\n    order.feeBips =\n      order.feeBips !== undefined ? order.feeBips : order.maxFeeBips;\n    order.rebateBips = order.rebateBips !== undefined ? order.rebateBips : 0;\n    order.label = order.label !== undefined ? order.label : config.getLabel();\n\n    assert(order.maxFeeBips < 64, \"maxFeeBips >= 64\");\n    assert(order.feeBips < 64, \"feeBips >= 64\");\n    assert(order.rebateBips < 64, \"rebateBips >= 64\");\n    assert(order.label < 2 ** 16, \"order.label >= 2**16\");\n\n    // Sign the order\n    return this.signOrder(order);\n  }\n\n  public getRandomInt(max: number) {\n    return Math.floor(Math.random() * max);\n  }\n\n  public submitOrder(wallet: WalletAccount, request: OrderRequest) {\n    this.currentWalletAccount = wallet;\n    return this.setupOrder(request);\n  }\n\n  public signCancel(cancel: CancelRequest) {\n    if (cancel.signature !== undefined) {\n      return;\n    }\n    const account = cancel.account;\n    const hasher = Poseidon.createHash(9, 6, 53);\n\n    // Calculate hash\n    const inputs = [\n      config.getExchangeId(),\n      account.accountId,\n      cancel.orderTokenId,\n      cancel.orderId,\n      cancel.tokenFId,\n      cancel.amountFInBN,\n      cancel.label,\n      account.nonce\n    ];\n    const hash = hasher(inputs).toString(10);\n\n    // Create signature\n    cancel.signature = EdDSA.sign(account.keyPair.secretKey, hash);\n\n    // Verify signature\n    const success = EdDSA.verify(hash, cancel.signature, [\n      account.keyPair.publicKeyX,\n      account.keyPair.publicKeyY\n    ]);\n    assert(success, \"Failed to verify signature\");\n    return cancel;\n  }\n\n  public submitCancel(cancel: CancelRequest) {\n    let orderToken, feeToken;\n    if (!cancel.orderToken.startsWith(\"0x\")) {\n      orderToken = config.getTokenBySymbol(cancel.orderToken);\n    } else {\n      orderToken = config.getTokenByAddress(cancel.orderToken);\n    }\n    if (!cancel.tokenF.startsWith(\"0x\")) {\n      feeToken = config.getTokenBySymbol(cancel.tokenF);\n    } else {\n      feeToken = config.getTokenByAddress(cancel.tokenF);\n    }\n    cancel.tokenFId = feeToken.id;\n    cancel.tokenF = feeToken.symbol;\n    cancel.orderTokenId = orderToken.id;\n    cancel.orderToken = orderToken.symbol;\n\n    cancel.amountFInBN = config.toWEI(feeToken.symbol, cancel.amountF);\n    cancel.amountF = cancel.amountFInBN.toString(10);\n\n    cancel.label =\n      cancel.label !== undefined ? cancel.label : config.getLabel();\n    return this.signCancel(cancel);\n  }\n\n  public submitFlexCancel(request: FlexCancelRequest) {\n    if (request.signature !== undefined) {\n      return;\n    }\n    const account = request.account;\n    let sign = new SignFlexCancelRequest();\n    sign.accountId = account.accountId;\n    sign.orderHash = request.orderHash;\n    sign.clientOrderId = request.clientOrderId;\n    const hash = fm.addHexPrefix(sha256(JSON.stringify(sign)).toString());\n\n    // Create signature\n    request.signature = EdDSA.sign(account.keyPair.secretKey, hash);\n\n    // Verify signature\n    const success = EdDSA.verify(hash, request.signature, [\n      account.keyPair.publicKeyX,\n      account.keyPair.publicKeyY\n    ]);\n    assert(success, \"Failed to verify signature\");\n    return request;\n  }\n\n  public signGetApiKey(request: GetAPIKeyRequest) {\n    if (request.signature !== undefined) {\n      return;\n    }\n    let account = request.account;\n    let sign = new SignAPIKeyRequest();\n    sign.accountId = account.accountId;\n    sign.publicKeyX = account.keyPair.publicKeyX;\n    sign.publicKeyY = account.keyPair.publicKeyY;\n    const hash = fm.addHexPrefix(sha256(JSON.stringify(sign)).toString());\n\n    // Create signature\n    request.signature = EdDSA.sign(account.keyPair.secretKey, hash);\n\n    // Verify signature\n    const success = EdDSA.verify(hash, request.signature, [\n      account.keyPair.publicKeyX,\n      account.keyPair.publicKeyY\n    ]);\n    assert(success, \"Failed to verify signature\");\n    return request;\n  }\n}\n\nexport const exchange: Exchange = new Exchange();\n","const mainChain = true\nconst debug = false\nexport default {\n  relay: {\n    serverUrl: mainChain ? 'https://api.wedex.io/api/v2' : 'http://uat.loopring.io/api/v1',\n    wsUrl: mainChain ? 'wss://ws.wedex.io/v2/ws' : 'wss://ws.uat.loopring.io/v2/ws',\n    relayUrl: 'http://18.163.120.178:8080/lightcone_v3/',\n    maxCandlestickPerRequest: 120\n  },\n  chainId: mainChain ? 1 : 5,\n  pollingIntervalRatio: debug ? 10 : 1,\n  wedex: {\n    // 国内阿里云\n    // serverUrl: 'http://112.74.28.187:18081/api'\n    // 阿军亚马逊国际站美国服务器\n    // 管理端： http://18.163.13.39/:9527/\n    // serverUrl: 'http://18.163.13.39:8080/api'\n    // 阿里云国际站香港服务器\n    // 管理端： http://47.56.65.136:18082/\n    serverUrl: 'https://hd.wedex.io/api'\n  },\n  ratioRecommendedGasPrice: mainChain ? 0.5 : 1,\n  txSendByMetaMask: true\n}\n","import { exchange } from \"..\";\nimport * as fm from \"../lib/wallet/common/formatter\";\nimport { keccak } from \"ethereumjs-util\";\nimport config from \"../lib/wallet/config\";\nimport Contracts from \"../lib/wallet/ethereum/contracts/Contracts\";\nimport Transaction from \"../lib/wallet/ethereum/transaction\";\nimport { WalletAccount } from \"../lib/wallet/ethereum/walletAccount\";\nimport {\n  CancelRequest,\n  DexAccount,\n  FlexCancelRequest,\n  GetAPIKeyRequest,\n  KeyPair,\n  OrderRequest,\n  WithdrawalRequest\n} from \"../model/types\";\nimport appConfig from 'config/appConfig'\n\nconst assert = require(\"assert\");\n\nexport class Account {\n  public account: WalletAccount;\n\n  public constructor(account) {\n    this.account = account;\n  }\n\n  /**\n   * Approve Zero\n   * @param symbol: approve token symbol to zero\n   * @param nonce: Ethereum nonce of this address\n   * @param gasPrice: gas price in gwei\n   */\n  public async approveZero(symbol: string, nonce: number, gasPrice: number) {\n    const token = config.getTokenBySymbol(symbol);\n    const rawTx = new Transaction({\n      to: token.address,\n      value: \"0x0\",\n      data: Contracts.ERC20Token.encodeInputs(\"approve\", {\n        _spender: config.getExchangeAddress(),\n        _value: \"0x0\"\n      }),\n      chainId: config.getChainId(),\n      nonce: fm.toHex(nonce),\n      gasPrice: fm.toHex(fm.fromGWEI(gasPrice)),\n      gasLimit: fm.toHex(config.getGasLimitByType(\"approve\").gasInWEI)\n    });\n    // return this.account.signEthereumTx(rawTx.raw);\n\n    const response = appConfig.txSendByMetaMask\n      ? await this.account.sendTransaction(null, rawTx.raw)\n      : await this.account.signEthereumTx(rawTx.raw)\n    return response;\n  }\n\n  /**\n   * Approve Max\n   * @param symbol: approve token symbol to max\n   * @param nonce: Ethereum nonce of this address\n   * @param gasPrice: gas price in gwei\n   */\n  public async approveMax(symbol: string, nonce: number, gasPrice: number) {\n    const token = config.getTokenBySymbol(symbol);\n    const rawTx = new Transaction({\n      to: token.address,\n      value: \"0x0\",\n      data: Contracts.ERC20Token.encodeInputs(\"approve\", {\n        _spender: config.getExchangeAddress(),\n        _value: config.getMaxAmountInWEI()\n      }),\n      chainId: config.getChainId(),\n      nonce: fm.toHex(nonce),\n      gasPrice: fm.toHex(fm.fromGWEI(gasPrice)),\n      gasLimit: fm.toHex(config.getGasLimitByType(\"approve\").gasInWEI)\n    });\n\n    const response = appConfig.txSendByMetaMask\n      ? await this.account.sendTransaction(null, rawTx.raw)\n      : await this.account.signEthereumTx(rawTx.raw)\n    return response;\n  }\n\n  /**\n   * generate key pair of account in DEX\n   * @param password: account specified password\n   */\n  public generateKeyPair(password: string) {\n    try {\n      assert(this.account !== null);\n      let hash = keccak(\"Loopring\" + this.account.getAddress().toLowerCase() + password)\n      return exchange.generateKeyPair(hash);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * verify password of account in DEX\n   * @param publicKeyX: publicKeyX of account's key pair\n   * @param publicKeyY: publicKeyY of account's key pair\n   * @param password: account specified password\n   */\n  public verifyPassword(\n    publicKeyX: string,\n    publicKeyY: string,\n    password: string\n  ) {\n    try {\n      assert(this.account !== null);\n      return exchange.verifyPassword(\n        publicKeyX,\n        publicKeyY,\n        this.account.getAddress() + password\n      );\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * create Or Update Account in DEX\n   * @param gasPrice: in gwei\n   * @param nonce: Ethereum nonce of this address\n   * @param permission: user permission\n   * @param password: user password\n   */\n  public async createOrUpdateAccount(\n    password: string,\n    nonce: number,\n    gasPrice: number,\n    permission?: string\n  ) {\n    try {\n      permission = permission !== undefined ? permission : \"\";\n      const createOrUpdateAccountResposne = exchange.createOrUpdateAccount(\n        this.account,\n        password,\n        nonce,\n        gasPrice,\n        fm.toBuffer(permission)\n      );\n      const rawTx = createOrUpdateAccountResposne[\"rawTx\"];\n      // const signedEthereumTx = await this.account.signEthereumTx(rawTx.raw);\n      const signedEthereumTx = appConfig.txSendByMetaMask\n        ? await this.account.sendTransaction(null, rawTx.raw)\n        : await this.account.signEthereumTx(rawTx.raw);\n      return {\n        signedTx: signedEthereumTx,\n        keyPair: createOrUpdateAccountResposne[\"keyPair\"]\n      };\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * Deposit to Dex\n   * @param symbol: string symbol of token to deposit\n   * @param amount: string number amount to deposit, e.g. '1.5'\n   * @param nonce: Ethereum nonce of this address\n   * @param gasPrice: gas price in gwei\n   */\n  public async depositTo(\n    symbol: string,\n    amount: string,\n    nonce: number,\n    gasPrice: number\n  ) {\n    try {\n      const rawTx = exchange.deposit(\n        this.account,\n        symbol,\n        amount,\n        nonce,\n        gasPrice\n      );\n      // return await this.account.signEthereumTx(rawTx.raw);\n      const response = appConfig.txSendByMetaMask\n        ? await this.account.sendTransaction(null, rawTx.raw)\n        : await this.account.signEthereumTx(rawTx.raw)\n      return response;\n\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * On-chain Withdrawal from Dex\n   * @param symbol: string symbol of token to withdraw\n   * @param amount: string number amount to withdraw, e.g. '1.5'\n   * @param nonce: Ethereum nonce of this address\n   * @param gasPrice: gas price in gwei\n   */\n  public async onchainWithdrawal(\n    symbol: string,\n    amount: string,\n    nonce: number,\n    gasPrice: number\n  ) {\n    try {\n      const rawTx = exchange.withdraw(\n        this.account,\n        symbol,\n        amount,\n        nonce,\n        gasPrice\n      );\n\n      const response = appConfig.txSendByMetaMask\n        ? await this.account.sendTransaction(null, rawTx.raw)\n        : await this.account.signEthereumTx(rawTx.raw);\n      return response;\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * Off-chain Withdrawal from Dex\n   * @param accountId: account ID in exchange\n   * @param publicKeyX: trading public key X of account, decimal string\n   * @param publicKeyY: trading public key Y of account, decimal string\n   * @param privateKey: trading private key of account, decimal string\n   * @param nonce: DEX nonce of account\n   * @param token: token symbol or address to withdraw\n   * @param amount: amount to withdraw, in decimal string. e.g. '15'\n   * @param tokenF: fee token symbol or address to withdraw\n   * @param amountF: withdrawal fee, in decimal string. e.g. '15'\n   * @param label: [OPTIONAL] label used in protocol\n   */\n  public offchainWithdrawal(\n    accountId: number,\n    publicKeyX: string,\n    publicKeyY: string,\n    privateKey: string,\n    nonce: number,\n    token: string,\n    amount: string,\n    tokenF: string,\n    amountF: string,\n    label?: number\n  ) {\n    try {\n      const withdraw = new WithdrawalRequest();\n      const account = new DexAccount();\n      account.keyPair = new KeyPair();\n      withdraw.account = account;\n      withdraw.account.accountId = accountId;\n      withdraw.account.keyPair.publicKeyX = publicKeyX;\n      withdraw.account.keyPair.publicKeyY = publicKeyY;\n      withdraw.account.keyPair.secretKey = privateKey;\n      withdraw.account.nonce = nonce;\n      withdraw.token = token;\n      withdraw.amount = amount;\n      withdraw.tokenF = tokenF;\n      withdraw.amountF = amountF;\n      withdraw.label = label;\n      return exchange.submitWithdrawal(withdraw);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * Get signed order, should be submitted by frontend itself TEMPORARY\n   * @param owner: Ethereum address of this order's owner\n   * @param accountId: account ID in exchange\n   * @param tokenS: symbol or hex address of token sell\n   * @param tokenB: symbol or hex address of token buy\n   * @param publicKeyX: trading public key X of account, decimal string\n   * @param publicKeyY: trading public key Y of account, decimal string\n   * @param privateKey: trading private key of account, decimal string\n   * @param amountS: amount of token sell, in string number\n   * @param amountB: amount of token buy, in string number\n   * @param orderId: next order ID, needed by order signature\n   * @param validSince: valid beginning period of this order, SECOND in timestamp\n   * @param validUntil: valid ending period of this order, SECOND in timestamp\n   * @param label: [OPTIONAL] label used in protocol\n   */\n  public submitOrder(\n    owner: string,\n    accountId: number,\n    publicKeyX: string,\n    publicKeyY: string,\n    privateKey: string,\n    tokenS: string,\n    tokenB: string,\n    amountS: string,\n    amountB: string,\n    orderId: number,\n    validSince: number,\n    validUntil: number,\n    label?: number\n  ) {\n    try {\n      const order = new OrderRequest();\n      order.owner = owner;\n      order.accountId = accountId;\n      order.keyPair = new KeyPair();\n      order.keyPair.publicKeyX = publicKeyX;\n      order.keyPair.publicKeyY = publicKeyY;\n      order.keyPair.secretKey = privateKey;\n\n      order.tokenS = tokenS;\n      order.tokenB = tokenB;\n      order.amountS = amountS;\n      order.amountB = amountB;\n\n      order.orderId = orderId;\n      order.validSince = Math.floor(validSince);\n      order.validUntil = Math.floor(validUntil);\n      order.label = label;\n      return exchange.submitOrder(this.account, order);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * Cancel order in Dex\n   * @param accountId: account ID in exchange\n   * @param publicKeyX: trading public key X of account, decimal string\n   * @param publicKeyY: trading public key Y of account, decimal string\n   * @param privateKey: trading private key of account, decimal string\n   * @param nonce: DEX nonce of account\n   * @param orderToken: token symbol or address of cancel\n   * @param orderId: specified order id to cancel\n   * @param tokenF: amountF token symbol or address of cancel\n   * @param amountF: cancel amountF, e.g. '15'\n   * @param label: [OPTIONAL] label used in protocol\n   */\n  public submitCancel(\n    accountId: number,\n    publicKeyX: string,\n    publicKeyY: string,\n    privateKey: string,\n    nonce: number,\n    orderToken: string,\n    orderId: number,\n    tokenF: string,\n    amountF: string,\n    label?: number\n  ) {\n    try {\n      const cancel = new CancelRequest();\n      const account = new DexAccount();\n      account.keyPair = new KeyPair();\n      cancel.account = account;\n      cancel.account.accountId = accountId;\n      cancel.account.keyPair.publicKeyX = publicKeyX;\n      cancel.account.keyPair.publicKeyY = publicKeyY;\n      cancel.account.keyPair.secretKey = privateKey;\n      cancel.account.nonce = nonce;\n      cancel.orderToken = orderToken;\n      cancel.orderId = orderId;\n      cancel.tokenF = tokenF;\n      cancel.amountF = amountF;\n      cancel.label = label;\n      return exchange.submitCancel(cancel);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * Get Api Key signature\n   * @param accountId: account ID in exchange\n   * @param publicKeyX: trading public key X of account, decimal string\n   * @param publicKeyY: trading public key Y of account, decimal string\n   * @param privateKey: trading private key of account, decimal string\n   */\n  public getApiKey(\n    accountId: number,\n    publicKeyX: string,\n    publicKeyY: string,\n    privateKey: string\n  ) {\n    try {\n      const request = new GetAPIKeyRequest();\n      const account = new DexAccount();\n      account.keyPair = new KeyPair();\n      request.account = account;\n      request.account.accountId = accountId;\n      request.account.keyPair.publicKeyX = publicKeyX;\n      request.account.keyPair.publicKeyY = publicKeyY;\n      request.account.keyPair.secretKey = privateKey;\n      return exchange.signGetApiKey(request);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * Get Api Key signature\n   * @param accountId: account ID in exchange\n   * @param publicKeyX: trading public key X of account, decimal string\n   * @param publicKeyY: trading public key Y of account, decimal string\n   * @param privateKey: trading private key of account, decimal string\n   * @param orderHash: [OPTIONAL] specified order hash to cancel\n   * @param clientOrderId: [OPTIONAL] specified client order ID to cancel\n   */\n  public submitFlexCancel(\n    accountId: number,\n    publicKeyX: string,\n    publicKeyY: string,\n    privateKey: string,\n    orderHash?: string,\n    clientOrderId?: string\n  ) {\n    try {\n      const request = new FlexCancelRequest();\n      const account = new DexAccount();\n      account.keyPair = new KeyPair();\n      request.account = account;\n      request.account.accountId = accountId;\n      request.account.keyPair.publicKeyX = publicKeyX;\n      request.account.keyPair.publicKeyY = publicKeyY;\n      request.account.keyPair.secretKey = privateKey;\n      request.orderHash = orderHash;\n      request.clientOrderId = clientOrderId;\n      return exchange.submitFlexCancel(request);\n    } catch (e) {\n      throw e;\n    }\n  }\n}\n","import _ from 'lodash'\nimport { channel } from 'redux-saga'\nimport { put, call, all, select, take, fork } from 'redux-saga/effects'\nimport moment from 'moment'\nimport { dispatch } from 'store'\nimport utils from 'utils'\n\nexport function * startup (api, action) {\n  console.log('startup')\n\n  // 检查auth\n  // let needAuth = yield call(checkAuthToken, api)\n\n  // yield call(setHttpAuth, api)\n\n  // if (!needAuth) {\n  //   yield put(StartupActions.setReady(true))\n  // }\n\n  // yield put 需要这样写\n  // yield put({      // dispatch一个action到reducer， payload是请求返回的数据\n  //   type: actionTypes.GET_AGE_SUCCESS,\n  //   payload: res   \n  // })\n\n  let resp = yield call(api.getSystemMaintain)\n  dispatch.appState.update({ maintainInfo: resp.data })\n\n  yield put({ type: 'persistData/checkChannel'})\n  yield put({ type: 'persistData/checkLocale'})\n  yield put({ type: 'persistData/checkMarket'})\n  dispatch.markets.fetchMarkets()\n  let tokens = yield call(api.getContracts)\n  dispatch.tokens.update({ list: tokens })\n  dispatch.appState.startup()\n  // 必须 yield put connectToMetaMask。因为有可能导致地址已切换。\n  // dispatch.metaMask.connectToMetaMask()\n  // 重要：这里并没有用， connectToMetaMask 中又用了await，并不会等其执行完。\n  yield put({ type: 'metaMask/connectToMetaMask'})\n  dispatch.dexAccount.loadAccount()\n  // 此定时器永不关闭。\n  // utils.setImmediateInterval(async () => {\n  //   dispatch.dexAccount.checkAccountOvertime()\n  // }, 60 * 1000)\n  utils.setImmediateInterval(async () => {\n    dispatch.socket.checkHeartBeat()\n  }, 30 * 1000)\n  dispatch.socket.start()\n\n  // 内存泄露。\n  // 场景一: 输入不存在的 url，页面无可渲染的 dom。此时即使用下面的方式让 store不停的计算。内存也无明显增长。说明还是dom的问题，特别是 table。币安用的是react-virtualized\n  // 场景二: url 正确，但是把 home 中的所有组件都注释掉，基本缓慢。说明还是 dom 问题。\n  // 场景三: 打开 tvchart，但是仍然关闭 trade。基本不增长。会在大约 10 分钟后突然增加10M 左右，应该是 tvchart 自身的问题。\n  // 场景四: 打开 tvchart，打开 trade，但是不显示 table。相比“场景三”有增长（15 分钟 30M。可能是candlestick 订阅的socket自己带来的更新），但是仍然比较缓慢。说明还是 trade 的 table 本身的问题。\n  // 场景五: 关闭 tvchart，打开 trade，显示 table。明显每秒 dom内存（内存占用空间） 增加 3M，js（js 使用内存实际大小） 每秒增加 0.8M。持续增长了 100M后，开始下降，应该是内存回收开始生效，之后会进入一个动态平衡。\n  //        原因分析：虽然只取了头部的 30 个，但是列表中实际有 130 个 dom 了。因为每次渲染时，若数组中有 rowKey 冲突，就会挂死一行数据的 dom 在列表中，估计是 ant 根据 rowKey 做了什么优化。\n  //        其他细节：socket 重连一次时，会再次 1s 增加 3M。但是等 30 个 dom 绘制完成后，等一会会回收之前的 30 个 dom。应该是重新加载导致 loading，dom 全部销毁重建。\n  //        这里要继续优化就得考虑共用dom。但是没必要。\n  // 场景六: rowKey使用数组的 index。竟然效果奇好。对比 dom 发现，完全复用了。（当不使用 index 时，在 elements 中选中一个 dom，可以看到这个 dom 不停的往下走，上面不停的会插入新的 dom，直至到达数组末尾，然后被销毁。）\n  //        这种方式下，内存明显表现非常好。而且数据的变更等表现到界面上。\n  //        也有不好的地方。当头部插入 1 条数据时。整个数组的 rowKey 全部变化，虚拟 dom 树的对比会耗费 “CPU” 资源。如果不使用 ant 的 table，可能还可以进一步优化。\n  //        https://segmentfault.com/a/1190000015648248\n  //        此处我们主要解决内存问题，那么还是如此优化吧。\n  // 场景六: table 的 rowKey 不传。\n  // 场景七: trade 没有截断为最多 30 条。明显持续增加，直至崩溃。\n\n  // cpu 占用。\n  // 不停的推送期间，cpu 一直高达 10%，但是观察币安，也是如此，因此没关系。\n\n  // utils.setImmediateInterval(async () => {\n  //   let now = new Date().getTime()\n  //   let price = 0.00017857\n\n  //   let datas = []\n  //   for (let i=1; i<5; i++) {\n  //     datas.push(\n  //       {\n  //         timestamp: now + _.random(0, 1),\n  //         tradeId: now + i,\n  //         side: \"sell\",\n  //         size: \"103000000000000000000\",\n  //         price: price + _.random(0, 3),\n  //         market: \"LRC-ETH\",\n  //         fee: \"0\",\n  //       }\n  //     )\n  //   }\n  //   dispatch.trade.incrementalUpdate(datas)\n  // }, 1 * 1000)\n  \n}\n\nexport function * process401 (api, action) {\n  console.log('开始处理401')\n  let logined = yield select((state) => state.auth.logined)\n  yield put(replace(logined ? '/UnauthScreen' : '/LoginScreen'))\n}\n","import _ from 'lodash';\nimport axios from 'axios';\nimport { notification } from 'utils'\nimport appConfig from 'config/appConfig'\nimport { store } from 'store'\n\nlet srvApi = axios.create({\n  // timeout: 10000,\n  baseURL: appConfig.wedex.serverUrl,\n})\n\nsrvApi.interceptors.request.use(function (config) {\n  let rootState = store.getState()\n  let { dexAccount: { address } } = rootState\n  // config.headers.common['x-user-wallet-addr'] = '0x07f452344909f601aa8f9167e673d432404735d9'\n  config.headers.common['x-user-wallet-addr'] = address\n  return config\n})\n\nfunction getUserBillEggPrizeList (params) {\n  let {address, ...restParams} = params\n  // const headers = {\n  //   'x-user-wallet-addr': address\n  // };\n  return srvApi.get(`user/billEggPrizes`, {\n    params: restParams,\n    // headers\n  })\n}\n\nfunction postUserReadBillEggPrizeList (params) {\n  let {address, ...restParams} = params\n  // const headers = {\n  //   'x-user-wallet-addr': address\n  // };\n  return srvApi.post(`user/billEggPrize/batchRead`, restParams, {\n    // headers\n  })\n}\n\nfunction formatExchanges (exchanges) {\n  return _.map(exchanges, exchange => {\n    let {\n      standardContractName: baseToken,\n      targetContractName: quoteToken,\n      pricePrecision,\n      amountPrecision,\n      totalPrecision,\n      maxLevel,\n    } = exchange\n    let baseContractId = exchange.standardContract.id\n    let quoteContractId = exchange.targetContract.id\n\n    return {\n      market: _.toUpper(`${baseToken}-${quoteToken}`),\n      baseToken,\n      quoteToken,\n      pricePrecision,\n      amountPrecision,\n      totalPrecision,\n      maxLevel,\n      baseContractId,\n      quoteContractId\n    }\n  })\n}\n// 获取交易对列表\nlet getAllExchanges = async (params) => {\n  let resp = await srvApi.get(`user/exchanges`, {params})\n  let exchanges = formatExchanges(resp.data.rows)\n  return exchanges\n}\nlet getChannelExchanges = async (params) => {\n  let resp = await srvApi.get(`user/channelExchanges`, {params})\n  let exchanges = formatExchanges(resp.data.rows)\n  return exchanges\n}\nlet getExchanges = async (params = {}) => {\n  let { channelName } = params\n  if (channelName) {\n    return await getChannelExchanges(params)\n  } else {\n    return await getAllExchanges()\n  }\n}\nlet getContracts = async (params) => {\n  let resp = await srvApi.get(`platform/contracts`, {params})\n  let contracts = _.map(resp.data.rows, contract => {\n    let {\n      name: symbol,\n      fullname: name,\n      contractAddr : address,\n      homepage: website,\n      ...restProps\n    } = contract\n    return {\n      symbol,\n      name,\n      address,\n      website,\n      ...restProps\n    }\n  })\n  return contracts\n}\nlet getContract = id => srvApi.get(`user/contracts/${id}`)\n\n// 获取合约配置\nlet getSystemContractFee = params => srvApi.get(`user/system/contractFee`, {params})\n// 获取订单配置\nlet getSystemBillValidTime = params => srvApi.get(`user/system/billValidTime`, {params})\nlet getSystemMaintain = () => srvApi.get(`platform/system/systemMaintain`)\nlet getNotice = params => srvApi.get(`platform/notices`, {params})\n\nlet getArticleList = params => srvApi.get(`user/articles`, {params})\nlet getArticleListRecommended = params => srvApi.get(`user/articles`, {\n  params: {\n    recommended: true,\n    ...params\n  }\n})\nlet getArticle = id => srvApi.get(`user/articles/${id}`)\n\nlet getLeverCoin = params => srvApi.get(`open/leverCoin/info`, {params})\n\nexport default {\n  getUserBillEggPrizeList,\n  postUserReadBillEggPrizeList,\n\n  getExchanges,\n  getContracts,\n  getContract,\n  getLeverCoin,\n  getSystemContractFee,\n  getSystemBillValidTime,\n  getSystemMaintain,\n  getNotice,\n\n  getArticleList,\n  getArticleListRecommended,\n  getArticle,\n}","/**\n * Created by zuozhuo on 2016/12/8.\n */\n'use strict'\n\nimport _ from 'lodash'\n\nclass XEnumItem {\n  constructor (value, text, meta = {}) {\n    this.value = value\n    this.text = text\n    this.meta = meta\n  }\n\n  getValue () {\n    return this.value\n  }\n\n  getText () {\n    return this.text\n  }\n\n  equals (value) {\n    if (value instanceof XEnumItem) {\n      value = value.getValue()\n    }\n    return this.value === value\n  }\n}\nclass XEnum {\n  constructor (enumDict) {\n    this.enumItems = Object.values(enumDict)\n    Object.keys(enumDict).forEach(key => {\n      this[key] = enumDict[key]\n    })\n  }\n\n  findItem (itemValue) {\n    if (itemValue instanceof XEnumItem) {\n      itemValue = itemValue.getValue()\n    }\n    return this.enumItems.find(e => e.getValue() === itemValue)\n  }\n\n  toText (value) {\n    let item = _.find(this.enumItems, ['value', value])\n    return item === undefined ? null : item.getText()\n  }\n\n  parseValueByText (text) {\n    let exist = _.find(this.enumItems, ele => {\n      return ele.getText() === text\n    })\n    if (exist === undefined) {\n      return null\n    } else {\n      return exist.getValue()\n    }\n  }\n\n  getOptions (excludeIndex) {\n    if (!this.options) {\n      return this.enumItems\n        .filter(e => excludeIndex !== e.getValue())\n        .map(e => {\n          return {\n            value: e.getValue(),\n            label: e.getText()\n          }\n        })\n    } else {\n      return []\n    }\n  }\n\n  getSpecOptions (specKey = []) {\n    if (!this.options) {\n      return this.enumItems\n        .filter(e => specKey.includes(e.getValue()))\n        .map(e => {\n          return {\n            value: e.getValue(),\n            label: e.getText()\n          }\n        })\n    } else {\n      return []\n    }\n  }\n}\n\nconst ENUM_ACCOUNT_STATUS = new XEnum({\n  UNSIGNED: new XEnumItem(0, '未登录'),\n  UNCREATED: new XEnumItem(1, '未注册'),\n  CREATED: new XEnumItem(2, '已注册'),\n  LOGGED_IN: new XEnumItem(3, '已登录'),\n  CREATING: new XEnumItem(4, '创建中'),\n  LOCKED: new XEnumItem(5, '锁定'),\n  // TODO: 最好有这个状态。更改密码后，为 updating，同时更新 passwordHash，不更新 apikey。一直等到 passwordHash 生成的公钥正确，再直接把状态改为LOGGED_IN，同时生成新的 apikey。\n  // 但这个流程需要测试，updating 时，需要能下单，topnav 的状态也要加一个。\n  // 暂时不做这个优化。更新密码直接啥都不干。直到 apikey 错误，让账号自动退出。\n  UPDATING: new XEnumItem(6, '修改中'),\n})\n\nconst ENUM_ORDER_STATUS = new XEnum({\n  PROCESSING: new XEnumItem('processing', '待成交'),\n  PROCESSED: new XEnumItem('processed', '已成交'),\n  CANCELLING: new XEnumItem('cancelling', '撤销中'),\n  CANCELLED: new XEnumItem('cancelled', '已撤销'),\n  EXPIRED: new XEnumItem('expired', '已超时'),\n  // WAITING: new XEnumItem('waiting', '等待中'),\n})\n\nconst ENUM_TX_STATUS = new XEnum({\n  RECEIVED: new XEnumItem('received', '待划转'),\n  PROCESSING: new XEnumItem('processing', '划转中'),\n  PROCESSED: new XEnumItem('processed', '已完成'),\n  FAILED: new XEnumItem('failed', '失败'),\n})\n\nconst ENUM_INTERVAL_TYPE = new XEnum({\n  MIN_1: new XEnumItem('1', '1min'),\n  MIN_5: new XEnumItem('5', '5min'),\n  MIN_15: new XEnumItem('15', '15min'),\n  MIN_30: new XEnumItem('30', '30min'),\n  HOUR_1: new XEnumItem('60', '1hr'),\n  HOUR_2: new XEnumItem('120', '2hr'),\n  HOUR_4: new XEnumItem('240', '4hr'),\n  HOUR_12: new XEnumItem('720', '12hr'),\n  DAY_1: new XEnumItem('D', '1d'),\n  WEEK_1: new XEnumItem('W', '1w'),\n})\n\nconst ENUM_LANGUAGE_TYPE = new XEnum({\n  cn: new XEnumItem(1, '中文'),\n  us: new XEnumItem(2, '英文'),\n  kr: new XEnumItem(3, '韩文'),\n  ru: new XEnumItem(4, '俄文'),\n  jp: new XEnumItem(5, '日文'),\n})\n\nexport {\n  ENUM_ACCOUNT_STATUS,\n  ENUM_ORDER_STATUS,\n  ENUM_TX_STATUS,\n  ENUM_INTERVAL_TYPE,\n  ENUM_LANGUAGE_TYPE\n}\n\n","import _ from 'lodash'\nimport axios from 'axios';\nimport wedexApi from './wedexApi'\n// TODO: config要去除\nimport { config } from 'librarys/lightcone_v3';\nimport appConfig from 'config/appConfig'\nimport utils, { notification } from 'utils';\nimport { ENUM_INTERVAL_TYPE } from 'utils/enum'\nimport BigNumber from 'bignumber.js';\nimport { dispatch, store } from 'store'\nlet { serverUrl, maxCandlestickPerRequest } = appConfig.relay\n\nfunction withoutThrow(func) {\n  return async (...params) => {\n    try {\n      return await func(...params)\n    } catch (error) {\n      // debugger\n      notification['error']({\n        style: {\n          backgroundColor: 'white'\n        },\n        message: String(error),\n      })\n      return null\n    }\n  }\n}\n\n// export function _parseResponse(response) {\n//   const data = response['data'];\n//   const resultInfo = data['resultInfo'];\n//   // const errorData = data['error'];\n\n//   // Some API endpoints in the old versions don't have resultInfo.\n//   if (resultInfo) {\n//     const { code, message } = resultInfo;\n//     if (code !== 0) {\n//       // 签名错误，则退出登录。\n//       if (message === 'ERR_REST_INVALID_SIGNATURE') {\n//         dispatch.appState.update({\n//           notification: {\n//             type: 'error',\n//             message: 'notify.socket.subscribe.error.apikey'\n//           },\n//         })\n//         dispatch.dexAccount.logout()\n//       }\n\n//       // TODO: 国际化\n//       let errorCodeMapping = {\n//         104208: '两次提交请保持一定时间间隔'\n//       }\n//       let errorMsgMapping = {\n//         'nounce too low': '操作频繁，请稍后再试'\n//       }\n//       let errorMessage = errorCodeMapping[code] || errorMsgMapping[message] || `${code} ${message}`\n//       throw Error(errorMessage);\n//     }\n//     return data;\n//   // } else if (errorData) {\n//   //   return data;\n//   } else {\n//     return data;\n//   }\n// }\n\n// export function parseResponse(response) {\n//   try {\n//     return _parseResponse(response)\n//   } catch (err) {\n//     Toast.fail(String(err), 1)\n//   }\n// }\n\nlet relayApi = axios.create({\n  // timeout: 10000,\n  baseURL: serverUrl,\n})\n\nrelayApi.interceptors.request.use(function (config) {\n  let rootState = store.getState()\n  let { dexAccount: { apiKey } } = rootState\n  let needApiKey = config => {\n    let { url, method } = config\n    if (url === '/apiKey' && method === 'get') {\n      return false\n    }\n    return true\n  }\n  if (needApiKey(config)) {\n    config.headers.common['X-API-KEY'] = apiKey\n  }\n  return config\n})\n\nrelayApi.interceptors.response.use(function (response) {\n  const data = response['data'];\n  const resultInfo = data['resultInfo'];\n\n  // Some API endpoints in the old versions don't have resultInfo.\n  if (resultInfo) {\n    const { code, message } = resultInfo;\n    if (code !== 0) {\n      // 签名错误，则退出登录。\n      if (message === 'ERR_REST_INVALID_SIGNATURE') {\n        dispatch.appState.update({\n          notification: {\n            type: 'error',\n            message: 'notify.socket.subscribe.error.apikey'\n          },\n        })\n        dispatch.dexAccount.logout()\n      }\n\n      // TODO: 国际化\n      let errorCodeMapping = {\n        104208: '两次提交请保持一定时间间隔'\n      }\n      let errorMsgMapping = {\n        'nounce too low': '操作频繁，请稍后再试'\n      }\n      let errorMessage = errorCodeMapping[code] || errorMsgMapping[message] || `${code} ${message}`\n      notification['error']({ message: errorMessage })\n    }\n  }\n  \n  return data\n}, function (error) {\n  if (error.message === \"Network Error\") {\n    notification['error']({ message: '请检查网络' })\n  }\n\n  if (error.response) {\n    notification['error']({ message: error.response.data })\n  } else {\n    notification['error']({ message: '系统维护中' })\n  }\n  return Promise.reject(error)\n})\n\nasync function getTokenBalance(owner, tokenAddress) {\n  const params = {\n    owner,\n    token: tokenAddress\n  };\n\n  const response = await relayApi.get('/tokenBalances', {params});\n  return response['data'];\n}\n\nasync function getEthBalance(address) {\n  const params = {\n    owner: address\n  };\n\n  const response = await relayApi.get('/ethBalances', {params});\n  return response['data']\n}\n\nasync function lightconeGetAccount(address) {\n  const data = {\n    owner: address\n  };\n  let resp = await relayApi.get('/account', {params: data})\n  return resp.data\n}\n\nasync function getTrade(market, limit) {\n  const params = {\n    market,\n    limit\n  };\n  const response = await relayApi.get('/trade', {params});\n  let trades = response['data']['trades'];\n\n  trades = trades.map(trade => {\n    let [timestamp, tradeId, side, size, price, fee] = trade\n    return { timestamp, tradeId, side, size, price, fee }\n  })\n  return trades\n}\n\nasync function getDepth(market, level, limit) {\n  const params = {\n    market,\n    level,\n    limit\n  };\n  const tokens = market.split('-');\n  const baseToken = tokens[0];\n\n  try {\n    const response = await relayApi.get('/depth', {params});\n    const depth = response['data'];\n    const bids = depth['bids'];\n    var updatedBids = [];\n    for (var i = 0; i < bids.length; i = i + 1) {\n      const [price, size, volume, count] = bids[i];\n      var updatedBid = {\n        price: price,\n        size: size,\n        volume: volume,\n        count: count,\n        sizeInNumber: config.fromWEI(baseToken, size, 4)\n      };\n      updatedBids.push(updatedBid);\n    }\n\n    const asks = depth['asks'];\n    var updatedAsks = [];\n    for (var i = 0; i < asks.length; i = i + 1) {\n      const [price, size, volume, count] = asks[i];\n      var updatedAsk = {\n        price: price,\n        size: size,\n        volume: volume,\n        count: count,\n        sizeInNumber: config.fromWEI(baseToken, size, 4)\n      };\n      updatedAsks.push(updatedAsk);\n    }\n\n    return {\n      bids: updatedBids,\n      asks: updatedAsks\n    };\n  } catch (error) {\n    return {\n      bids: [],\n      asks: []\n    };\n  }\n}\n\nasync function getOrders({accountId, offset, limit, market, apiKey, statuses, side, start, end}) {\n  const params = {\n    accountId,\n    offset,\n    limit,\n    status: statuses.join(','),\n    side,\n    // 中继要求必传此参数，因此在没有的情况下，传个很小的值。'2019-01-01'\n    start: start || 1546300800000,\n    end: end || new Date().getTime(),\n  };\n  if (typeof market !== 'undefined') {\n    params.market = market;\n  }\n\n  const response = await relayApi.get('/orders', {params});\n\n  const responseData = response['data'];\n  const orders = responseData['orders'];\n  let updatedOrders = utils.formatOrders(orders)\n  return {\n    totalNum: responseData.totalNum,\n    orders: updatedOrders\n  }\n}\n\nasync function cancelOrders(params, signed) {\n  const signature = signed.Rx + ',' + signed.Ry + ',' + signed.s;\n  const headers = {\n    'X-API-SIG': signature\n  };\n  const response = await relayApi.delete('/orders', {\n    params,\n    headers\n  });\n  return response.data\n}\n\nasync function getCandlestick(params) {\n  const resp = await relayApi.get('/candlestick', {params})\n  \n  let candlesticks = resp.data.map(candlestick => {\n    let [ start, count, open, close, high, low, size, volume ] = candlestick\n    return { start, count, open, close, high, low, size, volume }\n  })\n  return candlesticks\n}\n\nasync function getCandlestickCombine(data) {\n  let { start, end, interval } = data\n  \n  let resolution = ENUM_INTERVAL_TYPE.parseValueByText(interval)\n  resolution = utils.formatResolution(resolution)\n  let ms = resolution * maxCandlestickPerRequest * 60 * 1000\n\n  let promises = []\n  let periodEnd = end\n  let periodStart = end - ms\n  while (periodEnd > start) {\n    let promise = getCandlestick({\n      ...data,\n      start: _.max([periodStart, start]),\n      end: periodEnd\n    })\n    promises.push(promise)\n    \n    periodEnd -= ms\n    periodStart -= ms\n  }\n\n  let resp = await Promise.all(promises)\n  let candles = _.flatten(resp)\n  return candles\n}\n\nasync function getBalances(accountId) {\n  const params = {\n    accountId,\n  };\n\n  const response = await relayApi.get('/user/balances', {params});\n  return response['data'];\n}\n\n// async function sendWithdrawTransaction(signedEthereumTx) {\n//   const data = {\n//     data: signedEthereumTx\n//   };\n//   try {\n//     const response = await relayApi.post('/onchainWithdrawal', data);\n//     return parseResponse(response);\n//   } catch (e) {\n//     throw e;\n//   }\n// }\n\nasync function getApiKey(params, signed) {\n  const signature = signed.Rx + ',' + signed.Ry + ',' + signed.s;\n  const headers = {\n    'X-API-SIG': signature\n  };\n  const response = await relayApi.get('/apiKey', {\n    params,\n    headers\n  })\n  return response.data\n}\n\nasync function getTickers(params) {\n  let market = params.markets.join(',')\n  let resp = await relayApi.get('/ticker', {params: {\n    market\n  }})\n\n  let tickers = resp.data.map(ticker => {\n    let [ market, timestamp, size, volume, open, high, low, close, count, bid, ask ] = ticker\n    return { market, timestamp, size, volume, open, high, low, close, count, bid, ask }\n  })\n  return tickers\n}\n\nasync function getPrice(params) {\n  const response = await relayApi.get('/price', {params});\n  return response['data'];\n}\n\nasync function getTransactions(params) {\n  let { accountId, offset, limit, statuses, types, start, end, symbol: tokenSymbol } = params\n  \n  // v1是一个接口，v2 拆开成了两个接口\n  let type = types && types[0] || 'deposit'\n  const response = await relayApi.get(`/user/${type === 'deposit' ? 'deposits' : 'withdrawals'}`, {\n    params: {\n      accountId,\n      // 是否获取创建用户伴随的充值记录\n      allType: true,\n      offset,\n      limit,\n      status: statuses && statuses.join(','),\n      start,\n      end,\n      tokenSymbol\n    }\n  })\n\n  const responseData = response['data'];\n  let txs = responseData['transactions'];\n  return txs.map(tx => {\n    tx.txType = type\n    tx.realAmount = tx.amount\n    return tx\n  })\n}\n\nasync function getNonce(address) {\n  const params = {\n    owner: address\n  };\n  const response = await relayApi.get('/ethNonce', {params})\n  return response.data\n}\n\n// async function sendApprove(signedEthereumTx) {\n//   return sendDeposit(signedEthereumTx);\n// }\n\n// async function sendDeposit(signedEthereumTx) {\n//   const data = {\n//     data: signedEthereumTx\n//   };\n//   try {\n//     const response = await relayApi.post('/deposit', data)\n//     return parseResponse(response);\n//   } catch (e) {\n//     throw e;\n//   }\n// }\n\nasync function getOrderId(accountId, tokenSId, apiKey) {\n  const params = {\n    accountId: accountId,\n    tokenSId: tokenSId\n  };\n\n  const response = await relayApi.get('/orderId', {params})\n  return response['data']\n}\n\nasync function submitOrderToLightcone(params) {\n  const response = await relayApi.post('/order', params)\n  return response['data']\n}\n\nasync function getRecommendedGasPrice() {\n  const response = await relayApi.get('/recommendedGasPrice')\n  const price = response['data'];\n  let minPrice = BigNumber(price)\n  let normalPrice = minPrice.plus(2 * 1e9)\n  let maxPrice = minPrice.times(30)\n  return [minPrice, normalPrice, maxPrice]\n\n}\n\nasync function getAllowance(owner, symbol) {\n  let token = config.getTokenBySymbol(symbol);\n  let tokenAddress = token.address;\n  const params = {\n    owner,\n    token: tokenAddress\n  };\n\n  const response = await relayApi.get('/allowances', {params})\n  return response['data']\n}\n\nexport default {\n  getBalances: withoutThrow(getBalances),\n  getOrders: withoutThrow(getOrders),\n  cancelOrders: withoutThrow(cancelOrders),\n  getEthBalance: withoutThrow(getEthBalance),\n  getTokenBalance: withoutThrow(getTokenBalance),\n  // sendWithdrawTransaction: withoutThrow(sendWithdrawTransaction),\n  getTrade: withoutThrow(getTrade),\n  lightconeGetAccount: withoutThrow(lightconeGetAccount),\n  getDepth: withoutThrow(getDepth),\n  getCandlestick: withoutThrow(getCandlestick),\n  getCandlestickCombine: withoutThrow(getCandlestickCombine),\n  getApiKey: withoutThrow(getApiKey),\n  getTickers: withoutThrow(getTickers),\n  getPrice: withoutThrow(getPrice),\n  getTransactions: withoutThrow(getTransactions),\n  getNonce: withoutThrow(getNonce),\n  // sendApprove: withoutThrow(sendApprove),\n  // sendDeposit: withoutThrow(sendDeposit),\n  getOrderId: withoutThrow(getOrderId),\n  submitOrderToLightcone: withoutThrow(submitOrderToLightcone),\n  getRecommendedGasPrice: withoutThrow(getRecommendedGasPrice),\n  getAllowance: withoutThrow(getAllowance),\n  ...wedexApi\n}","import _ from 'lodash'\nimport { takeLatest, takeEvery, all, call, put, select } from 'redux-saga/effects'\nimport { startup } from './StartupSagas'\nimport api from 'api'\nimport { push, replace } from 'connected-react-router'\nimport { ENUM_ACCOUNT_STATUS } from 'utils/enum'\nimport utils, { notification } from 'utils'\n\n/* ------------- Types ------------- */\n\n/* ------------- Sagas ------------- */\n\n/* ------------- Connect Types To Sagas ------------- */\n\n\n// 所有使用saga异步调用的函数，必须处理所有异常，否则抛出异常后会导致整个saga事件机制崩溃，程序无法正常使用\nfunction safeWrap (func) {\n  if (!func) {\n    return () => {}\n  }\n\n  return function * (...args) {\n    // console.tron.log({safeWrap: 'safeWrap', args})\n    try {\n      yield call(func, ...args)\n    } catch (err) {\n      console.info('saga err!!!', err)\n      // console.tron.log(err)\n    }\n  }\n}\n\nfunction * onLocationChange (api, {payload}) {\n  let pathname = payload && payload.location && payload.location.pathname\n\n  if (_.includes(pathname, 'mine')) {\n    let status = yield select((state) => state.dexAccount.state)\n    if (status !== ENUM_ACCOUNT_STATUS.LOGGED_IN.getValue()) {\n      // 直接在地址栏输入受保护的路由，不waitFor的话，put(push('/'))会失效。\n      // 表现为地址栏已变化，但是页面并未正常刷新。\n      // 可能是 router 尚未加载（appstate.loading控制着app.js中的路由组件，尚未渲染）。也可能是 store/index.js中的 history 中间件未加载完。\n      // 优化点：在受保护组件内判断，就不会有一个短暂的切换。\n\n      yield call(utils.waitFor, 200)\n      console.info(`未登录，跳转主页, 状态：${ENUM_ACCOUNT_STATUS.toText(status)}`, )\n      notification.success({ message: '请先登录' })\n      yield put(push('/'))\n    }\n  }\n}\n\nexport default function * root () {\n  yield all([   \n    takeLatest('@@router/LOCATION_CHANGE', safeWrap(onLocationChange), api),\n    takeLatest('persist/REHYDRATE', safeWrap(startup), api)\n  ])\n}\n","import moment from 'moment'\nexport default {\n  state: {\n    ready: false,\n    loading: false,\n    maintainInfo: {\n      closed: false,\n      image: null\n    },\n    awardInfo: {\n      visible: false,\n      id: null,\n      title: '',\n      amount: 500,\n      unit: 'LRC',\n      createdAt: undefined\n    },\n    notification: {}\n  },\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n    startup: (state) => {\n      return { \n        ...state, \n        ready: true \n      }\n    },\n    showEggAward: (state, payload) => {\n      return { \n        ...state, \n        awardInfo: {\n          visible: true,\n          ...payload\n        }\n      }\n    },\n    closeAward: (state) => {\n      let {awardInfo} = state\n      awardInfo.visible = false\n      return { \n        ...state, \n        awardInfo\n      }\n    }\n  }\n}","import { ethereum } from 'librarys/lightcone_v3';\nimport appConfig from 'config/appConfig'\nvar detect = require('detect-browser').detect;\nlet { chainId } = appConfig\n\n// DKEY:\n// isDkey()  同步boolean  \n// enable(success: String, error: String)  异步\n// getBalance(success: String, error: String)  异步\n// sign(params: String, success: String, error: String)  异步\n// networkVersion() 同步 string\n\nconst initState = {\n  startConnecting: false,\n  isDesiredBrowser: false,\n  isDesiredNetwork: false,\n  installed: false,\n  walletName: 'metamask',\n  enable: false,\n}\n\nasync function getAddress (walletName) {\n  if (walletName === 'metamask') {\n    console.log('连接 metamask');\n    const accounts = await window.ethereum.enable();\n    let address = accounts[0]\n    if (!address) {\n      console.log(`metamask 获取不到地址`);\n      return Promise.reject('获取不到地址')\n    }\n    console.log(`metamask 获取到地址: ${address}`);\n\n    window.wallet = ethereum.account.fromMetaMask(window.web3, address, address)\n    return address\n  } else if (walletName === 'dkey') {\n    console.log('连接 dkey');\n    let promise = new Promise((resolve, reject) => {\n      window.dkeyEnableSuccess = function (resp) {\n        resolve(resp.result)\n      }\n      window.dkeyEnableFailure = function (error) {\n        reject(error)\n      }\n      window.ethereum.enable('dkeyEnableSuccess', 'dkeyEnableFailure')\n    })\n    const address = await promise\n    if (!address) {\n      console.log(`dkey 获取不到地址`);\n      return Promise.reject('获取不到地址')\n    }\n    console.log(`dkey 获取到地址: ${address}`);\n\n    window.wallet = ethereum.account.fromDkey(window.web3, address, address)\n    return address\n  }\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    updateMetaMask: (state, payload) => ({ ...state, ...payload }),\n  },\n  effects: dispatch => ({\n    async connectToMetaMask (payload, { metaMask, dexAccount }) {\n      this.updateMetaMask({ startConnecting: true })\n\n      const browser = detect()\n      let valid = _.includes(['firefox', 'chrome', '360'], browser.name)\n      this.updateMetaMask({ isDesiredBrowser: valid })\n\n      if (typeof window.ethereum === 'undefined') {\n        this.updateMetaMask({\n          installed: false,\n          startConnecting: false\n        })\n        return\n      }\n\n      if (window.ethereum.isMetaMask) {\n        this.updateMetaMask({\n          installed: true,\n          walletName: 'metamask'\n        })\n\n        window.ethereum.autoRefreshOnNetworkChange = false;\n        // 刚进来时，检测不到window.ethereum.networkVersion，因此延迟 1s\n        setTimeout(() => {\n          const desireNetwork = chainId\n          this.updateMetaMask({\n            isDesiredNetwork:\n              desireNetwork === Number(window.ethereum.networkVersion)\n          })\n        }, 1000)\n\n        window.ethereum.on('networkChanged', networkVersion => {\n          console.info('### networkChanged')\n          const desireNetwork = chainId\n          this.updateMetaMask({\n            isDesiredNetwork: desireNetwork === Number(networkVersion)\n          });\n        });\n        window.ethereum.on('accountsChanged', accounts => {\n          console.info('### accountsChanged')\n          let address = accounts[0]\n          if (!address) return\n          window.wallet = ethereum.account.fromMetaMask(window.web3, address, address)\n          dispatch.dexAccount.getAccount(address)\n        })\n      } else if (window.ethereum.isDkey) {\n        const desireNetwork = chainId\n        this.updateMetaMask({\n          isDesiredNetwork: desireNetwork === Number(window.ethereum.networkVersion()),\n          installed: true,\n          walletName: 'dkey'\n        })\n      } else {\n        this.updateMetaMask({\n          installed: false,\n          startConnecting: false\n        })\n        return\n      }\n\n      this.updateMetaMask({ startConnecting: false })\n      await dispatch.metaMask.initAccountFromMetaMask()\n    },\n    // 网站刚初始化的时候，不调用此函数。防止出现授权弹窗。只有在必须使用地址的流程，才进行获取。\n    // 但是对于 DKEY，进网站的时候，在外面改了地址。如果不加载时获取新的地址，则不知道改变了。而我们又保存了用户的登录信息，那么显示我的订单，就是以前的地址。\n    // 结论，必须改为一进来就获取地址。如果壳子需要授权（DKEY 可优化为不要授权），那就直接授权弹窗，体验依赖于壳子。\n    async initAccountFromMetaMask (payload, { metaMask }) {\n      // metaMask.enable 代表地址已经被获取到。\n      if (metaMask.enable) return\n\n      let address = await getAddress(metaMask.walletName)\n\n      if (!address) {\n        dispatch.appState.update({\n          notification: {\n            type: 'info',\n            message: 'notify.metamask.needLogin'\n          },\n        })\n        return\n      }\n\n      // window.wallet = ethereum.account.fromMetaMask(window.web3, address, address)\n      // 维护dexAccount中的地址信息\n      await dispatch.dexAccount.getAccount(address);\n\n      this.updateMetaMask({ enable: true })\n    }\n  })\n}","import moment from 'moment'\nimport { push } from 'connected-react-router'\nimport { ENUM_ACCOUNT_STATUS } from 'utils/enum'\nimport api from 'api'\nimport utils, { notification } from 'utils'\nimport { ethereum } from 'librarys/lightcone_v3';\n\nconst initState = {\n  address: '',\n  accountId: '',\n  passwordHash: '',\n  // 需要去服务端获取，因此不应该每次生成。\n  apiKey: '',\n  state: ENUM_ACCOUNT_STATUS.UNSIGNED.getValue(),\n  rememberMeStartTime: null,\n  rememberMeMinutes: null,\n  canceledOrders: [],\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    // 账户切换时，初始化当前账户，只保留地址。\n    // TODO: 缓存不同地址对应的账户。否则 creating 状态，会被丢弃。\n    switchAccount: (state, address) => {\n      if (state.address === address) {\n        return state\n      } else {\n        return {\n          ...initState,\n          address\n        }\n      }\n    },\n    clearAccountInfo ({ address }, payload) {\n      return {\n        ...initState,\n        address\n      }\n    },\n    updateAccount: (state, payload) => {\n      return {\n        ...state,\n        ...payload\n      }\n    },\n    checkAccountOvertime (state, payload) {\n      let { rememberMeStartTime, rememberMeMinutes } = state\n      if (rememberMeStartTime && rememberMeMinutes) {\n        let validUntil = moment(rememberMeStartTime).add(rememberMeMinutes, 'minutes')\n        if (moment().isAfter(validUntil)) {\n          notification['success']({\n            duration: 0,\n            message: '授权超时',\n            description: '请重新登录'\n          });\n          return {\n            ...initState,\n            address: state.address,\n            accountId: state.accountId,\n          }\n        }\n      }\n      return state\n    }\n  },\n  effects: dispatch => ({\n    async logout () {\n      this.clearAccountInfo()\n      // 退回主页。\n      dispatch(push('/'))\n      // 中继的 socket 是跟 apikey 绑定的。如果切换了账号，socket 也必须重连\n      dispatch.socket.start()\n      // 委托订单和余额也要清除，免得首页有残留信息。\n      dispatch.order.initialize()\n      dispatch.balance.initialize()\n      dispatch.walletBalance.initialize()\n      dispatch.placeOrder.initialize()\n    },\n    // 获取中继的 account 基本信息。\n    async getAccount (address, { dexAccount, socket }) {\n      // initAccountFromMetaMask 会调用此函数，那么应该判断下地址是否变化。\n      // 其实不管什么场景，只要调用此函数，都判断下地址变化也没关系。\n      if (dexAccount.address !== address) {\n        this.logout()\n        this.switchAccount(address)\n      }\n\n      const relayAccount = await api.lightconeGetAccount(address);\n      // 中继还没账号\n      if (!relayAccount) {\n        this.updateAccount({ state: ENUM_ACCOUNT_STATUS.UNCREATED.getValue()})\n        return\n      } else {\n        // 没登录的状态下，不判断 isFreeze，统一走到 UNSIGNED，再触发登录。\n        // LOCKED 只有登录流程才会置这个标记。\n        // if (relayAccount.isFreeze) {\n          // 中继有账户，但是冻结的\n          // this.updateAccount({ state: ENUM_ACCOUNT_STATUS.LOCKED.getValue() })\n\n        // 如果本地是没创建（可能从缓存中恢复的），则改为没登录。\n        // 其他状态，则保持原状态。\n        if (dexAccount.state === ENUM_ACCOUNT_STATUS.UNCREATED.getValue()) {\n          this.updateAccount({ state: ENUM_ACCOUNT_STATUS.UNSIGNED.getValue() })\n        }\n      }\n\n      this.updateAccount({\n        accountId: relayAccount.accountId,\n      })\n      dispatch.balance.startFetchBalance()\n    },\n    async loadAccount (payload, { dexAccount }) {\n      // 若缓存中有地址，需要处理。\n      if (!dexAccount.address) return\n\n      // 启动时，缓存中有地址，直接初始化 window.wallet。\n      let { address } = dexAccount\n      window.wallet = ethereum.account.fromMetaMask(window.web3, address, address)\n\n      // 启动时，如果账户状态仍然是创建中，说明上次没创建完就关闭了。继续开始检查。\n      if (dexAccount.state === ENUM_ACCOUNT_STATUS.CREATING.getValue()) {\n        dispatch.dexAccount.checkAccountCreated()\n      } else {\n        // 重新获取account 基本信息，并刷新本地。\n        // 重要: 必须放在 else 分支，因为中继没有 creating 态，会导致被更新为 uncreated 态。\n        await dispatch.dexAccount.getAccount(address)\n      }\n    },\n    async checkAccountCreated (payload, { dexAccount, appState }) {\n      if (window.checkAccountInterval) {\n        clearInterval(window.checkAccountInterval)\n      }\n      window.checkAccountInterval = setInterval(async () => {\n        try {\n          // 创建完账号时，只是改了 passwordHash，apikey 是不改的。\n\n          const relayAccount = await api.lightconeGetAccount(window.wallet.account)\n          // 1. 新地址才会没有账号，链上未确认，需要七八分钟。这期间保持 creating 状态。\n          if (!relayAccount) return\n          // 刚创建好的账号，有一段时间是 isFreeze 状态，这期间认为还是没创建好。\n          if (relayAccount.isFreeze) return\n          // 新地址，则之前还不知道accountId，需要赋值。\n          this.updateAccount({ accountId: relayAccount.accountId })\n\n          // TODO\n          // // 2. 老地址才需要通过如下方式判断密码是否更改完成。用新密码匹配公钥，匹配不成功，说明链上未确认，需要七八分钟。这期间保持 updating 状态。应该能下单的。\n          // //  新地址是不用做这个判断的，因为创建账号的同时，公钥会一起填充。\n          // let valid = utils.checkPassword(dexAccount.passwordHash, relayAccount)\n          // if (!valid) {\n          //   // this.updateAccount({\n          //   //   state: ENUM_ACCOUNT_STATUS.CREATED.getValue()\n          //   // })\n          //   return\n          // }\n\n          // 登录时，只验证密码，不更新account，直接在登录流程更新 apiKey。\n          // 而 upsert 流程，需要在此处定时检查更新\n          let apiKey = await utils.genApiKey(relayAccount.accountId, dexAccount.passwordHash)\n          this.updateAccount({\n            apiKey,\n            state: ENUM_ACCOUNT_STATUS.LOGGED_IN.getValue()\n          })\n          dispatch.balance.startFetchBalance()\n          dispatch.order.fetchOrders()\n\n          dispatch.appState.update({\n            notification: {\n              type: 'success',\n              message: 'notify.account.modify.effective'\n            },\n          })\n\n          clearInterval(window.checkAccountInterval)\n        } catch (e) {}\n      }, 5000);\n    }\n  })\n}","import _ from 'lodash'\nimport api from 'api'\nimport utils from 'utils'\n\nconst initDeepthState = {\n  loading: false,\n  level: 0,\n  asks: [],\n  bids: [],\n  incrementalVersion: null\n}\n\nfunction scrollSellTableToBottom () {\n  let tableDom = document.getElementsByClassName('sell-table')[0]\n  if (!tableDom) return\n  let tableBodyDom = tableDom.getElementsByClassName('ant-table-body')[0]\n  if (!tableBodyDom) return\n  tableBodyDom.scrollTop = tableBodyDom.scrollHeight\n}\n\nfunction formatFromWEI (resp, currentMarket, level) {\n  let { asks, bids } = resp\n  let { baseToken: baseSymbol, quoteToken: quoteSymbol, pricePrecision, amountPrecision, totalPrecision } = currentMarket\n\n  asks = asks.map(ask => ({\n    ...ask,\n    type: 'ask',\n    // 这里必须 toFixed 转为字符串，因为界面上要显示为精度带 0,比如 23.120000\n    // 所以排序的时候，需要转成 number 再排序\n    price: Number(ask.price).toFixed(pricePrecision - level),\n    size: utils.fromWEI(baseSymbol, ask.size, amountPrecision),\n    volume: utils.fromWEI(quoteSymbol, ask.volume, totalPrecision)\n  }))\n  bids = bids.map(bid => ({\n    ...bid,\n    type: 'bid',\n    price: Number(bid.price).toFixed(pricePrecision - level),\n    size: utils.fromWEI(baseSymbol, bid.size, amountPrecision),\n    volume: utils.fromWEI(quoteSymbol, bid.volume, totalPrecision)\n  }))\n\n  return { asks, bids }\n}\n\n// direction: 求合时的方向。按照此顺序排好序，再从左往右累加求和。\n// asks(卖方) 从小到大。bids(买) 从大到小\nfunction calcSummationCurve (items, direction, currentMarket) {\n  // 计算累计曲线时必须先排序。因此 depth 的排序统一在此处做。\n  items = _.orderBy(items, item => -Number(item.price))\n  // 只是为了计算累计值的时候循环方便。处理完后再重新转成倒序。\n  if (direction === 'asc') {\n    items = _.reverse(items)\n  }\n\n  let { amountPrecision, totalPrecision } = currentMarket\n  let sumSize = 0\n  let sumVolume = 0\n  for (let item of items) {\n    let { size, volume } = item\n    sumSize += Number(size)\n    sumVolume += Number(volume)\n    item.sumSize = Number(sumSize.toFixed(amountPrecision))\n    item.sumVolume = Number(sumVolume.toFixed(totalPrecision))\n  }\n\n  if (direction === 'asc') {\n    items = _.reverse(items)\n  }\n  return items\n}\n\nexport default {\n  state: initDeepthState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload })\n  },\n  effects: dispatch => ({\n    async fetchDepth (payload, { markets, depth }) {\n      if (!markets.currentMarket) return\n\n      let { market: marketPair } = markets.currentMarket\n      if (!marketPair) return\n      \n      this.update({\n        asks: [],\n        bids: [],\n        loading: true,\n      })\n\n      const resp = await api.getDepth(marketPair, depth.level, 100)\n      let { asks, bids } = formatFromWEI(resp, markets.currentMarket, depth.level)\n\n      this.update({\n        asks: calcSummationCurve(asks, 'asc', markets.currentMarket),\n        bids: calcSummationCurve(bids, 'desc', markets.currentMarket),\n        incrementalVersion: null,\n        loading: false,\n      })\n      \n      // 每次全量获取完 depth 后，重新订阅\n      dispatch.socket.unsubscribe([{\n        topic: 'orderbook',\n        unsubscribeAll: true\n      }])\n      dispatch.socket.subscribe([{\n        topic: 'orderbook',\n        market: marketPair,\n        level: depth.level,\n        // count: \n      }])\n\n      scrollSellTableToBottom()\n    },\n    async setLevel (level) {\n      this.update({level})\n      dispatch.depth.fetchDepth()\n    },\n    async scrollSellTable () {\n      scrollSellTableToBottom()\n    },\n    async incrementalUpdate (payload, { depth: depthState, markets }) {\n      let { market: marketPair } = markets.currentMarket\n      if (!marketPair) return\n\n      let { startVersion, endVersion, data: newDepth } = payload\n      let { incrementalVersion, asks, bids, level } = depthState\n\n      if (incrementalVersion) {\n        // 2510, 2510 ---> 2511, 2511\n        let expectVersion = incrementalVersion + 1\n        if (startVersion < expectVersion) {\n          return\n        }\n        \n        if (startVersion > expectVersion) {\n          // 说明跳跃了，需要重新获取全量的。\n          dispatch.depth.fetchDepth()\n          return\n        }\n      }\n      \n      // 增量更新\n      newDepth.asks = newDepth.asks.map(depth => {\n        let [ price, size, volume, count ] = depth\n        return { price, size, volume, count }\n      })\n      newDepth.bids = newDepth.bids.map(depth => {\n        let [ price, size, volume, count ] = depth\n        return { price, size, volume, count }\n      })\n      newDepth = formatFromWEI(newDepth, markets.currentMarket, level)\n      asks = _.chain([...newDepth.asks, ...asks]).unionBy(a => a.price).reject(a => Number(a.size) === 0).value()\n      bids = _.chain([...newDepth.bids, ...bids]).unionBy(a => a.price).reject(a => Number(a.size) === 0).value()\n\n      this.update({\n        asks: calcSummationCurve(asks, 'asc', markets.currentMarket),\n        bids: calcSummationCurve(bids, 'desc', markets.currentMarket),\n        incrementalVersion: endVersion\n      })\n    },\n  })\n}","import _ from 'lodash'\nimport numeral from 'numeral'\nimport utils from 'utils'\nimport api from 'api'\n\nconst maxTradeCount = 40\nconst initState = {\n  loading: false,\n  list: [],\n  latestPrice: 0,\n  lastPrice: 0,\n  variation: 0,\n  page: 1,\n  pageSize: 10\n}\n\nfunction formatFromWEI (trades, currentMarket) {\n  let { baseToken: baseSymbol, quoteToken: quoteSymbol, pricePrecision, amountPrecision, totalPrecision } = currentMarket\n\n  trades = trades.map(trade => {\n    trade.side = _.toUpper(trade.side)\n    trade.timestamp = Number(trade.timestamp)\n    trade.price = Number(trade.price).toFixed(pricePrecision)\n    trade.size = utils.fromWEI(baseSymbol, Number(trade.size), amountPrecision)\n    return trade\n  })\n\n  return trades\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n    updateVariation: (state, latestPrice) => {\n      let lastPrice = state.latestPrice\n      let variation = 0\n      if (lastPrice && latestPrice) {\n        variation = (latestPrice - lastPrice) / lastPrice\n      }\n      return {\n        ...state,\n        lastPrice,\n        latestPrice,\n        variation\n      }\n    }\n  },\n  effects: dispatch => ({\n    async fetchTrade (payload, { markets, trade: tradeStore }) {\n      if (!markets.currentMarket) return\n      let { market: marketPair } = markets.currentMarket\n\n      // 每次全量获取完 trade 后，重新订阅\n      dispatch.socket.unsubscribe([{\n        topic: 'trade',\n        unsubscribeAll: true\n      }])\n      dispatch.socket.subscribe([{\n        topic: 'trade',\n        market: marketPair,\n      }])\n\n      this.update({\n        list: [],\n        loading: true,\n      })\n\n      var trades = await api.getTrade(marketPair, maxTradeCount);\n      if (!trades || trades.length === 0) {\n        this.update({ loading: false })\n        return\n      }\n      trades = formatFromWEI(trades, markets.currentMarket)\n      trades = trades.map((item, i) => {\n        item.index = i\n        return item\n      })\n\n      this.update({\n        list: trades,\n        loading: false\n      })\n\n      let currentPrice = trades[0].price\n      this.updateVariation(currentPrice)\n      document.title = `${currentPrice}|${marketPair}|WeDEX`\n    },\n    async incrementalUpdate (trades, { trade: tradeState, markets }) {\n      let { market: marketPair } = markets.currentMarket\n      if (!marketPair) return\n\n      // array to object\n      trades = trades.map(trade => {\n        let [timestamp, tradeId, side, size, price, fee] = trade\n        return { timestamp, tradeId, side, size, price, fee }\n      })\n      trades = formatFromWEI(trades, markets.currentMarket)\n      \n      // 新数据排序后，插入头部。\n      trades = _.orderBy(trades, ['timestamp'], ['desc'])\n      let { list } = tradeState\n      list.unshift(...trades)\n      // 太多会积压很多 dom，导致卡\n      let modified = _.take(list, maxTradeCount)\n      modified = modified.map((item, i) => {\n        item.index = i\n        return item\n      })\n\n      this.update({\n        list: modified,\n      })\n\n      let currentPrice = modified[0].price\n      this.updateVariation(currentPrice)\n      document.title = `${currentPrice}|${marketPair}|WeDEX`\n    },\n  })\n}","import _ from 'lodash'\nimport { ENUM_INTERVAL_TYPE } from 'utils/enum'\nimport api from 'api'\nimport utils from 'utils'\n\nconst initState = {\n  dayInfo: {\n    \"high\": 0,\n    \"low\": 0,\n    \"size\": 0,\n    \"volume\": 0\n  },\n  tvSubscribers: []\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload })\n  },\n  effects: dispatch => ({\n    async fetchDayInfo (payload, { markets, candleStick }) {\n      if (!markets.currentMarket) return\n\n      var candles = await api.getCandlestick({\n        market: markets.currentMarket.market,\n        interval: '1d',\n      })\n      if (!candles || candles.length === 0) return\n\n      let dayInfo = _.pick(candles[0], ['high', 'low', 'size', 'volume'])\n      let { baseToken: baseSymbol } = markets.currentMarket\n      dayInfo.size = utils.fromWEI(baseSymbol, dayInfo.size)\n\n      this.update({\n        dayInfo: dayInfo,\n      })\n    },\n    async subscribeBars (payload, { candleStick: {tvSubscribers} }) {\n      let {subscribeUID, onRealtimeCallback, resolution, symbolInfo} = payload\n\n      let market = symbolInfo['name'];\n      resolution = ENUM_INTERVAL_TYPE.toText(resolution)\n      let topic = `candlestick&${market}&${resolution}`\n\n      let newSub = {\n        lastBar: null,\n        subscribeUID,\n        topic,\n        realtimeCb: onRealtimeCallback,\n        resolution: resolution,\n        symbolInfo: symbolInfo\n      }\n      tvSubscribers = _.unionBy(tvSubscribers, [newSub], subscribeUID)\n      this.update({tvSubscribers})\n\n      dispatch.socket.unsubscribe([{\n        topic: 'candlestick',\n        unsubscribeAll: true\n      }])\n      dispatch.socket.subscribe([{\n        topic: 'candlestick',\n        market,\n        interval: resolution,\n      }])\n    },\n    async unsubscribeBars (subscriberUID, { candleStick: {tvSubscribers} }) {\n      tvSubscribers = _.reject(tvSubscribers, sub => sub.subscriberUID = subscriberUID)\n      this.update({tvSubscribers})\n    },\n    async incrementalUpdate(payload, { candleStick: {tvSubscribers} }) {\n      let { topic: topicInfo, data } = payload\n      let { topic, market, interval } = topicInfo\n      \n      let subscriberTopic = `candlestick&${market}&${interval}`\n      let subscriber = tvSubscribers.find(sub => _.toUpper(sub.topic) === _.toUpper(subscriberTopic))\n      if (!subscriber) return\n\n      // let lastBar = sub.lastBar\n\n      let quoteSymbol = subscriber.symbolInfo.name.split('-')[1]\n      let [start, count, open, close, high, low, size, volume] = data\n      let newCancle = {\n        time: Number(start),\n        high: Number(high),\n        low: Number(low),\n        open: Number(open),\n        close: Number(close),\n        volume: utils.fromWEI(quoteSymbol, volume)\n      }\n      console.info('蜡烛图推送', newCancle)\n      subscriber.realtimeCb(newCancle)\n      // sub.lastBar = lastBar\n    }\n  })\n}","// candlestick 是有开盘闭盘时间。而 ticker 是滚动的时间窗。\nimport _ from 'lodash'\nimport { ENUM_INTERVAL_TYPE } from 'utils/enum'\nimport api from 'api'\nimport utils from 'utils'\n\nconst initState = {\n  dayInfo: {\n    \"high\": 0,\n    \"low\": 0,\n    \"size\": 0,\n    \"volume\": 0,\n    \"open\": 0,\n    \"close\": 0,\n    \"differ\": 0,\n    \"variation\": 0\n  },\n}\n\nfunction formatTicker (ticker) {\n  let { market: marketName, open, high, low, close, size, volume } = ticker\n\n  const [baseTokenSymbol, quoteTokenSymbol] = marketName.split('-')\n\n  size = utils.fromWEI(baseTokenSymbol, size)\n  volume = utils.fromWEI(quoteTokenSymbol, volume)\n\n  open = Number(open)\n  close = Number(close)\n  let differ = close - open\n  let variation = open ? differ / open : 0\n\n  return { high, low, size, volume, open, close, differ, variation }\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload })\n  },\n  effects: dispatch => ({\n    async fetchTicker (payload, { markets, dexAccount }) {\n      if (!markets.currentMarket) return\n      let { market: marketPair } = markets.currentMarket\n      \n      //  1. 每次全量获取 ticker 时，重新订阅\n      dispatch.socket.unsubscribe([{\n        topic: 'ticker',\n        unsubscribeAll: true\n      }])\n      dispatch.socket.subscribe([{\n        topic: 'ticker',\n        market: marketPair,\n      }])\n      \n      let { apiKey } = dexAccount\n      let tickers = await api.getTickers({\n        markets: [marketPair],\n        apiKey\n      })\n\n      if (!tickers || tickers.length === 0) return\n\n      let dayInfo = formatTicker(tickers[0])\n      this.update({\n        dayInfo: dayInfo,\n      })\n    },\n    async incrementalUpdate(payload, { candleStick: {tvSubscribers} }) {\n      let { topic, data: ticker } = payload\n\n      let [ market, timestamp, size, volume, open, high, low, close, count, bid, ask ] = ticker\n      ticker = { market, timestamp, size, volume, open, high, low, close, count, bid, ask }\n      let dayInfo = formatTicker(ticker)\n      this.update({\n        dayInfo: dayInfo,\n      })\n    }\n  })\n}","import _ from 'lodash'\nimport api from 'api'\nimport utils from 'utils'\n\nconst initState = {\n  markets: [],\n  stars: [],\n  tabs: [],\n  currentTab: null,\n  currentMarkets: [],\n  currentMarket: null,\n  cond: {\n    sort: 'market',\n    sortDirection: 'asc'\n  }\n}\n\nfunction formatTicker (ticker) {\n  let { market: marketName, open, close, size: size24h, volume: volume24h } = ticker\n\n  const [baseTokenSymbol, quoteTokenSymbol] = marketName.split('-')\n  size24h = utils.fromWEI(baseTokenSymbol, size24h)\n  volume24h = utils.fromWEI(quoteTokenSymbol, volume24h)\n\n  open = Number(open)\n  close = Number(close)\n  let differ = close - open\n  let variation = open ? differ / open : 0\n  return { ...ticker, differ, close, variation, size24h, volume24h }\n}\n\nexport default {\n  state: initState,\n  selectors: (slice, createSelector, hasProps) => ({\n    getMarketBySymbol () {\n      return (state, baseToken, quoteToken) => {\n        let { markets } = state.markets\n        return _.find(markets, market => (\n          (market.baseToken === baseToken && market.quoteToken === quoteToken) ||\n          (market.baseToken === quoteToken && market.quoteToken === baseToken)\n        )) || {}\n      }\n    }\n  }),\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n    updateFilterCond: (state, payload) => {\n      let {cond, currentMarkets} = state\n      cond = { ...cond, ...payload }\n      currentMarkets = _.orderBy(currentMarkets, [cond.sort], [cond.sortDirection])\n      return {\n        ...state,\n        cond,\n        currentMarkets\n      }\n    },\n    updateMarketsTicker: (state, tickers) => {\n      let { currentMarkets, currentMarket, cond } = state\n      // “当前交易对”可能不在“当前交易对列表”。交易对列表和交易对都需要更新。这样处理可以避免所有交易对一起更新。\n      // 更新当前交易对列表\n      currentMarkets = currentMarkets.map(item => {\n        let ticker = _.find(tickers, {market: item.market})\n        if (!ticker) {\n          return item\n        }\n\n        let { differ, close, variation, size24h, volume24h } = ticker\n        let { pricePrecision } = item\n        item.differ = differ.toFixed(pricePrecision)\n        item.close = close.toFixed(pricePrecision)\n        item.variation = variation\n        item.size24h = size24h\n        item.volume24h = volume24h\n        return item\n      })\n      currentMarkets = _.orderBy(currentMarkets, [cond.sort], [cond.sortDirection])\n\n      // 更新当前交易对\n      if (currentMarket) {\n        let currentMatched = _.find(tickers, {market: currentMarket.market})\n        // 有可能响应回来的时候，current 已经改变了\n        if (currentMatched) {\n          let { close, variation } = currentMatched\n          let { pricePrecision } = currentMarket\n          currentMarket.close = close.toFixed(pricePrecision)\n          currentMarket.variation = variation\n        }\n      }\n\n      return {\n        ...state,\n        currentMarkets,\n        currentMarket,\n      }\n    }\n  },\n  effects: dispatch => ({\n    async fetchMarkets (payload, { router, persistData }) {\n      // 即使传了 'LRC-ETH'，获取到的仍是所有的列表。\n      // let markets = await config.getMarkets()\n      let { channelName, market } = persistData\n      let markets = await api.getExchanges({ channelName })\n      if (!markets) return\n\n      let [ defaultBaseSymbol, defaultQuoteSymbol ] = market.split('-')\n      let quoteTokens = _.chain(markets).map(market => market.quoteToken).uniq().value()\n      let defaultTab = defaultQuoteSymbol\n      let tabs = ['selfChoice', ...quoteTokens]\n      this.update({\n        markets,\n        tabs,\n      })\n      \n      // 设置 tab\n      dispatch.markets.setCurrentTab(defaultTab)\n      \n      // 设置默认当前市场为第一个\n      let currentMarkets = _.filter(markets, {quoteToken: defaultTab})\n      let currentMarket = _.find(currentMarkets, { baseToken: defaultBaseSymbol })\n      if (currentMarket) {\n        dispatch.markets.setCurrentMarket(currentMarket)\n      }\n    },\n    async setCurrentTab (tab, { markets }) {\n      let { cond } = markets\n\n      let currentMarkets = []\n      if (tab === 'selfChoice') {\n        currentMarkets = markets.stars\n      } else {\n        currentMarkets = _.filter(markets.markets, {quoteToken: tab})\n      }\n      currentMarkets = _.orderBy(currentMarkets, [cond.sort], [cond.sortDirection])\n\n      this.update({\n        currentTab: tab,\n        currentMarkets,\n      })\n\n      dispatch.markets.fetchCurrentMarkets()\n\n      // 不再默认触发 setCurrentMarket。两个动作分离开，更灵活。\n      // let currentMarket = currentMarkets[0]\n      // if (currentMarket) {\n      //   dispatch.markets.setCurrentMarket(currentMarket)\n      // }\n    },\n\n    async startFetchMarketInfo (payload, { markets }) {\n      let { currentMarket: { market } } = markets\n      console.info(`======开始获取市场 ${market} 信息======`)\n\n      dispatch.depth.setLevel(0)\n      dispatch.trade.fetchTrade()\n      dispatch.order.fetchOrders()\n      dispatch.ticker.fetchTicker()\n      // dispatch.socket.subscribe([\n      //   // `candlestick&${market}&1Hour`,\n      //   `depth&${market}&1`,\n      //   `trade&${market}`,\n      //   `ticker&${market}`\n      // ])\n    },\n    async setCurrentMarket (currentMarket, { markets, socket }) {\n      this.update({\n        currentMarket,\n      })\n      dispatch.placeOrder.initialize()\n      dispatch.persistData.update({ market: currentMarket.market })\n\n      if (!socket.ws || socket.ws.readyState !== 1) {\n        if (socket.ws && socket.ws.readyState === 3) {\n          // 当(必须处理，不能直接返回。否则会导致整个切交易对的时候， depth,trade,orders 都不再变化。)\n          // 且仅当(必须是建立过，并断了才触发。否则首次加载就会触发。死循环。) \n          // socket 关闭后，刷新网页。\n\n          // TODO 优化: socket断了，这里可以尝试重连。\n          // notification['success']({\n          //   duration: 0,\n          //   message: 'socket 已断开，重新载入',\n          //   description: '网络错误'\n          // })\n          location.reload()\n        }\n        return\n      }\n      dispatch.markets.startFetchMarketInfo()\n    },\n    async onSocketReady (payload, { markets, depth }) {\n      if (!markets.currentMarket) return\n      dispatch.markets.startFetchMarketInfo()\n    },\n\n    async starMarket (currentMarket, { markets, depth }) {\n      let stars = _.xorBy([currentMarket], markets.stars, 'market')\n      this.update({\n        stars,\n      })\n      // 如果当前处于自选tab, 刷新自选的列表\n      if (markets.currentTab === 'selfChoice') {\n        dispatch.markets.setCurrentTab('selfChoice')\n      }\n    },\n    async fetchCurrentMarkets (payload, { markets, dexAccount }) {\n      let { apiKey } = dexAccount\n      let { currentMarkets, currentMarket } = markets\n      if (!currentMarkets) return\n\n      let pairs = currentMarkets.map(item => item.market)\n      // 此处 currentMarket 可能不属于 currentMarkets，这里需要把 currentMarket 补在请求列表中。\n      // 更新：目前已经不需要了， tvchart 中 currentMarket的数据，全部从 ticker 的 socket 订阅中获取。但此处逻辑仍然保留。\n      if (currentMarket) {\n        pairs = _.uniq([...pairs, currentMarket.market])\n      }\n      if (!pairs.length) return\n\n      // market 列表中的信息，暂时使用的是 ticker。\n      // 重要：不增量订阅。每点击一次才刷新一次\n      let tickers = await api.getTickers({\n        markets: pairs,\n        apiKey\n      })\n      if (!tickers) return\n\n      // 必须在 reducer 中做，因为等拿到tickers的时候，可能currentMarkets已经切换了。\n      tickers = tickers.map(ticker => formatTicker(ticker))\n      this.updateMarketsTicker(tickers)\n    }\n  })\n}","import _ from 'lodash'\nimport api from 'api'\n\nconst initState = {\n  list: [],\n}\n\nexport default {\n  state: initState,\n  // https://rematch.github.io/rematch/#/plugins/select.md\n  // https://github.com/reduxjs/reselect\n  selectors: (slice, createSelector, hasProps) => ({\n    getTokenBySymbol () {\n      // createSelector的三个参数，都是函数。\n      // 最后一个是求值，前面 n-1 个代表如何提取最后一个的入参。\n      // 前 n-1 个的入参，都是调用getTokenBySymbol处传的入参。\n      // slice 是一个函数\n      // return createSelector(\n      //   slice, //slice 是一个函数,代表直接把自己对应的state 返回。\n      //   (rootState, symbol) => symbol,\n      //   (state, symbol) => {\n      //     let { list } = state\n      //     return _.find(list, token => token.symbol.toLowerCase() === symbol.toLowerCase()) || {}\n      //   }\n      // )\n\n      // createSelector 是为了组合多个 selector 的写法，前 n-1 个都是其他 selector。\n      // 上面的写法有点多此一举，相当于用两个 selector 分别返回两个入参。再在自己的 selector 逻辑中组合前n-1 个(实际上还是入参，未做任何transform)。\n      return (state, symbol) => {\n        let { list } = state.tokens\n        return _.find(list, token => token.symbol.toLowerCase() === symbol.toLowerCase()) || {}\n      }\n    }\n  }),\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n  },\n  effects: dispatch => ({\n    // async fetchTokens (payload, {  }) {\n    //   let tokens = await api.getContracts()\n    //   this.update({ tokens })\n    // }\n  })\n}","import _ from 'lodash'\nimport { Account, config, exchange } from 'librarys/lightcone_v3';\nimport utils, { notification } from 'utils'\nimport api from 'api'\nconst BigNumber = require('bignumber.js');\n\nconst initState = {\n  buyPrice: null,\n  buyAmount: null,\n  buyTotal: null,\n\n  sellPrice: null,\n  sellAmount: null,\n  sellTotal: null,\n\n  // 市价买入的”交易额“\n  marketBuyTotal: null,\n  // 市价卖出的”数量“\n  marketSellAmount: null,\n}\n\nasync function placeAnOrder (dispatch, store, isBuy, tokenS, tokenB, amountS, amountB) {\n  let { tokens, dexAccount, persistData } = store\n  let { channelName } = persistData\n\n  let owner = window.wallet.account\n  let { accountId, passwordHash, apiKey } = dexAccount\n\n  let exchangeAccount = new Account(window.wallet);\n  const keyPair = exchangeAccount.generateKeyPair(passwordHash);\n  let { publicKeyX, publicKeyY, secretKey: tradingPrivKey } = keyPair\n\n  let tokenSConfig = _.find(tokens.list, token => token.symbol.toLowerCase() === tokenS.toLowerCase())\n  const orderId = await api.getOrderId(accountId, tokenSConfig.relayTokenId, apiKey);\n  \n  // Timestamp in second\n  const validSince = new Date().getTime() / 1000 - 3600;\n  const validUntil = new Date().getTime() / 1000 + 3600 * 24 * 30;\n\n  console.info(`下单:`, {\n    owner,\n    accountId,\n    // keyPair: {\n    //   publicKeyX,\n    //   publicKeyY,\n    //   secretKey: tradingPrivKey,\n    // },\n    tokenS,\n    tokenB,\n    amountS,\n    amountB,\n    orderId,\n    validSince: Math.floor(validSince),\n    validUntil: Math.floor(validUntil),\n    buy: isBuy\n  })\n\n  const signedEtheruemTx = exchange.submitOrder(window.wallet, {\n    owner,\n    accountId,\n    keyPair: {\n      publicKeyX,\n      publicKeyY,\n      secretKey: tradingPrivKey,\n    },\n    tokenS,\n    tokenB,\n    amountS,\n    amountB,\n    orderId,\n    validSince: Math.floor(validSince),\n    validUntil: Math.floor(validUntil),\n    buy: isBuy\n  })\n\n  if (channelName) {\n    signedEtheruemTx.channelId = `wedex::subchannel::${channelName}`\n  }\n\n  console.log('Order signed tx: ', signedEtheruemTx);\n  const response = await api.submitOrderToLightcone(signedEtheruemTx, apiKey);\n  console.log('Response of submitOrder: ', response);\n\n  if (!response) return\n  dispatch.appState.update({\n    notification: {\n      type: 'success',\n      message: 'notify.placeOrder.success'\n    },\n  })\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n    initialize: (state, payload) => initState,\n  },\n  effects: dispatch => ({\n    async placeBuyOrder (payload, store) {\n      let { markets, placeOrder } = store\n      let { baseToken: tokenB, quoteToken: tokenS } = markets.currentMarket\n      let { buyAmount, buyPrice } = placeOrder\n      if (!buyAmount || !buyPrice) return\n\n      buyAmount = new BigNumber(buyAmount);\n      let amountS = buyAmount.times(buyPrice).toFixed();\n      let amountB = buyAmount.toFixed();\n\n      let result = utils.withLoading(() => placeAnOrder(dispatch, store, true, tokenS, tokenB, amountS, amountB))\n      return result\n    },\n    async placeSellOrder (payload, store) {\n      let { markets, placeOrder } = store\n      let { baseToken: tokenS, quoteToken: tokenB } = markets.currentMarket\n      let { sellAmount, sellPrice } = placeOrder\n      if (!sellAmount || !sellPrice) return\n\n      sellAmount = new BigNumber(sellAmount);\n      let amountB = sellAmount.times(sellPrice).toFixed();\n      let amountS = sellAmount.toFixed();\n\n      let result = utils.withLoading(() => placeAnOrder(dispatch, store, false, tokenS, tokenB, amountS, amountB))\n      return result\n    },\n  })\n}","import _ from 'lodash'\nimport api from 'api'\nimport utils from 'utils'\nconst BigNumber = require('bignumber.js');\nimport { ENUM_ACCOUNT_STATUS } from 'utils/enum'\n\nconst initState = {\n  loading: false,\n  list: [],\n  page: 1,\n  pageSize: 10\n}\n\nfunction formatBalances (balances, tokens) {\n  return _.chain(balances)\n    .map(balance => {\n      let { tokenId, totalAmount, amountLocked } = balance\n      // 账户数据必须是中继支持的，否则丢弃。\n      let token = _.find(tokens.list, { relayTokenId: String(tokenId) })\n      if (!token) return\n\n      balance.token = token\n      let availAmount = BigNumber(totalAmount) - BigNumber(amountLocked)\n      // 不能用 fromWEI, 因为 fromWEI用了 toFixed,会导致四舍五入。全部划转会超。\n      // 优化，这里应该是原始数据，只是界面上四舍五入。否则全部划转会少一部分。\n      balance.availAmount = BigNumber(availAmount).div(\"1e\" + token.digits).decimalPlaces(token.precision).toNumber()\n      balance.totalAmount = BigNumber(totalAmount).div(\"1e\" + token.digits).decimalPlaces(token.precision).toNumber()\n      balance.amountLocked = BigNumber(amountLocked).div(\"1e\" + token.digits).decimalPlaces(token.precision).toNumber()\n      return balance\n    })\n    .filter(balance => !!balance)\n    .orderBy(balance => balance.token.symbol)\n    .value()\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    initialize: (state, payload) => initState,\n    update: (state, payload) => ({ ...state, ...payload })\n  },\n  effects: dispatch => ({\n    async fetchBalances (payload, { dexAccount, tokens }) {\n      let { accountId, apiKey } = dexAccount\n      if (!accountId || !apiKey) return\n      this.update({ loading: true })\n\n      let balances = await api.getBalances(accountId)\n      if (!balances) {\n        this.update({ loading: false })\n        return\n      }\n\n      balances = formatBalances(balances, tokens)\n      this.update({\n        list: balances,\n        loading: false\n      })\n    },\n    // 账户发生变动时。登录，重置密码，需要重新订阅账户。\n    startFetchBalance (payload, { dexAccount }) {\n      let { accountId, state } = dexAccount\n      if (!accountId || !ENUM_ACCOUNT_STATUS.LOGGED_IN.equals(state)) return\n      console.info(`======开始获取 账户 信息======`)\n\n      dispatch.balance.fetchBalances()\n      dispatch.socket.unsubscribe([{\n        topic: 'account',\n        unsubscribeAll: true\n      }])\n      dispatch.socket.subscribe([{\n        topic: 'account',\n      }])\n    },\n    async onSocketReady (payload, { markets, depth }) {\n      dispatch.balance.startFetchBalance()\n    },\n    async incrementalUpdate (payload, { balance, tokens }) {\n      let balances = balance.list\n\n      let [newBalance] = formatBalances([payload], tokens)\n      let list = _.unionBy([newBalance], balances, b => b.tokenId)\n      list = _.orderBy(list, balance => balance.token.symbol)\n      this.update({ list })\n    },\n  })\n}","import _ from 'lodash'\nimport utils from 'utils'\nimport api from 'api';\nimport { store } from 'store'\n\nconst initState = {\n  loading: false,\n  list: [],\n  page: 1,\n  pageSize: 10\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    initialize: (state, payload) => initState,\n    update: (state, payload) => ({ ...state, ...payload }),\n    appendBalance: (state, blance) => {\n      let list = _.unionBy([ blance ], state.list, 'symbol')\n      return {\n        ...state,\n        list: _.orderBy(list, 'symbol')\n      }\n    }\n  },\n  effects: dispatch => ({\n    async fetchBalance (token, { dexAccount }) {\n      this.update({ loading: true })\n\n      let { symbol, name } = token\n      let amount = 0\n      if (symbol.toUpperCase() === 'ETH') {\n        amount = await api.getEthBalance(dexAccount.address)\n      } else {\n        amount = await api.getTokenBalance(dexAccount.address, token.address)\n      }\n      if (!amount) {\n        this.update({ loading: false })\n        return\n      }\n\n      // amount = Number(\n      //   config.fromWEI(\n      //     tokenSymbol,\n      //     amount,\n      //     token.precision\n      //   )\n      // );\n      // 不能用 fromWEI, 因为 fromWEI用了 toFixed,会导致四舍五入。全部划转会超。\n      amount = utils.fromWEI(symbol, amount, null, true)\n\n      let blance = {\n        symbol,\n        name,\n        amount,\n        token\n      }\n\n      // 必须如此使用，因为 fetchAllBalances 中的多个 fetchBalance 会并发，此处拿到的rootState是旧的（await 之前的）。\n      // 而 reducers 没有此问题，reducers是可重入的。\n      this.appendBalance(blance)\n      this.update({ loading: false })\n\n      // let { list } = rootState.walletBalance\n      // list = _.unionBy([ blance ], list, 'symbol')\n\n      // this.update({\n      //   list\n      // })\n    },\n    async fetchAllBalances (payload, { tokens }) {\n      // 我的资产页面，进来时批量拉取\n      // 转入页面，每选一个币种，单独 fetchBalance 一次。 此页面的select下拉框用本地 store。\n      tokens.list.forEach(token => {\n        // 暂时去掉 WETH\n        if (token.symbol === 'WETH') return\n        dispatch.walletBalance.fetchBalance(token)\n      })\n    },\n  })\n}","import _ from 'lodash'\nimport numeral from 'numeral'\nimport api from 'api';\nimport { Account } from 'librarys/lightcone_v3';\nimport { ENUM_ORDER_STATUS } from 'utils/enum'\nimport utils, { notification } from 'utils'\nimport { ENUM_ACCOUNT_STATUS } from 'utils/enum'\nimport appConfig from 'config/appConfig'\n\nconst initState = {\n  loading: false,\n  list: [],\n  processingList: [],\n\n  cond: {\n    page: 1,\n    pageSize: 50,\n    // 当前委托，历史委托\n    type: 'current', // ['current', 'history']\n    // 历史委托条件下，[所有状态(ALL), 已成交(PROCESSED), 已取消(CANCELLED)]\n    historyStatus: 'ALL',\n    allMarket: false\n  }\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    initialize: (state, payload) => initState,\n    update: (state, payload) => ({ ...state, ...payload }),\n    updateFilterCond: (state, payload) => {\n      let cond = { ...state.cond, ...payload }\n      return {\n        ...state,\n        cond\n      }\n    },\n  },\n  effects: dispatch => ({\n    async fetchProcessingOrders (payload, { dexAccount, markets: { currentMarket } }) {\n      let { accountId, passwordHash, state, apiKey } = dexAccount\n      let { market: marketPair, baseToken, quoteToken } = currentMarket\n      let market = marketPair\n      let statuses = [ENUM_ORDER_STATUS.PROCESSING.getValue()]\n      let resp = await api.getOrders({accountId, apiKey, offset: 0, limit: 100, market, statuses})\n      let { totalNum, orders } = resp || {}\n      if (!orders) {\n        // this.update({ loading: false })\n        return\n      }\n\n      this.update({\n        processingList: orders,\n        // loading: false,\n      })\n    },\n    async incrementalUpdateProcessing (order, { order: orderState, markets }) {\n      let { market: marketPair } = markets.currentMarket\n      if (!marketPair) return\n\n      let { processingList } = orderState\n      let updatedOrders = utils.formatOrders([order])\n      processingList = _.chain([...updatedOrders, ...processingList])\n              .filter(o => o.status === 'processing')\n              .unionBy(o => o.hash)\n              .orderBy(['createdAt'], ['desc'])\n              .value()\n\n      this.update({\n        processingList,\n      })\n    },\n    async fetchOrders (payload, { order, dexAccount, markets: { currentMarket } }) {\n      let { accountId, passwordHash, state, apiKey } = dexAccount\n      if (!accountId || !ENUM_ACCOUNT_STATUS.LOGGED_IN.equals(state)) return\n\n      if (!currentMarket) return\n      let { market: marketPair, baseToken, quoteToken } = currentMarket\n      if (!marketPair) return\n\n      //  1. 每次全量获取完 order 后，重新订阅\n      dispatch.socket.unsubscribe([{\n        topic: 'order',\n        unsubscribeAll: true\n      }])\n      dispatch.socket.subscribe([{\n        topic: 'order',\n        market: marketPair,\n      }])\n\n      // 做市商定制需求。\n      dispatch.order.fetchProcessingOrders()\n\n      // 2. 更新列表\n      this.update({\n        list: [],\n        loading: true,\n      })\n\n      let { offset, limit } = utils.formatPageParams(order.cond)\n      let { type, allMarket, historyStatus } = order.cond\n\n      // 规整 market 参数\n      let market\n      if (allMarket) {\n        market = undefined\n      } else {\n        market = marketPair\n      }\n\n      // 规整 status 参数\n      let statuses = []\n      if (type === 'current') {\n        statuses = [ENUM_ORDER_STATUS.PROCESSING.getValue()]\n      } else {\n        if (historyStatus === 'ALL') {\n          statuses = [ENUM_ORDER_STATUS.CANCELLED.getValue(), ENUM_ORDER_STATUS.PROCESSED.getValue()]\n        } else if (historyStatus === 'CANCELLED') {\n          statuses = [ENUM_ORDER_STATUS.CANCELLED.getValue()]\n        } else {\n          statuses = [ENUM_ORDER_STATUS.PROCESSED.getValue()]\n        }\n      }\n\n      let resp = await api.getOrders({accountId, apiKey, offset, limit, market, statuses});\n      let { totalNum, orders } = resp || {}\n      if (!orders) {\n        this.update({ loading: false })\n        return\n      }\n\n      this.update({\n        list: orders,\n        loading: false,\n      })\n    },\n    async incrementalUpdate (order, { order: orderState, markets }) {\n      let { market: marketPair } = markets.currentMarket\n      if (!marketPair) return\n\n      let { list, cond } = orderState\n\n      // 1. 在“当前委托”，则做union处理。\n      // 2. 在历史委托，则丢弃。\n      if (cond.type === 'history') return\n\n      let updatedOrders = utils.formatOrders([order])\n      list = _.chain([...updatedOrders, ...list]).unionBy(o => o.hash).orderBy(['createdAt'], ['desc']).value()\n\n      this.update({\n        list,\n      })\n    },\n    async cancelAnOrders (order, { markets, dexAccount, placeOrder, order: orderStore }) {\n      let { accountId, passwordHash, apiKey } = dexAccount\n      let exchangeAccount = new Account(window.wallet);\n      const keyPair = exchangeAccount.generateKeyPair(passwordHash);\n      let { publicKeyX, publicKeyY, secretKey } = keyPair\n      let { hash: orderHash, clientOrderId } = order\n      \n      const signature = utils.genSignature(\n        'DELETE',\n        `${appConfig.relay.serverUrl}/orders`,\n        {\n          accountId,\n          orderHash,\n          clientOrderId\n        },\n        secretKey\n      )\n\n      const response = await api.cancelOrders({\n        accountId,\n        orderHash,\n        clientOrderId\n      }, signature)\n      console.log('Response of submitOrder: ', response);\n\n      if (!response) return\n      // notification['success']({\n      //   duration: 5,\n      //   message: '取消成功'\n      // })\n\n      dispatch.order.fetchOrders()\n      // TODO: test\n      // dispatch.balance.fetchBalances()\n\n      return response\n    },\n    async cancelAllOrders (payload, { markets, dexAccount, placeOrder, order: orderStore }) {\n      let orders = _.chain(orderStore.list)\n                    .filter({ status: ENUM_ORDER_STATUS.PROCESSING.getValue() })\n                    .slice(0, 10)\n                    .value()\n      let promises = _.map(orders, order => dispatch.order.cancelAnOrders(order))\n      let resp = await Promise.all(promises)\n      dispatch.appState.update({\n        notification: {\n          type: 'success',\n          message: 'notify.order.cancel.success'\n        },\n      })\n\n      dispatch.order.fetchOrders()\n      // TODO: test\n      // dispatch.balance.fetchBalances()\n    }\n  })\n}\n","import _ from 'lodash'\nimport api from 'api'\nimport { Account } from 'librarys/lightcone_v3';\nimport utils from 'utils'\n\nconst initState = {\n  loading: false,\n  list: [],\n  cond: {\n    token: undefined,\n    page: 1,\n    pageSize: 100,\n    statuses: undefined,\n    types: undefined,\n    start: undefined,\n    end: undefined,\n  },\n}\n\nfunction formatTransfers (transfers) {\n  return transfers.map(transfer => {\n    let { realAmount, feeAmount, symbol } = transfer\n    transfer.realAmount = utils.toTokenPrecision(realAmount, symbol)\n    transfer.feeAmount = utils.toTokenPrecision(feeAmount, 'ETH')\n    return transfer\n  })\n}\n\nasync function checkAllowance (tokenSymbol, depositAmout) {\n  let owner = window.wallet.account\n  if (tokenSymbol.toUpperCase() === 'ETH') {\n    return 0\n  } else {\n    const allowance = await api.getAllowance(owner, tokenSymbol);\n    const amount = Number(\n      utils.fromWEI(\n        tokenSymbol,\n        allowance\n      )\n    );\n    if (Number(depositAmout) > amount) {\n      const txCount = amount === 0 ? 1 : 2;\n      return txCount\n    } else {\n      return 0\n    }\n  }\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n    updateFilterCond: (state, payload) => {\n      let cond = { ...state.cond, ...payload }\n      return {\n        ...state,\n        cond\n      }\n    },\n  },\n  effects: dispatch => ({\n    async fetchTransactions (payload, { dexAccount, transfer }) {\n      let { accountId, apiKey } = dexAccount\n      if (!accountId || !apiKey) return\n      this.update({ loading: true })\n\n      let { offset, limit } = utils.formatPageParams(transfer.cond)\n\n      let transactions = await api.getTransactions({\n        accountId,\n        apiKey,\n        offset,\n        limit,\n        statuses: transfer.cond.statuses,\n        types: transfer.cond.types,\n        start: transfer.cond.start,\n        end: transfer.cond.end,\n        symbol: transfer.cond.token\n      });\n      if (!transactions) {\n        this.update({ loading: false })\n        return\n      }\n\n      // console.info(\"########\", {transactions})\n      transactions = formatTransfers(transactions)\n      this.update({\n        list: transactions,\n        loading: false\n      })\n    },\n    // approveTxCount(只是枚举类型): 0 代表授权额充足 1 代表授权额不足但是当前授权额是0， 2 代表授权额不足，并且授权额不为零\n    // 这个是因为ERC20规范，授权额不能直接增加，必须先改成0\n    async deposit ({ symbol, amount, gasPrice }, { dexAccount }) {\n      const approveTxCount = await checkAllowance(symbol, amount)\n\n      // Gas price\n      let nonce = await api.getNonce(window.wallet.account);\n      let exchangeAccount = new Account(window.wallet);\n\n      if (approveTxCount === 2) {\n        const signedEthereumTx = await exchangeAccount.approveZero(\n          symbol,\n          nonce,\n          gasPrice\n        );\n        console.log('Received approve to  signEthereumTx');\n        console.log(signedEthereumTx);\n        // await api.sendApprove(signedEthereumTx);\n        nonce += 1;\n      }\n\n      // Approve\n      if (approveTxCount !== 0) {\n        const signedEthereumTx = await exchangeAccount.approveMax(\n          symbol,\n          nonce,\n          gasPrice\n        );\n        console.log('Received approve to  signEthereumTx');\n        console.log(signedEthereumTx);\n        // await api.sendApprove(signedEthereumTx);\n        nonce += 1;\n      }\n\n      // approveTxCount为0，则直接充值。\n      // 不为 0。分 2 种情况。\n              // 1. 为 2，则先授权清零，再重新到最大。\n              // 2. 为 1，则直接到最大。\n\n      const signedEthereumTx = await exchangeAccount.depositTo(\n        symbol,\n        amount,\n        nonce,\n        gasPrice\n      );\n      // console.log('Received deposit signEthereumTx');\n      // console.log(signedEthereumTx);\n      // const response = await api.sendDeposit(signedEthereumTx);\n      // const data = response['result'];\n      // console.log('Response of deposit: ', data);\n\n      // await this.props.fetchMyBalances(\n      //   this.props.dexAccount.account.accountId,\n      //   this.props.dexAccount.account.apiKey\n      // );\n\n      // TODO: test\n      // dispatch.balance.fetchBalances()\n\n      if (signedEthereumTx) {\n        dispatch.persistData.resetLastTransferTime()\n        dispatch.appState.update({\n          notification: {\n            type: 'success',\n            message: 'notify.transfer.deposit.success'\n          },\n        })\n        return true\n      } else {\n        return false\n      }\n    },\n    async withdraw ({ symbol, amount, gasPrice }, { dexAccount }) {\n      const nonce = await api.getNonce(window.wallet.account);\n      let exchangeAccount = new Account(window.wallet);\n      const signedEthereumTx = await exchangeAccount.onchainWithdrawal(\n        symbol,\n        amount,\n        nonce,\n        gasPrice\n      );\n\n      console.log('Received withdraw signEthereumTx');\n      console.log(signedEthereumTx);\n      // const response = await api.sendWithdrawTransaction(signedEthereumTx);\n      // const data = response['result'];\n      // console.log('Response of withdraw: ', data);\n\n      // await this.props.fetchMyBalances(\n      //   this.props.dexAccount.account.accountId,\n      //   this.props.dexAccount.account.apiKey\n      // );\n\n      // TODO: test\n      // dispatch.balance.fetchBalances()\n\n      if (signedEthereumTx) {\n        dispatch.persistData.resetLastTransferTime()\n        dispatch.appState.update({\n          notification: {\n            type: 'success',\n            message: 'notify.transfer.withdraw.success'\n          },\n        })\n        return true\n      } else {\n        return false\n      }\n    }\n  })\n}","import _ from 'lodash'\nimport moment from 'moment'\nimport numeral from 'numeral'\nimport api from 'api';\nimport { ENUM_ORDER_STATUS } from 'utils/enum'\nimport appConfig from 'config/appConfig'\nimport utils, { notification } from 'utils'\nimport { ENUM_ACCOUNT_STATUS } from 'utils/enum'\n\nlet { pollingIntervalRatio, relay } = appConfig\n\nconst initState = {\n  ws: null,\n  lastPingTime: null,\n  pollingIntervals: []\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n    initialize: (state, payload) => {\n      // 重要：清空 pollingIntervals 前，一定要清空此定时器列表。其他地方也要注意\n      _.forEach(state.pollingIntervals, inverval => clearInterval(inverval))\n      return initState\n    },\n  },\n  effects: dispatch => ({\n    async start (payload, { socket, history }) {\n      if (!(\"WebSocket\" in window)) {\n        // 浏览器不支持 WebSocket\n        alert(\"您的浏览器不支持 WebSocket!\");\n      }\n\n      // 建立新链接，要关闭旧的，防止内存泄露。\n      let { ws } = socket\n      if (ws) {\n        ws.close()\n      }\n\n      ws = new WebSocket(relay.wsUrl)\n      ws.onmessage = function(event) {\n        var data = event.data;\n        dispatch.socket.onMessage(data)\n      };\n      ws.onerror = () => {\n        console.info('web socket 异常')\n        ws.close();\n\n        this.initialize()\n        // 此处socket 异常，不用处理也行。因为心跳检查会兜底。此处只是为了及时处理。\n        // 会死循环。暂时去掉。WebSocket is closed before the connection is established.\n        // dispatch.socket.start()\n      };\n      ws.onopen = () => {\n        console.info('web socket 建立成功')\n        this.update({\n          lastPingTime: moment()\n        })\n        // 暂时用轮询的方式\n        dispatch.markets.onSocketReady()\n        dispatch.balance.onSocketReady()\n      }\n      this.update({ws})\n\n      dispatch.socket.polling()\n    },\n    async _onSubResult (payload) {\n      let { args, result } = payload\n      if (_.toUpper(result.status) === 'OK') return\n\n      console.info('######## 订阅/去订阅失败')\n      let { code, message } = result.error\n      // 中继的 socket 是跟 apikey 绑定的。如果切换了账号，socket 要弃用。\n      if (_.includes(message, 'Unmatched apikey') ||\n          _.includes(message, 'Receive an illegal api key')) {\n        dispatch.appState.update({\n          notification: {\n            type: 'error',\n            message: 'notify.socket.subscribe.error.apikey',\n            description: JSON.stringify(result.error),\n          },\n        })\n        dispatch.dexAccount.logout()\n        return\n      }\n      dispatch.appState.update({\n        notification: {\n          type: 'error',\n          message: 'notify.socket.subscribe.error',\n          description: JSON.stringify(result.error),\n        },\n      })\n\n      // 重新订阅可能死循环。\n      // dispatch.socket.subscribe(args)\n    },\n    async onMessage (payload, { socket, markets }) {\n\n      if (payload === 'ping') {\n        socket.ws.send('pong')\n        this.update({\n          lastPingTime: moment()\n        })\n        return\n      }\n\n      payload = JSON.parse(payload)\n      if (payload.op === 'sub' || payload.op === 'unSub') {\n        dispatch.socket._onSubResult(payload)\n        return\n      }\n      if (!payload.op === '') return\n\n      let { market: marketPair } = markets.currentMarket\n      if (!marketPair) return\n\n      let { topic: topicType, market: TopicMarket } = payload.topic\n      if (topicType === 'account') {\n        dispatch.balance.incrementalUpdate(payload.data)\n      } else if (topicType === 'orderbook') {\n        // depth&lrc-eth&0\n        // 判断交易对是否是当前的\n        if (_.upperCase(TopicMarket) !== _.upperCase(marketPair)) return\n        dispatch.depth.incrementalUpdate(payload)\n      } else if (topicType === 'trade') {\n        // trade&lrc-eth\n        // 判断交易对是否是当前的\n        if (_.upperCase(TopicMarket) !== _.upperCase(marketPair)) return\n        dispatch.trade.incrementalUpdate(payload.data)\n      } else if (topicType === 'order') {\n        dispatch.order.incrementalUpdate(payload.data)\n        dispatch.order.incrementalUpdateProcessing(payload.data)\n      } else if (topicType === 'candlestick') {\n        // candlestick&LRC-ETH&1hr\n        // 判断交易对是否是当前的\n        if (_.upperCase(TopicMarket) !== _.upperCase(marketPair)) return\n        dispatch.candleStick.incrementalUpdate(payload)\n      } else if (topicType === 'ticker') {\n        // ticker&LRC-BTC\n        // 判断交易对是否是当前的\n        if (_.upperCase(TopicMarket) !== _.upperCase(marketPair)) return\n        dispatch.ticker.incrementalUpdate(payload)\n      }\n    },\n    // 优化：\n    // 切换账号后，换个apikey 订阅 account信息，就会报 apikey not match\n    // 这里应该不用重新建立一个 socket 吧，直接通过新的 apikey 解析出新的 account 即可。\n    // 亚东: 目前的设定是需要重新连接,之前认为直接更新订阅不是很安全,你们可以先close一下\n    async subscribe (payload, { socket, dexAccount }) {\n      if (!socket.ws || socket.ws.readyState !== 1) return\n\n      let subInfo = {\n        op: 'sub',\n        topics: payload,\n        apiKey: ENUM_ACCOUNT_STATUS.LOGGED_IN.equals(dexAccount.state) && dexAccount.apiKey || undefined\n      }\n      socket.ws.send(JSON.stringify(subInfo))\n    },\n    async unsubscribe (payload, { socket, dexAccount }) {\n      if (!socket.ws || socket.ws.readyState !== 1) return\n\n      let subInfo = {\n        op: 'unSub',\n        topics: payload,\n        apiKey: ENUM_ACCOUNT_STATUS.LOGGED_IN.equals(dexAccount.state) && dexAccount.apiKey || undefined\n      }\n      socket.ws.send(JSON.stringify(subInfo))\n    },\n    async polling (payload, { socket }) {\n      // utils.setImmediateInterval(() => {\n      //   dispatch.depth.fetchDepth()\n      //   dispatch.trade.fetchTrade()\n      //   dispatch.order.fetchOrders()\n      // }, pollingInterval);\n\n      // this.subscribe(['candlestick&LRC-BTC&1Hour'])\n      // utils.setImmediateInterval(() => dispatch.depth.fetchDepth(), 1000 * pollingIntervalRatio);\n      // utils.setImmediateInterval(() => dispatch.trade.fetchTrade(), 1000 * pollingIntervalRatio);\n      // utils.setImmediateInterval(() => dispatch.order.fetchOrders(), 1000 * pollingIntervalRatio);\n      // utils.setImmediateInterval(() => dispatch.balance.fetchBalances(), 3000 * pollingIntervalRatio);\n\n      let { pollingIntervals } = socket\n      _.forEach(pollingIntervals, inverval => clearInterval(inverval))\n      \n      let intervals = []\n      let interval = utils.setImmediateInterval(() => dispatch.rate.fetchRate(), 60 * 1000 * pollingIntervalRatio);\n      intervals.push(interval)\n      interval = utils.setImmediateInterval(() => dispatch.award.checkAward(), 10 * 1000 * pollingIntervalRatio);\n      intervals.push(interval)\n      // interval = utils.setImmediateInterval(() => dispatch.candleStick.fetchDayInfo(), 1000 * pollingIntervalRatio);\n      // intervals.push(interval)\n      // interval = utils.setImmediateInterval(() => dispatch.markets.fetchCurrentMarkets(), 3000 * pollingIntervalRatio);\n      // intervals.push(interval)\n      this.update({ pollingIntervals: intervals })\n    },\n    async checkHeartBeat (payload, { socket }) {\n      let { ws, lastPingTime } = socket\n\n      // 若socket还没创建，不检查。\n      if (!ws || !lastPingTime) return\n      // 距离上次心跳已经 3 分钟了，重新创建 socket。\n      let now = moment()\n      // 直接 lastPingTime.add 竟然会改掉 store !\n      let validUntil = lastPingTime.clone().add(1, 'minutes')\n      if (now.isBefore(validUntil)) return\n\n      this.initialize()\n      dispatch.socket.start()\n      // dispatch.appState.update({\n      //   notification: {\n      //     type: 'error',\n      //     message: `notify.socket.heartbeat.error`,\n      //   },\n      // })\n    }\n  })\n}\n","import _ from 'lodash'\nimport numeral from 'numeral'\nimport api from 'api'\n\nconst initState = {\n  CNY: [],\n  USD: [],\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload })\n  },\n  effects: dispatch => ({\n    async fetchRate (payload, { dexAccount }) {\n      let { apiKey } = dexAccount\n\n      var CNYRates = await api.getPrice({\n        legal: 'CNY',\n        apiKey\n      })\n\n      var USDRates = await api.getPrice({\n        legal: 'USD',\n        apiKey\n      })\n\n      this.update({\n        CNY: CNYRates,\n        USD: USDRates,\n      })\n    }\n  })\n}","import _ from 'lodash'\nimport api from 'api'\nimport utils from 'utils'\nconst BigNumber = require('bignumber.js');\n\nconst initState = {\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload })\n  },\n  effects: dispatch => ({\n    async checkAward (payload, { award, dexAccount, appState }) {\n      if (!dexAccount.address) return\n      if (appState.awardInfo.visible) return\n\n      let { latestAward } = award\n      let latestAwardBillSn = latestAward && latestAward.billSn\n\n      let resp = await api.getUserBillEggPrizeList({\n        // address: '0xa4ac2bb3885ff3bf82e99cc2b442a379e3627ef7',\n        address: dexAccount.address,\n        pageSize: 1,\n        page: 1,\n        sort: 'id',\n        sortDirection: 'asc',\n        read: false\n      })\n      let newAward = resp.data.rows[0]\n      if (!newAward) return\n      \n      let { id, billSn, money, unit, createdAt } = newAward\n\n      // TODO: 中奖\n      dispatch.appState.showEggAward({\n        id,\n        amount: money,\n        unit,\n        createdAt\n      })\n    },\n    async markRead (ids, { dexAccount }) {\n      if (!dexAccount.address) return\n\n      await api.postUserReadBillEggPrizeList({\n        // address: '0xa4ac2bb3885ff3bf82e99cc2b442a379e3627ef7',\n        address: dexAccount.address,\n        ids\n      })\n    }\n  })\n}","import _ from 'lodash'\nimport moment from 'moment'\nimport { matchPath } from \"react-router-dom\";\nimport utils from 'utils'\nimport { ENUM_LANGUAGE_TYPE } from 'utils/enum'\n\nexport default {\n  state: {\n    channelName: 'wedex',\n    locale: 'cn',\n    market: 'LRC-ETH',\n\n    lastTransferTime: moment().format('YYYY-MM-DD HH:mm:ss')\n  },\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n    resetLastTransferTime: (state, payload) => {\n      state.lastTransferTime = moment().format('YYYY-MM-DD HH:mm:ss')\n      return state\n    },\n  },\n  effects: dispatch => ({\n    async checkChannel (payload, { router }) {\n      const query = utils.getUrlParams(router.location.search)\n      const { channel } = query\n      if (channel) {\n        this.update({ channelName: channel })\n      }\n    },\n    async checkLocale (payload, { router }) {\n      let { pathname } = window.location\n      let locales = _.keys(ENUM_LANGUAGE_TYPE)\n      let locale = _.find(locales, locale => _.startsWith(pathname, `/${locale}/`))\n      console.info({pathname, locale})\n\n      // 如果 url 中带，则更新本地。\n      if (locale) {\n        this.update({ locale })\n      }\n      // 如果不带，默认的行为：第一次访问网站，则使用初始化的 cn；如果不是第一次，则使用缓存中的。\n    },\n    async checkMarket (payload, { router }) {\n      // 解析路由，获取默认交易对。\n      const match = matchPath(router.location.pathname, {\n        path: \"/:locale/trade/:market\",\n        exact: true,\n        strict: true\n      })\n\n      // 如果 url 中带，则更新本地。\n      // 重要：不能无脑使用本地缓存，否则人家精确使用 url，都没法直达对应的交易对。\n      if (match && match.params.market) {\n        this.update({ market: match.params.market })\n      }\n      // 如果不带，默认的行为：第一次访问网站，则使用初始化的 LRC-ETH；如果不是第一次，则使用缓存中的。\n    },\n  })\n}","import React from 'react'\nimport { init } from '@rematch/core'\nimport createRematchPersist from '@rematch/persist'\nimport selectPlugin from '@rematch/select'\nimport { asyncLocalStorage } from \"redux-persist/storages\"\nimport { applyMiddleware, compose } from 'redux'\nimport { createLogger } from 'redux-logger'\nimport createSagaMiddleware from 'redux-saga'\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\nimport { createBrowserHistory } from 'history'\nimport rootSaga from 'sagas'\nimport models from './models'\n\nexport { connect } from 'react-redux'\n\nexport const history = createBrowserHistory()\n\n// 将store提供给全局hook使用\nexport const StoreContext = React.createContext()\n\nconst initPlugin = () => {\n  const plugins = []\n\n  const persistPlugin = createRematchPersist({\n    whitelist: ['auth', 'dexAccount', 'markets', 'award', 'persistData'],\n    // throttle: 1000,\n    storage: asyncLocalStorage,\n    version: 1\n  })\n  plugins.push(persistPlugin)\n\n  const selectorPlugin = selectPlugin()\n  plugins.push(selectorPlugin)\n  return plugins\n}\n\nlet sagaMiddleware\nlet sagasManager\n\nconst initMiddleware = () => {\n  const middleware = []\n\n  const loggerMiddleware = createLogger({\n    level: 'info',\n    collapsed: true\n  })\n\n\n  sagaMiddleware = createSagaMiddleware({})\n  const historyMiddleware = routerMiddleware(history)\n\n  if (process.env.NODE_ENV !== 'test') {\n    middleware.push(loggerMiddleware)\n  }\n\n  middleware.push(sagaMiddleware)\n  middleware.push(historyMiddleware)\n  return middleware\n}\n\nconst middleware = initMiddleware()\nconst enhancers = []\nenhancers.push(applyMiddleware(...middleware))\n\nexport const reloadSaga = (newYieldedSagas) => {\n  sagasManager.cancel()\n  sagasManager.done.then(() => {\n    sagasManager = sagaMiddleware.run(newYieldedSagas)\n  })\n}\n\nexport const store = init({\n  models,\n  redux: {\n    reducers:{\n      router: connectRouter(history),\n    },\n    enhancers: enhancers\n  },\n  plugins: initPlugin()\n})\n\nexport const { dispatch } = store\n\nsagasManager = sagaMiddleware.run(rootSaga)","import appState from './appState'\nimport metaMask from './metaMask'\nimport dexAccount from './dexAccount'\nimport depth from './depth'\nimport trade from './trade'\nimport candleStick from './candleStick'\nimport ticker from './ticker'\nimport markets from './markets'\nimport tokens from './tokens'\nimport placeOrder from './placeOrder'\nimport balance from './balance'\nimport walletBalance from './walletBalance'\nimport order from './order'\nimport transfer from './transfer'\nimport socket from './socket'\nimport rate from './rate'\nimport award from './award'\nimport persistData from './persistData'\n\nexport default {\n  appState,\n  metaMask,\n  dexAccount,\n  depth,\n  trade,\n  candleStick,\n  ticker,\n  markets,\n  tokens,\n  placeOrder,\n  balance,\n  walletBalance,\n  order,\n  transfer,\n  socket,\n  rate,\n  award,\n  persistData\n}","import _ from 'lodash'\nimport { Account, Utils as lightConeUtils } from 'librarys/lightcone_v3'\nimport { EdDSA } from \"librarys/lightcone_v3/lib/sign/eddsa\";\nimport * as fm from \"librarys/lightcone_v3/lib/wallet/common/formatter\"\nimport sha256 from \"crypto-js/sha256\"\nimport { dispatch, store } from 'store'\nimport api from 'api';\nimport { ENUM_ACCOUNT_STATUS, ENUM_TX_STATUS } from 'utils/enum'\nimport { notification as antdNotification } from 'antd';\nimport BigNumber from 'bignumber.js';\nimport appConfig from 'config/appConfig'\nvar detect = require('detect-browser').detect;\n\nexport function getUrlParams(search) {\n  const hashes = search.slice(search.indexOf('?') + 1).split('&')\n  const params = {}\n  hashes.map(hash => {\n    const [key, val] = hash.split('=')\n    params[key] = decodeURIComponent(val)\n  })\n  return params\n}\n\nexport function makeCancelable (promise) {\n  let hasCanceled_ = false;\n\n  const wrappedPromise = new Promise((resolve, reject) => {\n    promise.then(\n      val => hasCanceled_ ? reject({isCanceled: true}) : resolve(val),\n      error => hasCanceled_ ? reject({isCanceled: true}) : reject(error)\n    );\n  });\n\n  return {\n    promise: wrappedPromise,\n    cancel() {\n      hasCanceled_ = true;\n    },\n  };\n};\n\n// const isFunction = input => typeof input === 'function';\n// export default predicate => elemOrThunk =>\n//   predicate ? (isFunction(elemOrThunk) ? elemOrThunk() : elemOrThunk) : null;\nexport function renderIf (predicate) {\n  return elemOrThunk =>\n    predicate ? (_.isFunction(elemOrThunk) ? elemOrThunk() : elemOrThunk) : null;\n}\n\nexport function compareAppVersion(remoteVersion, localVersion){ \n  function toNum(a) {\n    a = a.toString();\n    //也可以这样写 var c=a.split(/\\./);\n    var c=a.split('.');\n    var num_place=[\"\",\"0\",\"00\",\"000\",\"0000\"],r=num_place.reverse();\n    for (var i=0;i<c.length;i++){ \n        var len=c[i].length;       \n        c[i]=r[len]+c[i];  \n    } \n    var res= c.join(''); \n    return res; \n  } \n\n  let rvNum = toNum(remoteVersion)\n  let lvNum = toNum(localVersion)\n  if (rvNum > lvNum) {\n    return 1\n  } else if (rvNum === lvNum) {\n    return 0\n  } else {\n    return -1\n  }\n}\n\n// 被 promisefy 的异步函数，需满足以下2点要求\n// 1. 最后一个参数是函数\n// 2. 回调函数的参数为 (err, result)，前面是可能的错误，后面是正常的结果\nfunction promisefy (asyncFunc) {\n  function promiseFunc (...args) {\n    // args 为实际调用时，传的前 n-1 个参数。\n    return new Promise((resolve, reject) => {\n      let preArgs = _.slice(args, 0, args.length)\n      asyncFunc(...preArgs, function (err, result) {\n        if (err) {\n          reject(new Error(err))\n        } else {\n          resolve(result)\n        }\n      })\n    })\n  }\n  return promiseFunc\n}\n\n// 回调函数的参数为 (result)\nfunction promisefyNoError (asyncFunc) {\n  function promiseFunc (...args) {\n    // args 为实际调用时，传的前 n-1 个参数。\n    return new Promise((resolve, reject) => {\n      let preArgs = _.slice(args, 0, args.length)\n      asyncFunc(...preArgs, function (result) {\n        resolve(result)\n      })\n    })\n  }\n  return promiseFunc\n}\n\nexport async function playVoice (audio, audioPath) {\n  return new Promise((resolve, reject) => {\n    audio.src = audioPath\n    audio.play()\n    console.info(audio.src, audio.duration)\n    audio.onended = function() {\n      resolve()\n    }\n  })\n}\n\nexport function parseUlrParams (name) {\n  let reg = new RegExp('(^|&|\\\\?|%3F)' + name + '(=|%3D)([^&]*)(&|$)')\n  let r = window.location.search.substr(1).match(reg)\n  return r && r[3]\n}\n\nexport function waitFor (ms) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve()\n    }, ms)\n  })\n}\n\nexport function shadeSn(sn) {\n  if (!sn) return\n  let chars = sn.split('')\n  chars = _.fill(chars, '*', 2, chars.length - 6)\n  return chars.join('')\n}\n\nexport function shadePhone(phone) {\n  if (!phone) return\n  let chars = phone.split('')\n  chars = _.fill(chars, '*', 3, chars.length - 4)\n  return chars.join('')\n}\n\nexport function checkBrowser () {\n  const browser = detect()\n  // TODO 360\n  return _.includes(['firefox', 'chrome', '360'], browser.name)\n}\n\nexport function checkPassword (passwordHash, relayAccount) {\n  let exchangeAccount = new Account(window.wallet);\n  const keyPair = exchangeAccount.generateKeyPair(passwordHash);\n  console.info(passwordHash, keyPair.publicKeyX, relayAccount.publicKeyX)\n  return (\n    keyPair.secretKey &&\n    keyPair.publicKeyX === relayAccount.publicKeyX &&\n    keyPair.publicKeyY === relayAccount.publicKeyY\n  )\n}\n\nexport function genSignature (method, url, params, secretKey) {\n  let urlString = window.encodeURIComponent(url)\n  // 字典序升序排列\n  params = _(params).toPairs().sortBy(0).fromPairs().value()\n  let paramsString = ''\n  if (method === 'POST' || method === 'PUT') {\n    paramsString = JSON.stringify()\n  } else {\n    console.info(_(params))\n    paramsString = _(params)\n      .toPairs()\n      .map(([k, v]) => `${k}=${v}`)\n      .join('&')\n    paramsString = window.encodeURIComponent(paramsString)\n  }\n\n  let signatureBase = `${method}&${urlString}&${paramsString}`\n  const hash = fm.addHexPrefix(sha256(signatureBase).toString())\n  let signature = EdDSA.sign(secretKey, hash);\n  return signature\n}\n\nexport async function genApiKey (accountId, passwordHash) {\n  let exchangeAccount = new Account(window.wallet);\n  const keyPair = exchangeAccount.generateKeyPair(passwordHash);\n  let { publicKeyX, publicKeyY, secretKey } = keyPair\n\n  const signature = genSignature(\n    'GET',\n    `${appConfig.relay.serverUrl}/apiKey`,\n    {\n      publicKeyX,\n      accountId,\n      publicKeyY,\n    },\n    secretKey\n  )\n  const data = {\n    accountId: accountId,\n    publicKeyX: publicKeyX,\n    publicKeyY: publicKeyY\n  };\n  // 服务端生成\n  let resp = await api.getApiKey(data, signature);\n  return resp\n}\n\nexport function genPasswordHash (address, password) {\n  return lightConeUtils.keccakHash(password)\n}\n\nexport function formatPageParams ({ page, pageSize }) {\n  return {\n    offset: (page - 1) * pageSize,\n    limit: pageSize\n  }\n}\n\nexport async function withLoading (handler) {\n  dispatch.appState.update({ loading: true })\n  try {\n    let result = await handler()\n    dispatch.appState.update({ loading: false })\n    return result\n  } catch (e) {\n    console.info(\"!!!!!!withLoading error\", e)\n    dispatch.appState.update({ loading: false })\n  }\n}\n\nexport function setImmediateInterval (callback, interval) {\n  callback()\n  return setInterval(() => callback(), interval)\n}\n\nexport function getPrecision (num) {\n  let parts = num.toString().split('.')\n  return parts[1] ? parts[1].length : 0\n}\n\nexport function asLegalMoney (value, from, to = 'USD') {\n  let rootState = store.getState()\n  let { rate } = rootState\n\n  let list = rate[to]\n  let item = _.find(list, {symbol: from})\n  if (!item) return 0\n\n  let amount = value * item.price || 0\n  return toTokenPrecision(amount, to)\n}\n\nexport function toTokenPrecision (value = 0, symbol = 'LRC') {\n  if (symbol === 'USD') {\n    // USD的precision，借用USDT的\n    symbol = 'USDT'\n  }\n  let rootState = store.getState()\n  let { list } = rootState.tokens\n  let token = _.find(list, { symbol })\n\n  let precision = token && token.precision || 2\n  // toFixed自带四舍五入\n  // _.round有缺陷。比如_.round(1.2, 2)为 1.2，而不是 1.20\n  return Number(value).toFixed(precision)\n}\n\nexport function formatOrders (orders) {\n  return orders.map(order => {\n    let updatedOrder = { ...order }\n    const [baseTokenSymbol, quoteTokenSymbol] = updatedOrder.market.split('-')\n    let market = store.select.markets.getMarketBySymbol(store.getState(), baseTokenSymbol, quoteTokenSymbol)\n    let { pricePrecision, amountPrecision, totalPrecision } = market\n\n    let filledFee\n    let side = order['side'].toUpperCase()\n    if (side === 'BUY') {\n      filledFee = fromWEI(baseTokenSymbol, Number(order['filledFee']))\n    } else {\n      filledFee = fromWEI(quoteTokenSymbol, Number(order['filledFee']))\n    }\n    \n    const price = Number(order['price']).toFixed(pricePrecision)\n    const size = fromWEI(baseTokenSymbol, Number(order['size']), amountPrecision);\n    const filledSize = fromWEI(baseTokenSymbol, Number(order['filledSize']), amountPrecision);\n    const volume = fromWEI(quoteTokenSymbol, Number(order['volume']), totalPrecision);\n    const filledVolume = fromWEI(quoteTokenSymbol, Number(order['filledVolume']), totalPrecision);\n    let avgPrice = '-'\n\n    // if (ENUM_TX_STATUS.PROCESSED.equals(order.status)) {\n    if (Number(filledSize) !== 0) {\n      avgPrice = (Number(filledVolume) / Number(filledSize)).toFixed(pricePrecision)\n    }\n\n    // let filledInNumber = order['side'].toUpperCase() === 'SELL' ? filledSize / size : filledVolume / volume\n    let filledInNumber = filledSize / size\n    filledInNumber = Math.floor(filledInNumber * 100);\n    const filled = `${filledInNumber}%`;\n  \n    updatedOrder['price'] = price;\n    updatedOrder['avgPrice'] = avgPrice;\n    updatedOrder['filledFee'] = filledFee;\n    updatedOrder['size'] = size;\n    updatedOrder['filledSize'] = filledSize;\n    updatedOrder['volume'] = volume;\n    updatedOrder['filledVolume'] = filledVolume;\n    updatedOrder['filled'] = filled;\n    return updatedOrder\n  })\n}\n\nexport function checkLogined () {\n  let rootState = store.getState()\n  let { dexAccount: { address, state }, metaMask: { enable  } } = rootState\n\n  // 1. enable 才代表metamask已经获取到了地址，adderss 有可能是缓存的。\n  if (!enable ) return false\n\n  // 2. dexAccount中必须有地址。\n  if (!address) return false\n\n  // 3. 账号状态必须正常。\n  // 不仅仅是LOGGED_IN才算登录态。输入过密码并验证通过了，都不显示登录按钮。\n  let signinedStatus = [\n    ENUM_ACCOUNT_STATUS.LOGGED_IN,\n    ENUM_ACCOUNT_STATUS.CREATING,\n    ENUM_ACCOUNT_STATUS.LOCKED,\n  ].map(status => status.getValue())\n  let logined = _.includes(signinedStatus, state)\n  return logined\n}\n\nconst notifyDebounceTime = 1000\nexport const notification = {\n  // TODO: 有个自动，key。可以用来更新。\n  success: _.debounce(params => antdNotification.success({\n    placement: 'bottomLeft',\n    duration: 2,\n    ...params,\n  }), notifyDebounceTime, {\n    'leading': true,\n    'trailing': false\n  }),\n  info: _.debounce(params => antdNotification.info({\n    placement: 'bottomLeft',\n    duration: 2,\n    ...params,\n  }), notifyDebounceTime, {\n    'leading': true,\n    'trailing': false\n  }),\n  warning: _.debounce(params => antdNotification.warning({\n    placement: 'bottomLeft',\n    duration: 2,\n    ...params,\n  }), notifyDebounceTime, {\n    'leading': true,\n    'trailing': false\n  }),\n  error: _.debounce(params => antdNotification.error({\n    placement: 'bottomLeft',\n    duration: 3,\n    ...params,\n  }), notifyDebounceTime, {\n    'leading': true,\n    'trailing': false\n  })\n}\n\nexport function getTradingViewLocale (locale) {\n  // 把系统的语言包换成 tradingview 的格式。\n  return 'zh'\n}\n\nexport function formatResolution (str) {\n  if (str === 'D') {\n    return 24 * 60\n  } else if (str === 'W') {\n    return 7 * 24 * 60\n  } else {\n    return Number(str)\n  }\n}\n\nfunction fromWEI (symbol, valueInWEI, precision, ceil = false) {\n  let token = store.select.tokens.getTokenBySymbol(store.getState(), symbol)\n\n  if (!token) {\n    return 0\n  }\n  const value = BigNumber(valueInWEI).div(\"1e\" + token.digits)\n  precision = precision || token.precision\n\n  if (ceil) {\n    return value.decimalPlaces(token.precision).toNumber()\n  } else {\n    return value.toNumber().toFixed(precision)\n  }\n}\n\nfunction toWEI (symbol, value) {\n  let token = store.select.tokens.getTokenBySymbol(store.getState(), symbol)\n\n  if (!token) {\n    return 0;\n  }\n  const valueInBN = BigNumber(value).times(\"1e\" + token.digits)\n  return valueInBN.toString(10)\n}\n\nexport default {\n  getUrlParams,\n  checkPassword,\n  genSignature,\n  genApiKey,\n  genPasswordHash,\n  formatPageParams,\n  waitFor,\n  renderIf,\n  promisefy,\n  withLoading,\n  setImmediateInterval,\n  getPrecision,\n  asLegalMoney,\n  toTokenPrecision,\n  formatOrders,\n  checkLogined,\n  notification,\n  getTradingViewLocale,\n  formatResolution,\n  fromWEI,\n  toWEI\n}","import _ from 'lodash'\nimport React, { forwardRef, useEffect, useState, useImperativeHandle, useRef } from 'react'\nimport { connect } from 'react-redux';\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text,\n} from 'rebass'\nimport utils from 'utils';\nimport { Input, Popover, Icon, InputNumber } from 'antd';\nconst InputGroup = Input.Group;\n\nconst CoinInput = ({\n  label,\n  disabled = false,\n  value,\n  min,\n  max,\n  precision,\n  error,\n  onChange,\n  approximate,\n  unit\n}) => {\n  const [focused, setFocused] = useState(false)\n\n  const content = (\n    <div>\n      <p>{error}</p>\n    </div>\n  )\n  return (\n    <Popover content={content} trigger={error ? \"hover\" : 'focus' } overlayStyle={{\n      display: error ? undefined : 'none'\n    }}>\n      <InputGroup compact style={{\n        display: 'flex',\n        borderRadius: '3px',\n        WebkitBoxShadow: (focused || error) ? `0 0 0 1px ${error ? '#F0505A' : 'rgba(24, 144, 255, 0.2)'}` : 'none'\n      }}>\n        <Input style={{\n            paddingLeft: 0,\n            paddingRight: 0,\n            width: 48,\n            border: 0,\n            color: '#78788C',\n            pointerEvents: 'none',\n            backgroundColor: \"#0A0F1E\",\n            textAlign: 'right',\n            height: '32px'\n          }}\n          value={label}\n          disabled\n        />\n        <Input\n          disabled={disabled}\n          className=\"coin-input\"\n          precision={precision}\n          value={value}\n          onKeyPress={(e)=>{\n            // if (e.key === 'Backspace' || e.key === 'Delete') return\n            if (!/^[0-9a-zA-Z]+$/.test(e.key)) return\n\n            let value = e.target.value || ''\n            let { selectionStart, selectionEnd } = e.currentTarget\n            if (selectionStart !== selectionEnd) {\n              // 实际上不用 else 分支，如下操作包含selectionStart和selectionEnd相等的情况。此处只是便于阅读。\n              value = value.slice(0, selectionStart) + e.key + value.slice(selectionEnd)\n            } else {\n              // 需要查到光标位置。如果直接拼在最后面的话，会影响 precision 的判断.\n              value = value.slice(0, selectionStart) + e.key + value.slice(selectionStart)\n            }\n\n            let valueAsNumber = Number(value)\n            if (!_.isNumber(valueAsNumber) || isNaN(valueAsNumber)) {\n              e.preventDefault()\n              return\n            }\n\n            // fix: 这里必须直接拿字符串判断，不能转换成 Number 后判断。否则 0.0100000000，转成数字后，后面的 0 会被舍弃，用户就可以一直输入。\n            if (utils.getPrecision(value) > precision) {\n              e.preventDefault()\n              return\n            }\n          }}\n          onChange={onChange}\n          onBlur={() => setFocused(false)}\n          onFocus={() => setFocused(true)}\n          style={{minWidth: 30, flex: 1}}\n        />\n        {\n          utils.renderIf(approximate)(\n            <Input\n              value={`≈${approximate}`} style={{\n                padding: 0,\n                color: '#3c3c50',\n                textAlign: 'left',\n                pointerEvents: 'none',\n                backgroundColor: '#0A0F1E',\n                border: 0,\n                minWidth: 30,\n                flex: 1,\n                height: '32px'\n              }}\n              disabled\n            />\n          )\n        }\n        <Input value={unit} style={{\n            paddingLeft: 0,\n            width: 55,\n            border: 0,\n            color: '#646478',\n            pointerEvents: 'none',\n            backgroundColor: \"#0A0F1E\",\n            textAlign: 'right',\n            height: '32px'\n          }}\n          disabled\n        />\n      </InputGroup>\n    </Popover>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CoinInput);","export default {\n  'enum.orderStatus.processing': 'Pending',\n  'enum.orderStatus.processed': 'Executed',\n  'enum.orderStatus.cancelling': 'Cancelling',\n  'enum.orderStatus.cancelled': 'Cancelled',\n  'enum.orderStatus.expired': 'Timed Out',\n  'enum.txStatus.received': 'Pending Transfer',\n  'enum.txStatus.processing': 'Transferring',\n  'enum.txStatus.processed': 'Done',\n  'enum.txStatus.failed': 'Fail',\n\n  'selfChoice': 'Favorites',\n  'search': 'Search',\n  'operations': 'Action',\n  'buy': 'Buy',\n  'sell': 'Sell',\n  'noData': 'Empty yet',\n  'deposit': 'Deposit',\n  'withdraw': 'Withdraw',\n  'startDate': 'Start Date',\n  'endDate': 'End Date',\n  'tokenName': 'Token',\n  'exchangePair': 'Pair',\n  'timestamp': 'Time',\n  'type': 'Type',\n  'price': 'Price',\n  'size': 'Amount',\n  'volumn': 'Volumn',\n  'fee': 'Fee',\n  'status': 'Status',\n  'amount': 'Amount',\n  'side': 'Side',\n  'query': 'Inquire',\n  'password': 'Password',\n  'newPassword': 'New Password',\n  'confirm': 'Confirm',\n  'record': 'record',\n\n  'filters.allPair': 'All Pair',\n  'filters.allToken': 'All Coins',\n  'filters.allType': \"All Type\",\n  'filters.allStatus': \"All Status\",\n\n  'notify.account.create.success': 'The password is submitted successfully, it takes about 15 seconds to take effect.',\n  'notify.account.modify.success': 'The new password is submitted successfully and takes about 10 minutes to take effect. Before the new password becomes effective, the order can be placed normally.',\n  'notify.account.modify.effective': 'The new password has taken effect now.',\n  'notify.signIn.error.mismatch': 'Wrong Password',\n  'notify.signIn.error.locked': 'New password will be available in several minutes',\n  'notify.signIn.success': 'Log in Successfully',\n  'notify.metamask.needLogin': 'Log in by MetaMask first',\n  'notify.order.cancel.success': 'Operated Successfully',\n  'notify.placeOrder.success': 'Ordered Successfully',\n  'notify.socket.subscribe.error': 'Subscription failed, please resubscribe',\n  'notify.socket.subscribe.error.apikey': 'Please login again',\n  'notify.socket.heartbeat.error': 'The network is connecting......',\n  'notify.transfer.deposit.success': 'Submitted successfully, deposit requires 30 blocks to confirm, and it takes about 10 minutes, please be patient.',\n  'notify.transfer.withdraw.success': 'Submitted successfully, confirming of assets on chain and zero-knowledge-proof generation, it takes about 20 to 30 minutes',\n  'notify.transfer.duaration': 'please wait for {second} second，and then transfer again',\n  'notify.transfer.notEnough.withdrawFee': 'Ethereum balance not enough, please deposit',\n  'notify.transfer.notEnough.depositGasEth': 'Ethereum balance not enough, please deposit',\n  'notify.transfer.notEnough.available': 'balance not enough when transfer',\n\n  'maintain.text': 'System is in maitaining, we are deeply regret for the inconvenience caused by us.',\n\n  'navBar.signIn.creating': 'Creating',\n  'navBar.signIn.login': 'Log in by MetaMask',\n  'navBar.mine.balance': 'My Assets',\n  'navBar.mine.transfer': 'Deposit and Withdrawal Records',\n  'navBar.mine.order': 'Exchange Records',\n  'navBar.mine.apikey': 'API Key',\n  'navBar.mine.award':  'Winning Records',\n  'navBar.mine.resetPwd':  'Change Password',\n  'navBar.mine.clean':  'Clear Browser Cache',\n  'navBar.activity': 'Latest Activities',\n  'navBar.help': 'Support Center',\n  'navBar.help.notice': 'Latest Announcements',\n  'navBar.help.tutorial': 'Beginners’ Guide',\n  'navBar.help.faq': 'FAQs',\n  'navBar.help.about': 'About us',\n  'navBar.lang': 'English',\n\n  'tvchar.baseInfo.unit': 'Currency',\n  'tvchar.baseInfo.high': '24H High',\n  'tvchar.baseInfo.low': '24H Low',\n  'tvchar.baseInfo.volumn': '24H Volume',\n  'tvchar.resolutions.5min': '5M',\n  'tvchar.resolutions.15min': '15M',\n  'tvchar.resolutions.30min': '30M',\n  'tvchar.resolutions.1hr': '1H',\n  'tvchar.resolutions.2hr': '2H',\n  'tvchar.resolutions.4hr': '4H',\n  'tvchar.resolutions.12hr': '12H',\n  'tvchar.resolutions.1d': '1D',\n  'tvchar.resolutions.1w': '1W',\n  'tvchar.resolutions.1w': '1W',\n  'tvchar.button.depth': 'Depth',\n\n  'pair.list.header.latest': 'Last Price',\n  'pair.list.header.variation': '24H Change',\n  'pair.list.header.size': '24H Volume',\n\n  'tokenInfo.label.marketValue': 'Market Value',\n  'tokenInfo.label.rank': 'Rank',\n  'tokenInfo.label.homepage': 'Official Website',\n  'tokenInfo.label.whitePaper': 'White Paper',\n  'tokenInfo.label.publishDate': 'Issue Time',\n  'tokenInfo.label.publishAmount': 'Total Issuance',\n  'tokenInfo.label.flowAmount': 'Current Circulation',\n  'tokenInfo.label.publishPrice': 'Issuance Price',\n  'tokenInfo.label.desc': 'Brief Introduction',\n  'tokenInfo.label.lever.underlying': 'Underlying',\n  'tokenInfo.label.lever.leverage': 'Leverage',\n  'tokenInfo.label.lever.purchased': 'Tokens Outstanding',\n  'tokenInfo.label.lever.currWorth': 'Net Value of Token',\n  'tokenInfo.label.lever.lastSwapTime': 'Time of Previous Balance Point',\n  'tokenInfo.label.lever.lastWorth': 'Net Value of Previous Balance Point',\n  'tokenInfo.label.lever.currency': 'Currency',\n  'tokenInfo.label.lever.underlyTrend': ' Contract Market',\n\n  'myOrder.tabs.current': 'Open Orders',\n  'myOrder.tabs.history': 'Order History',\n  'myOrder.tabs.balance': 'My Balance',\n  'myOrder.filters.all': 'Status',\n  'myOrder.filters.processed': 'Executed',\n  'myOrder.filters.cancelled': 'Cancelled',\n  'myOrder.list.header.avgPrice': 'Avg.',\n  'myOrder.list.header.price': 'Price',\n  'myOrder.list.header.filledSize': 'Filled',\n  'myOrder.list.header.size': 'Amount',\n  'myOrder.list.header.filledVolume': 'Total',\n  'myOrder.list.header.filledSize': 'Executed',\n  'myOrder.list.header.coinType': 'Token',\n  'myOrder.list.header.wallet': 'Wallet',\n  'myOrder.list.header.availAmount': 'Available',\n  'myOrder.list.header.amountLocked': 'In Order',\n  'myOrder.list.header.total': 'Total',\n  'myOrder.operations.cancel': 'Cancel',\n  'myOrder.operations.showAll': 'Show All Coins',\n  'myOrder.operations.cancelLatest': 'Cancel the Latest 10 Orders',\n  'myOrder.notify.cancelSuccess': 'Cancelled Successfully',\n\n  'depth.title': 'Depth',\n  'depth.operations.level': 'Decimals',\n  'depth.list.header.volume': 'Sum',\n  'depth.chart.geom.price': 'Price',\n  'depth.chart.geom.sum': 'Sum',\n\n  'trade.title': 'Market Trades',\n\n  'placeOrder.tabs.limitPrice': 'Limit',\n  'placeOrder.tabs.marketPrice': 'Market',\n  'placeOrder.title.available': 'Available',\n  'placeOrder.operations.transfer': 'Transfer',\n  'placeOrder.hint.loginAndTrade': `Trade after Login`,\n  'placeOrder.hint.quoteLessThanMin': `The transaction volume cannot be less than{min}{quoteToken}`,\n  'placeOrder.hint.baseLessThanMin': `The transaction amount cannot be less than{min}{baseToken}`,\n  'placeOrder.hint.moreThanAvalable': `Insufficient Available Balance({available} {token})`,\n  'placeOrder.input.label.buyPrice': 'Price',\n  'placeOrder.input.label.buySize': 'Amount',\n  'placeOrder.input.label.sellPrice': 'Price',\n  'placeOrder.input.label.sellSize': 'Amount',\n  'placeOrder.input.label.total': 'Total',\n  'placeOrder.notify.needLogin': 'Please Log in First',\n\n  'mine.nav.back': 'Back to exchange',\n  'mine.nav.balance': 'My Assets',\n  'mine.nav.transfer': 'Deposit and Withdrawal Records',\n  'mine.nav.deposit': 'Deposit Records',\n  'mine.nav.withdraw': 'Withdrawal Records',\n  'mine.nav.order': 'Transaction Records',\n  'mine.nav.apikey': 'API Key',\n  'mine.nav.award': 'Winning Records',\n  'mine.nav.password': 'Change Transaction Password',\n\n  'mine.balance.overview.addr': 'Address',\n  'mine.balance.overview.total': 'Estimated Total Value',\n  'mine.balance.overview.walletTotal': 'Estimated Value of Wallet',\n  'mine.balance.overview.exchangeTotal': 'Estimated Value of Exchange Account',\n  'mine.balance.tab.wallet': 'Wallet',\n  'mine.balance.tab.exchange': 'Exchange Account',\n  'mine.balance.operations.hideSmall': 'Hide Small Coins',\n  'mine.balance.operations.allToken': 'All Coins',\n  'mine.balance.operations.record': 'Transfer History',\n  'mine.balance.operations.trade': 'Trade',\n  'mine.balance.wallet.list.header.amount': 'Balance',\n  'mine.balance.exchange.list.header.availAmount': 'Available Balance',\n  'mine.balance.exchange.list.header.amountLocked': 'In Order',\n  'mine.balance.exchange.list.header.totalAmount': 'Total Balance',\n  'mine.transfer.list.header.hash': 'Transfer hash',\n  'mine.order.list.header.volume': 'Total',\n  'mine.apikey.label.accountId': 'Account ID',\n  'mine.apikey.label.addr': 'Address',\n  'mine.apikey.label.apiSk': 'API Private Key',\n  'mine.apikey.label.pkX': 'Public Key X',\n  'mine.apikey.label.pkY': 'Public Key Y',\n  'mine.apikey.label.sk': 'Private Key',\n  'mine.apikey.label.sk': 'Private Key',\n  'mine.award.egg.tab.my': 'My Winning Details',\n  'mine.award.egg.list.header.winner': 'Winner',\n  'mine.award.egg.list.header.billEggName': 'Activity Name',\n  'mine.award.egg.list.header.amount': 'Amount',\n\n  'activity.list.time': 'Activity Time',\n  'activity.status.initiate': 'About to Start',\n  'activity.status.underway': 'Under Way',\n  'activity.status.finished': 'Ended',\n\n  'modal.upsertPwd.title.create': 'Set a Transaction Password',\n  'modal.upsertPwd.title.modify': 'Change Transaction Password',\n  'modal.upsertPwd.label.pwd.create': 'Password',\n  'modal.upsertPwd.label.pwd.modify': 'New Password',\n  'modal.upsertPwd.label.confirmPwd.create': 'Confirm Password',\n  'modal.upsertPwd.label.confirmPwd.modify': 'Confirm New Password',\n  'modal.upsertPwd.label.registerFee': 'Registration fee',\n  'modal.upsertPwd.label.minerFee': 'Gas fee',\n  'modal.upsertPwd.errorInfo.required': 'Required Password',\n  'modal.upsertPwd.errorInfo.upperCase': 'Capital Letters',\n  'modal.upsertPwd.errorInfo.lowerCase': 'Small Letters',\n  'modal.upsertPwd.errorInfo.number': 'Arabic Number',\n  'modal.upsertPwd.errorInfo.min': 'At least 8 characters',\n  'modal.upsertPwd.errorInfo.pwdSame': 'Enter the consistent password',\n  'modal.upsertPwd.hint.minerFeeMax': 'Gas fee cannot exceed the available balance in the wallet {ethAvail}ETH',\n  'modal.upsertPwd.create.minerFee.hint1': '● The speed of registration depends entirely on how much Gas fees you pay. When the Ethereum network is not congested, it usually takes 3-5 minutes.',\n  'modal.upsertPwd.create.minerFee.hint2': '● Registration fee: 0.005 ETH.',\n  'modal.upsertPwd.modify.minerFee.hint1': '● The speed of changing password depends entirely on how much Gas fees you pay. When the Ethereum network is not congested, it usually takes 3-5 minutes.',\n  'modal.upsertPwd.modify.minerFee.hint2': '● There is no charge for changing the password.',\n\n  'modal.transfer.label.coin': 'Coin',\n  'modal.transfer.label.available': 'Available',\n  'modal.transfer.all': 'All',\n  'modal.transfer.hint.notAvailable': 'Insufficient Available Balance',\n  'modal.transfer.deposit.minerFee.hint1': 'WeDEX is a non-custodial decentralized exchange, this is the essential difference between us and the central exchange. Through Loopring Protocol and zero-knowledge-proof technology, you have complete control of your own exchange account, you can deposit at anytime, we cannot possess or freeze any of your assets.',\n  'modal.transfer.deposit.minerFee.hint2': '● The speed of deposit depends entirely on how much Gas fees you pay. When the Ethereum network is not congested, it usually takes 3-5 minutes. ',\n  'modal.transfer.deposit.minerFee.hint3': '● There is no charge for deposit.',\n  'modal.transfer.withdraw.minerFee.hint1': '● You can initiate a withdrawal request at any time, and the decentralized exchanges cannot prevent your withdrawal operation.',\n  'modal.transfer.withdraw.minerFee.hint2': '● The withdrawal process is divided into two steps: submitting a withdrawal request and zero-knowledge-proof operation.',\n  'modal.transfer.withdraw.minerFee.hint3': '● The speed of withdrawal request on chain depends entirely on how much Gas fees you pay. When the Ethereum network is not congested, it usually takes 3-5 minutes.',\n  'modal.transfer.withdraw.minerFee.hint4': '● Zero-knowledge-proof operation is a necessary step to ensure the safety of your assets. WeDEX completes the process of on-chain and usually takes 10-20 minutes.',\n  'modal.transfer.withdraw.minerFee.hint5': '● Withdrawal fee: 0.002ETH.',\n\n  'modal.signin.title.create': 'Set a Transaction Password',\n  'modal.signin.title.verify': 'Verify Transaction Password',\n  'modal.signin.label.forget': 'Forgot Password',\n\n  'modal.errorInfo.label': 'The password must contain the following:',\n\n  'modal.billPreCheck.browser.line1': 'Your current browser does not support the MetaMask plug-in. In order not to affect your transaction, use a browser that supports MetaMask.',\n  'modal.billPreCheck.browser.line2': 'Recommended browser:Firefox, Google, 360 browser',\n  'modal.billPreCheck.browser.line3': 'View Tutorial',\n  'modal.billPreCheck.metamask.line1': 'MetaMask needs to be installed to perform this operation.',\n  'modal.billPreCheck.metamask.line2': 'Go to install MetaMask',\n  'modal.billPreCheck.metamask.line3': 'View Tutorial',\n  'modal.billPreCheck.network': 'Please make sure that MetaMask is turned on and switched to the main Ethereum network.',\n  'modal.billPreCheck.address': 'Unable to obtain MetaMask address, please try again',\n\n  'modal.eggAward.congratulation': 'Congratulations on your egg',\n  'modal.eggAward.duaration': 'The bonus will be transferred to your wallet within 24 hours',\n  'modal.eggAward.createdAt': 'Winning Time',\n}\n","export default {\n  'enum.orderStatus.processing': '待成交',\n  'enum.orderStatus.processed': '已成交',\n  'enum.orderStatus.cancelling': '撤销中',\n  'enum.orderStatus.cancelled': '已撤销',\n  'enum.orderStatus.expired': '已超时',\n  'enum.txStatus.received': '待划转',\n  'enum.txStatus.processing': '划转中',\n  'enum.txStatus.processed': '已完成',\n  'enum.txStatus.failed': '失败',\n\n  'selfChoice': '自选',\n  'search': '搜索',\n  'operations': '操作',\n  'buy': '买入',\n  'sell': '卖出',\n  'noData': '暂无数据',\n  'deposit': '充值',\n  'withdraw': '提现',\n  'startDate': '开始日期',\n  'endDate': '结束日期',\n  'tokenName': '代币名称',\n  'exchangePair': '交易对',\n  'timestamp': '时间',\n  'type': '类型',\n  'price': '价格',\n  'size': '数量',\n  'volumn': '金额',\n  'fee': '手续费',\n  'status': '状态',\n  'amount': '数量',\n  'side': '方向',\n  'query': '查询',\n  'password': '密码',\n  'newPassword': '新密码',\n  'confirm': '确定',\n  'record': '记录',\n\n  'USDT': 'USDT',\n  'ETH': 'ETH',\n  'LRC': 'LRC',\n  'DKEY': 'DKEY',\n  '3BBULL': '3BBULL',\n  '3BBEAR': '3BBEAR',\n  \n  'filters.allPair': '全部交易对',\n  'filters.allToken': '全部币种',\n  'filters.allType': \"全部类型\",\n  'filters.allStatus': \"全部状态\",\n\n  'notify.account.create.success': '密码提交成功，生效需15秒左右。',\n  'notify.account.modify.success': '新密码提交成功，生效需10分钟左右。新密码生效前，可以正常下单。',\n  'notify.account.modify.effective': '新密码已生效。',\n  'notify.signIn.error.mismatch': '密码错误',\n  'notify.signIn.error.locked': '密码生效中，请稍候',\n  'notify.signIn.success': '登录成功',\n  'notify.metamask.needLogin': '请先登录metamask',\n  'notify.order.cancel.success': '操作成功',\n  'notify.placeOrder.success': '下单成功',\n  'notify.socket.subscribe.error': '订阅失败，重新订阅',\n  'notify.socket.subscribe.error.apikey': '请重新登录',\n  'notify.socket.heartbeat.error': '网络连接中......',\n  'notify.transfer.deposit.success': '提交成功，需要30个区块确认，大约需要10分钟，请耐心等待。',\n  'notify.transfer.withdraw.success': '提交成功，资产上链及零知识证明生成确认中，大约需要20-30分钟。',\n  'notify.transfer.duaration': '请等待{second}秒，再进行划转。',\n  'notify.transfer.notEnough.withdrawFee': '钱包中以太坊余额不足以支付gas，请充值。',\n  'notify.transfer.notEnough.depositGasEth': '钱包中以太坊余额不足以支付gas，请充值。',\n  'notify.transfer.notEnough.available': '划转余额不足',\n\n  'maintain.text': '系统维护中，给您带来不便，敬请谅解。',\n\n  'navBar.signIn.creating': '创建中',\n  'navBar.signIn.login': 'MetaMask登录',\n  'navBar.mine.balance': '我的资产',\n  'navBar.mine.transfer': '充值提现记录',\n  'navBar.mine.order': '交易记录',\n  'navBar.mine.apikey': 'API Key',\n  'navBar.mine.award':  '中奖记录',\n  'navBar.mine.resetPwd':  '修改交易密码',\n  'navBar.mine.clean':  '清空浏览器缓存',\n  'navBar.activity': '最新活动',\n  'navBar.help': '帮助中心',\n  'navBar.help.notice': '最新公告',\n  'navBar.help.tutorial': '新手教程',\n  'navBar.help.faq': '常见问题',\n  'navBar.help.about': '关于我们',\n  'navBar.lang': '简体中文',\n\n  'tvchar.baseInfo.unit': '计价单位',\n  'tvchar.baseInfo.high': '24H最高价',\n  'tvchar.baseInfo.low': '24H最低价',\n  'tvchar.baseInfo.volumn': '24H交易量',\n  'tvchar.resolutions.5min': '5分钟',\n  'tvchar.resolutions.15min': '15分钟',\n  'tvchar.resolutions.30min': '30分钟',\n  'tvchar.resolutions.1hr': '1小时',\n  'tvchar.resolutions.2hr': '2小时',\n  'tvchar.resolutions.4hr': '4小时',\n  'tvchar.resolutions.12hr': '12小时',\n  'tvchar.resolutions.1d': '1日',\n  'tvchar.resolutions.1w': '1周',\n  'tvchar.resolutions.1w': '1周',\n  'tvchar.button.depth': '深度图',\n\n  'pair.list.header.latest': '最新价格',\n  'pair.list.header.variation': '24H涨跌',\n  'pair.list.header.size': '24H成交量',\n\n  'tokenInfo.label.marketValue': '市值',\n  'tokenInfo.label.rank': '排名',\n  'tokenInfo.label.homepage': '官网',\n  'tokenInfo.label.whitePaper': '白皮书',\n  'tokenInfo.label.publishDate': '发行时间',\n  'tokenInfo.label.publishAmount': '发行总量',\n  'tokenInfo.label.flowAmount': '流通总量',\n  'tokenInfo.label.publishPrice': '发行价格',\n  'tokenInfo.label.desc': '简介',\n  'tokenInfo.label.lever.underlying': '标的',\n  'tokenInfo.label.lever.leverage': '杠杆',\n  'tokenInfo.label.lever.purchased': '已申购代币',\n  'tokenInfo.label.lever.currWorth': '代币净值',\n  'tokenInfo.label.lever.lastSwapTime': '前一再平衡点时间',\n  'tokenInfo.label.lever.lastWorth': '前一再平衡点净值',\n  'tokenInfo.label.lever.currency': '计价单位',\n  'tokenInfo.label.lever.underlyTrend': '合约价格查询',\n\n  'myOrder.tabs.current': '当前委托',\n  'myOrder.tabs.history': '历史委托',\n  'myOrder.tabs.balance': '我的资产',\n  'myOrder.filters.all': '所有状态',\n  'myOrder.filters.processed': '已成交',\n  'myOrder.filters.cancelled': '已撤销',\n  'myOrder.list.header.avgPrice': '成交均价',\n  'myOrder.list.header.price': '委托价',\n  'myOrder.list.header.filledSize': '成交量',\n  'myOrder.list.header.size': '委托量',\n  'myOrder.list.header.filledVolume': '成交金额',\n  'myOrder.list.header.filledSize': '已成交',\n  'myOrder.list.header.coinType': '币种',\n  'myOrder.list.header.wallet': '我的钱包',\n  'myOrder.list.header.availAmount': '可用余额',\n  'myOrder.list.header.amountLocked': '挂单冻结',\n  'myOrder.list.header.total': '资产总额',\n  'myOrder.operations.cancel': '撤销',\n  'myOrder.operations.showAll': '显示所有币种',\n  'myOrder.operations.cancelLatest': '撤销最新10条',\n  'myOrder.notify.cancelSuccess': '取消成功',\n\n  'depth.title': '交易深度',\n  'depth.operations.level': '位小数',\n  'depth.list.header.volume': '累计',\n  'depth.chart.geom.price': '委托价',\n  'depth.chart.geom.sum': '累计',\n\n  'trade.title': '实时成交',\n\n  'placeOrder.tabs.limitPrice': '限价',\n  'placeOrder.tabs.marketPrice': '市价',\n  'placeOrder.title.available': '可用',\n  'placeOrder.operations.transfer': '划转资金',\n  'placeOrder.hint.loginAndTrade': `登录后交易`,\n  'placeOrder.hint.quoteLessThanMin': `交易额不能小于{min}{quoteToken}`,\n  'placeOrder.hint.baseLessThanMin': `交易数量不能小于{min}{baseToken}`,\n  'placeOrder.hint.moreThanAvalable': `可用余额({available} {token})不足`,\n  'placeOrder.input.label.buyPrice': '买入价',\n  'placeOrder.input.label.buySize': '买入量',\n  'placeOrder.input.label.sellPrice': '卖出价',\n  'placeOrder.input.label.sellSize': '卖出量',\n  'placeOrder.input.label.total': '交易额',\n  'placeOrder.notify.needLogin': '请先登录',\n\n  'mine.nav.back': '返回交易市场',\n  'mine.nav.balance': '我的资产',\n  'mine.nav.transfer': '充值提现记录',\n  'mine.nav.deposit': '充值记录',\n  'mine.nav.withdraw': '提现记录',\n  'mine.nav.order': '交易记录',\n  'mine.nav.apikey': 'API Key',\n  'mine.nav.award': '中奖记录',\n  'mine.nav.password': '修改交易密码',\n\n  'mine.balance.overview.addr': '钱包地址',\n  'mine.balance.overview.total': '总资产估值',\n  'mine.balance.overview.walletTotal': '我的钱包资产估值',\n  'mine.balance.overview.exchangeTotal': '交易账户资产估值',\n  'mine.balance.tab.wallet': '我的钱包',\n  'mine.balance.tab.exchange': '交易账户',\n  'mine.balance.operations.hideSmall': '隐藏小额代币',\n  'mine.balance.operations.allToken': '全部币种',\n  'mine.balance.operations.record': '资金记录',\n  'mine.balance.operations.trade': '交易',\n  'mine.balance.wallet.list.header.amount': '余额',\n  'mine.balance.exchange.list.header.availAmount': '可用余额',\n  'mine.balance.exchange.list.header.amountLocked': '挂单金额',\n  'mine.balance.exchange.list.header.totalAmount': '总计(可用+挂单)',\n  'mine.transfer.list.header.hash': '转账hash',\n  'mine.order.list.header.volume': '成交金额',\n  'mine.apikey.label.accountId': '账户ID',\n  'mine.apikey.label.addr': '钱包地址',\n  'mine.apikey.label.apiSk': 'API密钥',\n  'mine.apikey.label.pkX': '公钥X',\n  'mine.apikey.label.pkY': '公钥Y',\n  'mine.apikey.label.sk': '密钥',\n  'mine.apikey.label.sk': '密钥',\n  'mine.award.egg.tab.my': '我的中奖详情',\n  'mine.award.egg.list.header.winner': '中奖人',\n  'mine.award.egg.list.header.billEggName': '活动名称',\n  'mine.award.egg.list.header.amount': '金额',\n\n  'activity.list.time': '活动时间',\n  'activity.status.initiate': '即将开始',\n  'activity.status.underway': '火热进行中',\n  'activity.status.finished': '已结束',\n\n  'modal.upsertPwd.title.create': '设置交易密码',\n  'modal.upsertPwd.title.modify': '修改交易密码',\n  'modal.upsertPwd.label.pwd.create': '密码',\n  'modal.upsertPwd.label.pwd.modify': '新密码',\n  'modal.upsertPwd.label.confirmPwd.create': '确认密码',\n  'modal.upsertPwd.label.confirmPwd.modify': '确认新密码',\n  'modal.upsertPwd.label.registerFee': '注册费',\n  'modal.upsertPwd.label.minerFee': '矿工费',\n  'modal.upsertPwd.errorInfo.required': '必填密码',\n  'modal.upsertPwd.errorInfo.upperCase': '大写字母',\n  'modal.upsertPwd.errorInfo.lowerCase': '小写字母',\n  'modal.upsertPwd.errorInfo.number': '数字',\n  'modal.upsertPwd.errorInfo.min': '至少8个字符',\n  'modal.upsertPwd.errorInfo.pwdSame': '输入的密码一致',\n  'modal.upsertPwd.hint.minerFeeMax': '矿工费不能超过钱包中的可用余额 {ethAvail}ETH',\n  'modal.upsertPwd.create.minerFee.hint1': '● 注册的快慢完全取决于您支付的矿工费多少。在以太坊网络不拥堵的情况下，通常需要3-5分钟。',\n  'modal.upsertPwd.create.minerFee.hint2': '● 注册手续费：0.005ETH。',\n  'modal.upsertPwd.modify.minerFee.hint1': '● 修改密码的快慢完全取决于您支付的矿工费多少。在以太坊网络不拥堵的情况下，通常需要3-5分钟。',\n  'modal.upsertPwd.modify.minerFee.hint2': '● 修改密码不收取手续费。',\n\n  'modal.transfer.label.coin': '币种',\n  'modal.transfer.label.available': '可划转数量',\n  'modal.transfer.all': '全部划转',\n  'modal.transfer.hint.notAvailable': '余额不够,无法完成划转!',\n  'modal.transfer.deposit.minerFee.hint1': 'WeDEX是非托管的去中心化交易所,这是我们与中心化交易所的本质区别。通过路印协议和零知识证明技术，币币账户由您自己全权掌握,随时提现，我们无法占有、冻结您的任何资产。',\n  'modal.transfer.deposit.minerFee.hint2': '● 充值的快慢完全取决于您支出的矿工费多少。在以太坊网络不拥堵的情况下， 通常需要3-10分钟。 ',\n  'modal.transfer.deposit.minerFee.hint3': '● 充值不收取手续费。',\n  'modal.transfer.withdraw.minerFee.hint1': '● 您可以随时发起提现请求，去中心化交易所无法阻止您的提现操作。',\n  'modal.transfer.withdraw.minerFee.hint2': '● 提现流程分为提交提现请求和零知识证明运算两个步骤。',\n  'modal.transfer.withdraw.minerFee.hint3': '● 提现请求上链的快慢完全取决于您支付的矿工费多少。在以太坊网络不拥堵的情况下，通常需要3-10分钟。',\n  'modal.transfer.withdraw.minerFee.hint4': '● 零知识证明运算是保障您资产安全的必要步骤，由WeDEX完成上链，通常需要10-20分钟。',\n  'modal.transfer.withdraw.minerFee.hint5': '● 提现手续费：0.002ETH。',\n\n  'modal.signin.title.create': '设置交易密码',\n  'modal.signin.title.verify': '验证交易密码',\n  'modal.signin.label.forget': '忘记密码',\n\n  'modal.errorInfo.label': '密码必须包含以下内容:',\n\n  'modal.billPreCheck.browser.line1': '您当前的浏览器不支持MetaMask插件，为了不影响您的交易，请使用支持MetaMask的浏览器。',\n  'modal.billPreCheck.browser.line2': '推荐使用：火狐浏览器、谷歌浏览器、360浏览器',\n  'modal.billPreCheck.browser.line3': '查看教程',\n  'modal.billPreCheck.metamask.line1': '需要安装MetaMask，才能执行该操作。',\n  'modal.billPreCheck.metamask.line2': '前往安装MetaMask',\n  'modal.billPreCheck.metamask.line3': '查看教程',\n  'modal.billPreCheck.network': '请确保已打开MetaMask，并切换到以太坊主网络。',\n  'modal.billPreCheck.address': '无法获取MetaMask地址，请重试',\n\n  'modal.eggAward.congratulation': '恭喜您获得彩蛋',\n  'modal.eggAward.duaration': '奖金将在24小时内转入您的钱包',\n  'modal.eggAward.createdAt': '获奖时间',\n}\n","import en_US from \"./en_US\"\nimport ja_JP from \"./ja_JP\"\nimport ko_KR from \"./ko_KR\"\nimport ru_RU from \"./ru_RU\"\nimport zh_CN from \"./zh_CN\"\n\nexport let messages = {\n  us: {...zh_CN, ...en_US},\n  jp: {...zh_CN, ...ja_JP},\n  kr: {...zh_CN, ...ko_KR},\n  ru: {...zh_CN, ...ru_RU},\n  cn: zh_CN,\n}\n\nexport default {\n  messages\n}\n","export default {\n  'navBar.activity': '最新活动',\n  'navBar.lang': '日本語',\n}\n","export default {\n  'navBar.activity': '最新活动',\n  'navBar.lang': '한국어',\n}\n","export default {\n  'navBar.activity': 'activity',\n  'navBar.lang': 'русский',\n}\n","import _ from 'lodash'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { store } from 'store'\nimport { Provider } from 'react-redux'\nimport { IntlProvider } from 'react-intl'\nimport { messages } from 'locales'\n\n/*\n * 这里创建的窗体是在App容器包裹之外的，无法使用redux，所以需要使用provider包裹\n*/\nexport default function funcfy (Component, props) {\n  var div = document.createElement('div')\n  \n  function destroy () {\n    var unmountResult = ReactDOM.unmountComponentAtNode(div)\n    if (unmountResult && div.parentNode) {\n        div.parentNode.removeChild(div)\n    }\n  }\n\n  function render () {\n    let rootState = store.getState()\n    let { persistData: { locale } } = rootState\n\n    ReactDOM.render(\n      <IntlProvider locale={locale} key={locale} messages={messages[locale]}>\n        <Provider store={store}>\n          <Component {...props} onDestory={() => destroy()}>\n          </Component>\n        </Provider>\n      </IntlProvider>\n    , div)\n  }\n\n  render()\n}\n","import React, { forwardRef, useEffect, useState, useImperativeHandle, useRef } from 'react'\nimport { Modal, message } from 'antd'\nimport funcfy from './funcfyDialog'\nimport {\n  Box,\n  Flex,\n  Text\n} from 'rebass'\n\nconst Widget = ({\n  style,\n  onDestory,\n  onSubmit = () => {}\n}) => {\n  const [visible, setVisible] = useState(false)\n \n  useEffect(() => {\n    show()\n  }, [])\n\n  const show = async () => {\n    setVisible(true)\n  }\n\n  const cancel = async () => {\n    setVisible(false)\n    onDestory()\n  }\n\n  return (\n    <Modal \n      bodyStyle={{backgroundColor: '#363636', color: '#d0d0d0'}}\n      visible={visible}\n      maskClosable={true}\n      onOk={() => {\n        cancel()\n        onSubmit()\n      }}\n      onCancel={() => cancel()}\n      footer={null}\n      width={800}\n    >\n      <Box px={20}>\n        <Text>您当前的浏览器不支持MetaMask插件，为了不影响您的交易，请使用支持MetaMask的浏览器。</Text>\n        <Text>推荐使用：火狐浏览器、谷歌浏览器、360浏览器</Text>\n        <Text>查看教程</Text>\n      </Box>\n    </Modal>\n  )\n}\n\nexport default (props) => funcfy(Widget, props)\n// export default Widget\n","import moment from \"moment\"\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport { Modal, Input, Form, Button, Checkbox } from 'antd'\nimport {\n  Box,\n  Flex,\n  Text\n} from 'rebass'\nimport funcfy from './funcfyDialog'\nimport { ENUM_ACCOUNT_STATUS } from 'utils/enum'\nimport utils, { notification } from 'utils'\nimport { FormErrorInfo } from 'widgets/Common'\nimport { UpsertPasswordModal } from '../Dialog'\nimport api from 'api'\n\n@injectIntl\nclass Widget extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      visible: false\n    }\n\n    let { intl } = props\n    this.errorInfos = [\n      intl.formatMessage({id: 'modal.upsertPwd.errorInfo.upperCase'}),\n      intl.formatMessage({id: 'modal.upsertPwd.errorInfo.lowerCase'}),\n      intl.formatMessage({id: 'modal.upsertPwd.errorInfo.number'}),\n      intl.formatMessage({id: 'modal.upsertPwd.errorInfo.min'}),\n    ]\n  }\n\n  componentDidMount () {\n    this.setState({ visible: true })\n    this.checkInput()\n  }\n\n  async checkInput () {\n    // 必须稍微等下，因为被接管后的表单虽然可以继续使用onChange事件，但是onChange触发时，表单的校验结果可能还没做完。\n    await utils.waitFor(50)\n\n    // 修改表单校验的规则：如果没有输入任何东西，默认全部错误。而表单校验本身的规则是，不输入，则无错误。\n    let password = this.props.form.getFieldProps('password').value\n    if (!password) {\n      this.setState({errors: this.errorInfos})\n      return \n    }\n\n    let errors = this.props.form.getFieldsError()\n    errors = _.chain(errors)\n      .values()\n      .flatten()\n      .filter(error => error)\n      .value()\n    this.setState({errors})\n  }\n\n  async submit (e) {\n    let { dexAccount, intl } = this.props\n\n    e.preventDefault();\n    let validateFields = utils.promisefy(this.props.form.validateFields)\n\n    let values\n    try {\n      values = await validateFields()\n    } catch(err) {\n      console.info(err)\n      return\n    }\n    let { password, remember } = values\n\n    const passwordHash = utils.genPasswordHash(dexAccount.address, password);\n    const relayAccount = await api.lightconeGetAccount(dexAccount.address);\n    console.info(password)\n    let valid = utils.checkPassword(passwordHash, relayAccount)\n    if (!valid) {\n      notification['success']({\n        message: (\n          <div>\n            <p>{intl.formatMessage({id: \"notify.signIn.error.mismatch\"})}</p>\n          </div>\n        )\n      });\n      return\n    }\n\n    let accountId = relayAccount.accountId\n    let apiKey = await utils.genApiKey(accountId, passwordHash)\n    await this.props.updateAccount({\n      accountId,\n      passwordHash,\n      apiKey,\n      rememberMeStartTime: moment().format('YYYY-MM-DD HH:mm:ss'),\n      rememberMeMinutes: (remember ? 24 : 1) * 60,\n    })\n\n    if (relayAccount.isFreeze) {\n      this.props.updateAccount({ state: ENUM_ACCOUNT_STATUS.LOCKED.getValue()})\n      notification['success']({\n        message: (\n          <div>\n            <p>{intl.formatMessage({id: \"notify.signIn.error.locked\"})}</p>\n          </div>\n        )\n      });\n    } else {\n      this.props.updateAccount({ state: ENUM_ACCOUNT_STATUS.LOGGED_IN.getValue()})\n      this.props.startFetchBalance()\n      this.props.fetchOrders()\n\n      notification['success']({\n        message: intl.formatMessage({id: \"notify.signIn.success\"})\n      });\n    }\n    this.loginSunccess()\n  }\n\n  async loginSunccess () {\n    this.setState({visible: false})\n    this.props.onSucess()\n    this.props.onDestory()\n  }\n\n  render () {\n    let { dexAccount: { state }, intl } = this.props\n\n    let modalTitle = ENUM_ACCOUNT_STATUS.UNCREATED.equals(state) ? \n      intl.formatMessage({id: `modal.signin.title.create`}) : \n      intl.formatMessage({id: `modal.signin.title.verify`})\n\n    const { getFieldDecorator, getFieldsValue } = this.props.form;\n    let { remember } = getFieldsValue()\n    \n    const formItemLayout = {\n      labelCol: { span: 4 },\n      wrapperCol: { span: 20 },\n    };\n    const noLabelLayout = {\n      wrapperCol: { span: 20, offset: 4 },\n    };\n    return (\n      <Modal \n        // bodyStyle={{backgroundColor: '#363636', color: '#d0d0d0'}}\n        title={modalTitle}\n        visible={this.state.visible}\n        maskClosable={true}\n        onOk={() => {\n\n        }}\n        onCancel={() => {\n          this.setState({visible: false})\n          this.props.onFail()\n          this.props.onDestory()\n        }}\n        footer={null}\n        width={550}\n        className=\"password-modal\"\n      >\n        <Box pt={20} pb={47} justifyContent=\"center\">\n          <Box width={440} mx=\"auto\">\n            <Form className=\"upsert-password-form\" onSubmit={(e) => {\n              utils.withLoading(() => this.submit(e))\n            }}>\n              <Box>\n                <Form.Item {...formItemLayout} label={intl.formatMessage({id: `password`})} hasFeedback={false}>\n                  {getFieldDecorator('password', {\n                    rules: [\n                      { required: true, message: intl.formatMessage({id: 'modal.upsertPwd.errorInfo.required'}) },\n                      { pattern: /[A-Z]+/, message: intl.formatMessage({id: 'modal.upsertPwd.errorInfo.upperCase'}) },\n                      { pattern: /[a-z]+/, message: intl.formatMessage({id: 'modal.upsertPwd.errorInfo.lowerCase'}) },\n                      { pattern: /[0-9]+/, message: intl.formatMessage({id: 'modal.upsertPwd.errorInfo.number'}) },\n                      { min: 8, message: intl.formatMessage({id: 'modal.upsertPwd.errorInfo.min'}) },\n                    ],\n                  })(\n                    <Input.Password size=\"large\" onChange={() => this.checkInput()} />\n                  )}\n                </Form.Item>\n              </Box>\n              <Box mt={26}>\n                <Form.Item {...noLabelLayout}>\n                  <FormErrorInfo errors={this.state.errors} items={this.errorInfos} />\n                </Form.Item>\n              </Box>\n              <Box mt={26}>\n                <Form.Item {...noLabelLayout}>\n                  <Button size=\"large\" style={{width: '100%'}} type=\"primary\" htmlType=\"submit\" >\n                    <FormattedMessage id=\"confirm\" />\n                  </Button>\n                  <Box mt={30}></Box>\n                  <Button size=\"large\" style={{width: '100%'}} ghost type=\"primary\" onClick={() => {\n                    this.props.onSucess()\n                    this.props.onDestory()\n                    UpsertPasswordModal()\n                  }}>\n                    <FormattedMessage id=\"modal.signin.label.forget\" />\n                  </Button>\n                </Form.Item>\n              </Box>\n            </Form>\n          </Box>\n        </Box>\n      </Modal>\n    )\n  }\n}\n\nconst WrappedForm = Form.create({ name: 'upsert_password_form' })(Widget);\n\nconst mapStateToProps = ({ metaMask, dexAccount }) => {\n  return {\n    metaMask,\n    dexAccount\n  };\n};\nconst mapDispatchToProps = ({ dexAccount, balance, order }) => {\n  return {\n    updateAccount: dexAccount.updateAccount,\n    startFetchBalance: balance.startFetchBalance,\n    fetchOrders: order.fetchOrders,\n  };\n};\nlet connectedWidget = connect(mapStateToProps, mapDispatchToProps, null, {forwardRef: true})(WrappedForm)\n\nexport default function promisefy (props) {\n  return new Promise((resolve, reject) => {\n    funcfy(connectedWidget, {\n      ...props,\n      onSucess: resolve,\n      onFail: reject,\n    })\n  })\n}","import _ from 'lodash'\nimport moment from \"moment\"\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport { Modal, Input, Form, Button, Checkbox, Slider } from 'antd'\nimport {\n  Box,\n  Flex,\n  Text\n} from 'rebass'\nimport { Account, config, common, Utils } from 'librarys/lightcone_v3';\nimport funcfy from './funcfyDialog'\nimport { ENUM_ACCOUNT_STATUS } from 'utils/enum'\nimport utils, { notification, renderIf } from 'utils'\nimport api from 'api'\nimport { FormErrorInfo } from 'widgets/Common'\nimport BigNumber from \"bignumber.js\"\n\nconst gasLimitInWEI = BigNumber(config.getGasLimitByType(\"create\").gasInWEI)\nconst createAccountFee = BigNumber(utils.fromWEI('ETH', config.getFeeByType('create').feeInWEI))\n\n@injectIntl\nclass Widget extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      errors: [],\n      visible: false,\n      recommendedGasEth: [0, 0, 0],\n    }\n\n    let { intl } = props\n    this.errorInfos = [\n      intl.formatMessage({id: 'modal.upsertPwd.errorInfo.upperCase'}),\n      intl.formatMessage({id: 'modal.upsertPwd.errorInfo.lowerCase'}),\n      intl.formatMessage({id: 'modal.upsertPwd.errorInfo.number'}),\n      intl.formatMessage({id: 'modal.upsertPwd.errorInfo.min'}),\n      intl.formatMessage({id: 'modal.upsertPwd.errorInfo.pwdSame'})\n    ]\n  }\n\n  componentDidMount () {\n    this.setState({ visible: true })\n    this.checkInput()\n    this.props.fetchWalletBalances()\n\n    api.getRecommendedGasPrice().then(resp => {\n      let [min, normal, max] = resp\n      let minGas = utils.fromWEI('ETH', BigNumber(min).times(gasLimitInWEI))\n      let normalGas = utils.fromWEI('ETH', BigNumber(normal).times(gasLimitInWEI))\n      let maxGas = utils.fromWEI('ETH', BigNumber(max).times(gasLimitInWEI))\n\n      this.setState({recommendedGasEth: [Number(minGas), Number(normalGas), Number(maxGas)]})\n    })\n  }\n\n  async checkInput () {\n    let { intl } = this.props\n\n    // 必须稍微等下，因为被接管后的表单虽然可以继续使用onChange事件，但是onChange触发时，表单的校验结果可能还没做完。\n    await utils.waitFor(50)\n\n    // 修改表单校验的规则：如果没有输入任何东西，默认全部错误。而表单校验本身的规则是，不输入，则无错误。\n    let password = this.props.form.getFieldProps('password').value\n    if (!password) {\n      this.setState({errors: this.errorInfos})\n      return \n    }\n    \n    let errors = this.props.form.getFieldsError()\n    console.info(errors)\n    errors = _.chain(errors)\n    .values()\n    .flatten()\n    .filter(error => error)\n    .value()\n    \n    let confirmPassword = this.props.form.getFieldProps('confirmPassword').value\n    if (password !== confirmPassword) errors.push(intl.formatMessage({id: 'modal.upsertPwd.errorInfo.pwdSame'}))\n    this.setState({errors})\n  }\n\n  async submit (e) {\n    e.preventDefault();\n    let { intl } = this.props\n\n    let validateFields = utils.promisefy(this.props.form.validateFields)\n    let values\n    try {\n      values = await validateFields()\n    } catch(err) {\n      return\n    }\n    // let { password, remember, gasEth = 0 } = values\n    // gasEth 本来从”表单校验对象“中取，现在写死。\n    let { password, remember } = values\n    let gasEth = this.state.recommendedGasEth[1]\n    let ethAvail = this.getEthAvail()\n    console.info({gasEth, ethAvail})\n    // if (gasEth >= ethAvail) return\n  \n    let { type = 'modify', dexAccount, updateAccount, checkAccountCreated } = this.props\n    const passwordHash = utils.genPasswordHash(dexAccount.address, password);\n    const nonce = await api.getNonce(window.wallet.account);\n    const exchangeAccount = new Account(window.wallet);\n\n    let gasEthInWEI = utils.toWEI('ETH', gasEth)\n    let gasPriceInWEI = BigNumber(gasEthInWEI).dividedBy(gasLimitInWEI)\n    const resp = await exchangeAccount.createOrUpdateAccount(\n      passwordHash,\n      nonce,\n      common.formatter.toGWEI(gasPriceInWEI)\n    );\n    \n    const signedEthereumTx = resp['signedTx'];\n    const keyPair = resp['keyPair'];\n    \n    if (keyPair.secretKey === undefined) {\n      throw new Error(\n        'Failed to parse the response of account creation.'\n      );\n    }\n    \n    // console.log('signedEthereumTx: ', signedEthereumTx);\n    // const response = await api.sendDeposit(signedEthereumTx);\n    // if (!response) return\n    // const data = response['result'];\n    // // TODO: Remove response\n    // console.log('Response of createOrUpdateAccount: ', data);\n\n    notification['success']({\n      message: intl.formatMessage({id: `notify.account.${type}.success`})\n    });\n\n    // 仅仅创建账号的时候做如下处理。\n    // 更新的时候啥都不做，一直到 apikey 错误，直接退出。\n    if (type === 'create') {\n      updateAccount({\n        // TODO: 直接换浏览器，重置密码。那accountId如何存入 store?\n        // accountId: relayAccount.accountId,\n        state: ENUM_ACCOUNT_STATUS.CREATING.getValue(),\n        passwordHash,\n        rememberMeStartTime: moment().format('YYYY-MM-DD HH:mm:ss'),\n        rememberMeMinutes: (remember ? 24 : 1) * 60,\n      })\n      checkAccountCreated()\n    }\n\n    this.loginSunccess()\n  }\n\n  async loginSunccess () {\n    this.setState({visible: false})\n    this.props.onSucess()\n    this.props.onDestory()\n  }\n\n  getEthAvail () {\n    let { type = 'modify', walletBalance } = this.props\n    let ethBalance = _.find(walletBalance.list, b => b.symbol === 'ETH')\n    let ethAmount = ethBalance ? ethBalance.amount : 0\n    if (type === 'create') {\n      return _.max(ethAmount - createAccountFee, 0)\n    } else {\n      return ethAmount\n    }\n  }\n\n  render () {\n    let { type = 'modify', intl } = this.props\n    const { getFieldDecorator, getFieldsValue } = this.props.form;\n    let { remember, gasEth } = getFieldsValue()\n    let { recommendedGasEth } = this.state\n    let gasEthForShow = gasEth || recommendedGasEth[1]\n    let ethAvail = this.getEthAvail()\n\n    const formItemLayout = {\n      labelCol: { span: 5 },\n      wrapperCol: { span: 19 },\n    };\n    const noLabelLayout = {\n      wrapperCol: { span: 19, offset: 5 },\n    };\n\n    return (\n      <Modal \n        // bodyStyle={{backgroundColor: '#363636', color: '#d0d0d0'}}\n        title={intl.formatMessage({id: `modal.upsertPwd.title.${type}`})}\n        visible={this.state.visible}\n        maskClosable={true}\n        onOk={() => {\n\n        }}\n        onCancel={() => {\n          this.setState({visible: false})\n          this.props.onFail()\n          this.props.onDestory()\n        }}\n        footer={null}\n        width={550}\n        className=\"password-modal\"\n      >\n        <Box pt={20} pb={30} justifyContent=\"center\">\n          <Box width={440} mx=\"auto\">\n            <Form className=\"upsert-password-form\" onSubmit={(e) => {\n              utils.withLoading(() => this.submit(e))\n            }}>\n              <Box>\n                <Form.Item {...formItemLayout} label={intl.formatMessage({id: `modal.upsertPwd.label.pwd.${type}`})} hasFeedback={false}>\n                  {getFieldDecorator('password', {\n                    rules: [\n                      { required: true, message: intl.formatMessage({id: 'modal.upsertPwd.errorInfo.required'}) },\n                      { pattern: /[A-Z]+/, message: intl.formatMessage({id: 'modal.upsertPwd.errorInfo.upperCase'}) },\n                      { pattern: /[a-z]+/, message: intl.formatMessage({id: 'modal.upsertPwd.errorInfo.lowerCase'}) },\n                      { pattern: /[0-9]+/, message: intl.formatMessage({id: 'modal.upsertPwd.errorInfo.number'}) },\n                      { min: 8, message: intl.formatMessage({id: 'modal.upsertPwd.errorInfo.min'}) },\n                    ],\n                  })(\n                    <Input.Password size=\"large\" onChange={() => this.checkInput()} />\n                  )}\n                </Form.Item>\n              </Box>\n              <Box mt={20}>\n                <Form.Item {...formItemLayout} label={intl.formatMessage({id: `modal.upsertPwd.label.confirmPwd.${type}`})}>\n                  {getFieldDecorator('confirmPassword', {\n                    rules: [\n                      { required: true, message: intl.formatMessage({id: 'modal.upsertPwd.errorInfo.required'}) },\n                      {\n                        validator: (rule, value, callback) => {\n                          const { form } = this.props;\n                          if (value && value !== form.getFieldValue('password')) {\n                            callback(intl.formatMessage({id: 'modal.upsertPwd.errorInfo.pwdSame'}));\n                          } else {\n                            callback();\n                          }\n                        }\n                      }\n                    ],\n                  })(\n                    <Input.Password size=\"large\" onChange={() => this.checkInput()} />\n                  )}\n                </Form.Item>\n              </Box>\n              <Box mt={20}>\n                <Form.Item {...noLabelLayout}>\n                  <FormErrorInfo errors={this.state.errors} items={this.errorInfos} />\n                </Form.Item>\n              </Box>\n              {/* {renderIf(type === 'create')(\n                <Box mt={20}>\n                  <Form.Item {...formItemLayout} label={intl.formatMessage({id: `modal.upsertPwd.label.registerFee`})}>\n                    <Input size=\"large\" disabled value={`0.005 ETH ≈ $${utils.asLegalMoney(0.005, 'ETH', 'USD')}`} />\n                  </Form.Item>\n                </Box>\n              )} */}\n              {/* <Box mt={20}>\n                <Form.Item {...formItemLayout} label={intl.formatMessage({id: `modal.upsertPwd.label.minerFee`})}>\n                  <Input size=\"large\" disabled value={`${gasEthForShow} ETH ≈ $${utils.asLegalMoney(gasEthForShow, 'ETH', 'USD')}`} />\n                </Form.Item>\n              </Box>\n              {renderIf(gasEth >= ethAvail)(\n                <Box mt={15}>\n                  <Form.Item {...noLabelLayout}>\n                    <Text color=\"#F0505A\" lineHeight=\"14px\">{intl.formatMessage({id: 'modal.upsertPwd.hint.minerFeeMax'}, { ethAvail })}</Text>\n                  </Form.Item>\n                </Box>\n              )}\n              <Form.Item {...noLabelLayout}>\n                {getFieldDecorator('gasEth', {\n                  initialValue: recommendedGasEth[1]\n                })(\n                  <Slider size=\"small\" min={recommendedGasEth[0]} max={recommendedGasEth[2]} marks={{\n                    [recommendedGasEth[0]]: '慢',\n                    // [recommendedGasEth[1]]: '一般',\n                    [recommendedGasEth[2]]: '快',\n                }} step={0.000001} />\n                )}\n              </Form.Item> */}\n              {/* <Form.Item {...noLabelLayout}>\n                <Flex mt={10} justifyContent=\"space-between\">\n                  {getFieldDecorator('remember', {\n                    initialValue: false\n                  })(\n                    <Checkbox style={{color: '#1890ff', fontSize: '14px'}}>记住密码</Checkbox>\n                  )}\n                </Flex>\n                { remember && (<Text lineHeight={'30px'} fontSize={14} color=\"#969696\" ml={'6px'}>24 小时内交易无需输入密码</Text>) }\n              </Form.Item> */}\n              <Box mt={20}>\n                <Form.Item {...noLabelLayout}>\n                  <Button size=\"large\" style={{width: '100%'}} type=\"primary\" htmlType=\"submit\" >\n                    <FormattedMessage id=\"confirm\" />\n                  </Button>\n                </Form.Item>\n              </Box>\n              {\n                renderIf(type === 'create')(\n                  <Box>\n                    <Text mt={30} color={\"#969696\"} fontSize={12} lineHeight=\"20px\">{intl.formatMessage({id: 'modal.upsertPwd.create.minerFee.hint1'})}</Text>\n                    <Text mt={15} color=\"#969696\" fontSize={12} lineHeight=\"20px\">{intl.formatMessage({id: 'modal.upsertPwd.create.minerFee.hint2'})}</Text>\n                  </Box>\n                )\n              }\n              {\n                renderIf(type === 'modify')(\n                  <Box>\n                    <Text mt={30} color={\"#969696\"} fontSize={12} lineHeight=\"20px\">{intl.formatMessage({id: 'modal.upsertPwd.modify.minerFee.hint1'})}</Text>\n                    <Text mt={15} color=\"#969696\" fontSize={12} lineHeight=\"20px\">{intl.formatMessage({id: 'modal.upsertPwd.modify.minerFee.hint2'})}</Text>\n                  </Box>\n                )\n              }\n            </Form>\n          </Box>\n        </Box>\n      </Modal>\n    )\n  }\n}\n\nconst WrappedForm = Form.create({ name: 'upsert_password_form' })(Widget);\n\nconst mapStateToProps = ({ metaMask, dexAccount, rate, walletBalance }) => {\n  return {\n    metaMask,\n    dexAccount,\n    rate,\n    walletBalance\n  };\n};\nconst mapDispatchToProps = ({ dexAccount, walletBalance }) => {\n  return {\n    updateAccount: dexAccount.updateAccount,\n    checkAccountCreated: dexAccount.checkAccountCreated,\n    fetchWalletBalances: walletBalance.fetchAllBalances,\n  };\n};\nlet connectedWidget = connect(mapStateToProps, mapDispatchToProps, null, {forwardRef: true})(WrappedForm)\n\nexport default function promisefy (props) {\n  console.info({props})\n  return new Promise((resolve, reject) => {\n    funcfy(connectedWidget, {\n      ...props,\n      onSucess: resolve,\n      onFail: reject,\n    })\n  })\n}","import _ from 'lodash'\nimport moment from 'moment'\nimport React, { forwardRef, useEffect, useState, useImperativeHandle, useRef } from 'react'\nimport { connect } from 'react-redux'\nimport { Modal, Form, Input, Select, Button, InputNumber, Slider } from 'antd'\nimport funcfy from './funcfyDialog'\nimport {\n  Box,\n  Flex,\n  Text,\n  Image\n} from 'rebass'\nimport { injectIntl, useIntl } from 'react-intl';\nimport switchSideIcon from 'icons/switchSide.png'\nimport utils, { notification, renderIf } from 'utils'\nimport { config, common } from 'librarys/lightcone_v3';\nimport api from 'api'\n\n// TODO: 实际上完全可去除这些配置了。这些配置当初只是为了让用户滑动滑块时，看到的是总的 gas（以 eth 计费），而不是 gasprice。\n// 现在已经无滑块控件了，直接拿 gasprice 下单即可。\nconst gasLimitDeposit = Number(config.getGasLimitByType(\"depositTo\").gasInWEI)\nconst gasLimitWithdraw = Number(config.getGasLimitByType(\"withdrawFrom\").gasInWEI)\nconst withdrawFeeInWEI = config.getFeeByType('withdraw').feeInWEI\n\nconst { Option } = Select;\n\nconst formItemLayout = {\n  labelCol: { span: 4 },\n  wrapperCol: { span: 20 },\n};\nconst buttonItemLayout = {\n  wrapperCol: { span: 20, offset: 4 },\n};\n\nconst Widget = ({\n  initialSymbol,\n  initialType = 'deposit',\n  onDestory,\n  balance: balanceStore,\n  walletBalance: walletBalanceStore,\n  rate,\n  persistData,\n  fetchBalances,\n  fetchWalletBalances,\n  transfer\n}) => {\n  const intl = useIntl()\n  const [visible, setVisible] = useState(false)\n  const [symbol, setSymbol] = useState(initialSymbol)\n  const [type, setType] = useState(initialType)\n  const [transferAmount, setTransferAmount] = useState(0)\n  const [recommendedGasPrice, setRecommendedGasPrice] = useState([0, 0, 0])\n  // const [gasEth, setGasEth] = useState(0)\n\n  let gasLimitInWEI = type === 'deposit' ? gasLimitDeposit : gasLimitWithdraw\n  let gasEth = utils.fromWEI('ETH', recommendedGasPrice[1] * gasLimitInWEI)\n\n  useEffect(() => {\n    // fetchBalances()\n    fetchWalletBalances()\n    show()\n\n    api.getRecommendedGasPrice().then(resp => {\n      let [min, normal, max] = resp\n      setRecommendedGasPrice([min, normal, max])\n    })\n  }, [])\n\n  const show = async () => {\n    setVisible(true)\n  }\n\n  const cancel = async () => {\n    setVisible(false)\n    onDestory()\n  }\n\n  const getAvailable = () => {\n    let available = 0\n    if (symbol) {\n      if (type === 'deposit') {\n        let balance = _.find(walletBalanceStore.list, b => b.symbol === symbol)\n        available = balance ? balance.amount : 0\n      } else {\n        let balance = _.find(balanceStore.list, b => b.token.symbol === symbol)\n        available = balance ? balance.availAmount : 0\n      }\n      available = Number(available)\n      available = _.floor(available, 6)\n    }\n    return available\n  }\n\n  const getWalletEthAvail = () => {\n    let ethBalance = _.find(walletBalanceStore.list, b => b.symbol === 'ETH')\n    return ethBalance ? ethBalance.amount : 0\n  }\n\n  let balances = balanceStore.list\n  let balancesSymbols = balances.map(b => b.token.symbol)\n  let walletBalances = walletBalanceStore.list\n  let walletBalancesSymbols = walletBalances.map(b => b.symbol)\n  let symbolOptions = _.union(balancesSymbols, walletBalancesSymbols)\n\n  // 初始化 symbol 为symbolOptions的第一个元素\n  console.info({symbol})\n  if (!symbol) {\n    if (symbolOptions[0]) {\n      setSymbol(symbolOptions[0])\n    }\n    return <></>\n  }\n\n  // getFeeByType\n  // 充值：用户手动选择矿工费。\n  // 提现：从光锥的配置读，是固定的。\n  // 充值且充ETH，可转账余额需要减去矿工费，但是最少是 0\n  let walletEthAvail = getWalletEthAvail()\n  let withdrawFee = utils.fromWEI('ETH', withdrawFeeInWEI)\n  \n  // 可用金额\n  let available = getAvailable()\n  // 仅充值，且充值的是 ETH 时，才跟可充值总额联动。\n  if (symbol === 'ETH' && type === 'deposit') {\n    let ethAvailable = _.floor(available - gasEth, 6)\n    available = _.max([ethAvailable, 0])\n  }\n\n  const submit = async (e) => {\n    e.preventDefault()\n\n    let { lastTransferTime } = persistData\n    let duaration = moment().diff(moment(lastTransferTime), 'seconds')\n    if (duaration < 30) {\n      notification.info({message: intl.formatMessage({ id: `notify.transfer.duaration`}, { second: 30 - duaration })})\n      return\n    }\n\n    if (type === 'withdraw') {\n      if (walletEthAvail < withdrawFee) {\n        notification.info({ message: intl.formatMessage({ id: `notify.transfer.notEnough.withdrawFee`}) })\n        return\n      }\n    } else if (type === 'deposit') {\n      if (gasEth >= walletEthAvail) {\n        notification.info({ message: intl.formatMessage({ id: `notify.transfer.notEnough.depositGasEth`}) })\n        return\n      }\n    }\n    if (transferAmount <= 0) return\n\n    if (transferAmount > available) {\n      notification.info({ message: intl.formatMessage({ id: `notify.transfer.notEnough.available`}) })\n      return\n    }\n\n    console.info({type, symbol, transferAmount, gasEth})\n    let result = await transfer(type, symbol, transferAmount, gasEth)\n    if (result) {\n      cancel()\n    }\n  }\n\n  return (\n    <Modal\n      title={intl.formatMessage({id: type})}\n      visible={visible}\n      maskClosable={true}\n      onCancel={() => cancel()}\n      footer={null}\n      width={550}\n      className=\"password-modal\"\n    >\n      <Box pt={30} pb={35} justifyContent=\"center\">\n        <Box width={440} mx=\"auto\">\n          <Form {...formItemLayout} onSubmit={submit}>\n            <Form.Item label={intl.formatMessage({id: 'modal.transfer.label.coin'})}>\n              <Select style={{color: '#323232'}} defaultValue={symbolOptions[0]} value={symbol} onChange={value => {\n                setSymbol(value)\n                setTransferAmount(0)\n              }} size=\"large\">\n                { symbolOptions.map(symbol => (<Option value={symbol}>{symbol}</Option>)) }\n              </Select>\n            </Form.Item>\n            <Box mt={28}>\n              <Form.Item label={intl.formatMessage({id: 'type'})}>\n                <Select style={{color: '#323232'}} value={type} onChange={value => {\n                  setType(value)\n                  setTransferAmount(0)\n                }} size=\"large\">\n                  <Option value={'deposit'}>{intl.formatMessage({id: 'deposit'})}</Option>\n                  <Option value={'withdraw'}>{intl.formatMessage({id: 'withdraw'})}</Option>\n                </Select>\n              </Form.Item>\n            </Box>\n            <Box mt={28}>\n              <Form.Item label={intl.formatMessage({id: 'amount'})}>\n                <InputNumber style={{color: '#323232', width: '100%'}} min={0} value={transferAmount} onChange={value => setTransferAmount(value)} size=\"large\" />\n              </Form.Item>\n            </Box>\n            <Box>\n              <Form.Item {...buttonItemLayout}>\n                <Flex>\n                  <Text color=\"#969696\" fontSize={14}>{intl.formatMessage({id: 'modal.transfer.label.available'})} {available}</Text>\n                  <Text ml={42} fontSize={14} color=\"#1890ff\"\n                    sx={{ cursor: 'pointer' }}\n                    onClick={() => setTransferAmount(available)}\n                  >\n                    {intl.formatMessage({id: 'modal.transfer.all'})}\n                  </Text>\n                </Flex>\n              </Form.Item>\n            </Box>\n            {\n              renderIf(available - transferAmount < 0)(\n                <Box mt={10}>\n                  <Form.Item {...buttonItemLayout}>\n                    <Text mt={15} color=\"#F0505A\" lineHeight=\"14px\">{intl.formatMessage({id: 'modal.transfer.hint.notAvailable'})}</Text>\n                  </Form.Item>\n                </Box>\n              )\n            }\n            {/* {\n              renderIf(type === 'deposit')(\n                <>\n                  <Box mt={20}>\n                    <Form.Item label='矿工费'>\n                      <Input size=\"large\" disabled value={`${gasEth} ETH ≈$${utils.asLegalMoney(gasEth, 'ETH', 'USD')}`} />\n                    </Form.Item>\n                  </Box>\n                  {renderIf(gasEth >= walletEthAvail)(\n                    <Box mt={15}>\n                      <Form.Item {...buttonItemLayout}>\n                        <Text color=\"#F0505A\" lineHeight=\"14px\">{`矿工费不能超过钱包中的可用余额 ${walletEthAvail}ETH`}</Text>\n                      </Form.Item>\n                    </Box>\n                  )}\n                  <Box mt={28}>\n                    <Form.Item {...buttonItemLayout}>\n                      <Slider min={recommendedGasEth[0]} max={recommendedGasEth[2]} marks={{\n                          [recommendedGasEth[0]]: '慢',\n                          // [recommendedGasEth[1]]: '一般',\n                          [recommendedGasEth[2]]: '快',\n                        }}\n                        step={0.000001} value={gasEth} onChange={value => setGasEth(value)}\n                      />\n                    </Form.Item>\n                  </Box>\n                </>\n              )\n            } */}\n            {/* {\n              renderIf(type === 'withdraw')(\n                <Box mt={28}>\n                  <Form.Item label=\"手续费\">\n                    <Input style={{color: '#323232', width: '100%'}} disabled value={'0.002ETH'} size=\"large\" />\n                  </Form.Item>\n                  {\n                    renderIf(walletEthAvail < withdrawFee)(\n                      <Form.Item {...buttonItemLayout}>\n                        <Text mt={15} color=\"#F0505A\" lineHeight=\"14px\">{`手续费 ${withdrawFee}ETH， 钱包余额 ${walletEthAvail}ETH 不足`}</Text>\n                      </Form.Item>\n                    )\n                  }\n                  {\n                    renderIf(walletEthAvail >= withdrawFee)(\n                      <Form.Item {...buttonItemLayout}>\n                        <Text mt={15} color=\"#F0505A\" lineHeight=\"14px\">提现手续费主要用于支付GAS费用，该费用将从您的钱包余额ETH中支付。</Text>\n                      </Form.Item>\n                    )\n                  }\n                </Box>\n              )\n            } */}\n            <Box mt={20}>\n              <Form.Item {...buttonItemLayout}>\n                <Button size=\"large\" style={{width: '100%'}} type=\"primary\" htmlType=\"submit\">{intl.formatMessage({id: 'confirm'})}</Button>\n              </Form.Item>\n            </Box>\n            {\n              renderIf(type === 'deposit')(\n                <Box>\n                  <Text mt={30} color={\"#969696\"} fontSize={12} lineHeight=\"20px\">{intl.formatMessage({id: 'modal.transfer.deposit.minerFee.hint1'})}</Text>\n                  <Text mt={15} color=\"#969696\" fontSize={12} lineHeight=\"20px\">{intl.formatMessage({id: 'modal.transfer.deposit.minerFee.hint2'})}</Text>\n                  <Text mt={15} color=\"#969696\" fontSize={12} lineHeight=\"20px\">{intl.formatMessage({id: 'modal.transfer.deposit.minerFee.hint3'})}</Text>\n                </Box>\n              )\n            }\n            {\n              renderIf(type === 'withdraw')(\n                <Box>\n                  <Text mt={30} color={\"#969696\"} fontSize={12} lineHeight=\"20px\">{intl.formatMessage({id: 'modal.transfer.withdraw.minerFee.hint1'})}</Text>\n                  <Text mt={15} color=\"#969696\" fontSize={12} lineHeight=\"20px\">{intl.formatMessage({id: 'modal.transfer.withdraw.minerFee.hint2'})}</Text>\n                  <Text mt={15} color=\"#969696\" fontSize={12} lineHeight=\"20px\">{intl.formatMessage({id: 'modal.transfer.withdraw.minerFee.hint3'})}</Text>\n                  <Text mt={15} color=\"#969696\" fontSize={12} lineHeight=\"20px\">{intl.formatMessage({id: 'modal.transfer.withdraw.minerFee.hint4'})}</Text>\n                  <Text mt={15} color=\"#969696\" fontSize={12} lineHeight=\"20px\">{intl.formatMessage({id: 'modal.transfer.withdraw.minerFee.hint5'})}</Text>\n                </Box>\n              )\n            }\n          </Form>\n        </Box>\n      </Box>\n    </Modal>\n  )\n}\n\nconst mapStateToProps = ({ balance, walletBalance, rate, persistData }) => {\n  return {\n    balance,\n    walletBalance,\n    rate,\n    persistData\n  };\n};\n\nconst mapDispatchToProps = ({ balance, transfer, walletBalance }) => {\n  return {\n    fetchBalances: balance.fetchBalances,\n    fetchWalletBalances: walletBalance.fetchAllBalances,\n    transfer: (type, symbol, amount, gasEth) => {\n      let gasLimitInWEI = type === 'deposit' ? gasLimitDeposit : gasLimitWithdraw\n      let gasPriceInWEI = utils.toWEI('ETH', gasEth) / gasLimitInWEI\n      let gasPrice = common.formatter.toGWEI(gasPriceInWEI)\n      return utils.withLoading(() => transfer[type]({symbol, amount, gasPrice}))\n    }\n  };\n};\n\nlet connectedWidget = connect(mapStateToProps, mapDispatchToProps, null, {forwardRef: true})(Widget)\n\nexport default (props) => funcfy(connectedWidget, props)\n","import _ from 'lodash'\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom'\nimport PropTypes from 'prop-types'\nimport { Modal } from 'antd';\n\nclass InnerModal extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      visible: false,\n    }\n  }\n\n  componentDidMount () {\n    this.show()\n  }\n\n  componentWillUnmount() {\n  }\n  \n  async show () {\n    await this.setState({\n      visible: true\n    })\n  }\n\n  render () {\n    let {renderContent, onOk, onCancel, ...otherProps} = this.props\n    return (\n      <Modal\n        visible={this.state.visible}\n        onOk={async () => {\n          try {\n            await onOk()\n            this.setState({ visible: false })\n          } catch(e) {}\n        }}\n        onCancel={async () => {\n          await onCancel()\n          this.setState({ visible: false })\n        }}\n        {...otherProps}\n      >\n        {renderContent()}\n      </Modal>\n    )\n  }\n}\n\nInnerModal.propTypes = {\n  renderContent: PropTypes.func.isRequired,\n  otherProps: PropTypes.object\n}\n\nexport function funcfy (props) {\n  var div = document.createElement('div')\n  \n  function destroy () {\n    var unmountResult = ReactDOM.unmountComponentAtNode(div)\n    if (unmountResult && div.parentNode) {\n        div.parentNode.removeChild(div)\n    }\n  }\n\n  function render () {\n    ReactDOM.render(\n      <InnerModal {...props} onDestory={() => destroy()}></InnerModal>\n    , div)\n  }\n\n  render()\n}\n\nexport default function promisefy (props) {\n  return new Promise((resolve, reject) => {\n    funcfy({\n      ...props,\n      onOk: resolve,\n      onCancel: reject,\n    })\n  })\n}","import _ from 'lodash';\nimport React, { forwardRef, useEffect, useState, useImperativeHandle, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { useIntl, FormattedMessage } from 'react-intl';\nimport { SignInModal, UpsertPasswordModal } from '../Dialog'\nimport PromisefyConfirm from 'components/PromisefyConfirm'\nimport {\n  Box,\n  Flex,\n  Text\n} from 'rebass'\nimport utils from 'utils';\nimport { ENUM_ACCOUNT_STATUS } from 'utils/enum'\nimport { store } from 'store'\nvar detect = require('detect-browser').detect;\n\nconst Widget = forwardRef(({\n  disabled,\n  onSuccess = () => {},\n  children,\n  metaMask,\n  dexAccount,\n  signIn,\n  initAccountFromMetaMask\n}, ref) => {\n  const intl = useIntl()\n\n  const checkBrowser = () => {\n    const browser = detect()\n    // TODO 360\n    let valid = _.includes(['firefox', 'chrome', '360'], browser.name)\n    if (valid) return true\n\n    return PromisefyConfirm({\n      bodyStyle:{backgroundColor: '#363636', color: '#d0d0d0'},\n      renderContent: () => (\n        <Box px={20}>\n          <Text>{intl.formatMessage({id: \"modal.billPreCheck.browser.line1\"})}</Text>\n          <Text>{intl.formatMessage({id: \"modal.billPreCheck.browser.line2\"})}</Text>\n          <Text>{intl.formatMessage({id: \"modal.billPreCheck.browser.line3\"})}</Text>\n        </Box>\n      ),\n      maskClosable: true,\n      footer: null,\n      width: 800\n    })\n  }\n\n  const checkMetaMaskInstalled = () => {\n    let valid = metaMask.installed\n    if (valid) return true\n\n    return PromisefyConfirm({\n      // title: 'MetaMask',\n      renderContent: () => (\n        <Box px={20}>\n          <Text>{intl.formatMessage({id: \"modal.billPreCheck.metamask.line1\"})}</Text>\n          <Text>{intl.formatMessage({id: \"modal.billPreCheck.metamask.line2\"})}</Text>\n          <Text>{intl.formatMessage({id: \"modal.billPreCheck.metamask.line3\"})}</Text>\n        </Box>\n      ),\n      maskClosable: true,\n      footer: null,\n      width: 800\n    })\n  }\n\n  const checkNetwork = () => {\n    let { isDesiredNetwork } = metaMask\n\n    let invalidText = ''\n\n    if (!isDesiredNetwork) {\n      // invalidText = '您的MetaMask当前登录的是以太坊测试网，请切换到以太坊主网络。'\n      invalidText = intl.formatMessage({id: \"modal.billPreCheck.network\"})\n    }\n\n    if (!invalidText) return true\n\n    return PromisefyConfirm({\n      // title: 'MetaMask',\n      renderContent: () => (\n        <Box px={20}>\n          <Text>{invalidText}</Text>\n        </Box>\n      ),\n      maskClosable: true,\n      footer: null,\n      width: 800\n    })\n  }\n\n  const checkAddress = () => {\n    let rootState = store.getState()\n    let { address } = rootState.dexAccount\n\n    let invalidText = ''\n\n    if (!address) {\n      invalidText = intl.formatMessage({id: \"modal.billPreCheck.address\"})\n    }\n\n    if (!invalidText) return true\n\n    return PromisefyConfirm({\n      // title: 'MetaMask',\n      renderContent: () => (\n        <Box px={20}>\n          <Text>{invalidText}</Text>\n        </Box>\n      ),\n      maskClosable: true,\n      footer: null,\n      width: 800\n    })\n  }\n\n  const loadMetamask = async () => {\n    let { enable } = metaMask\n    // enable表示已经获取到了地址。如果此处为空，说明用户拒绝了授权。\n    // 注意此处不是用 dexAccount的address，而是用的metaMask 的 enable。因为前者可能是缓存的，后者才能代表是否metamask 是否已获取到了地址。。\n    if (!enable) {\n      await initAccountFromMetaMask()\n    }\n  }\n\n  const checkSignedIn = async () => {\n    // loadMetamask会获取地址，并获取账户的状态。而此次可能状态已经更新。\n    // 比如 account 在中继存在，需要登录，但此处dexAccount还没更新，所以要从dexAccount拿\n    let rootState = store.getState()\n    let { state } = rootState.dexAccount\n    let signined = utils.checkLogined()\n    if (signined) return true\n\n    if (state === ENUM_ACCOUNT_STATUS.UNCREATED.getValue()) {\n      try {\n        await UpsertPasswordModal({type: 'create'})\n        return true\n      } catch (e) {\n        return false\n      }\n    } else if (state === ENUM_ACCOUNT_STATUS.UNSIGNED.getValue()) {\n      try {\n        await SignInModal()\n        return true\n      } catch (e) {\n        return false\n      }\n    }\n  }\n\n  useImperativeHandle(ref, () => ({\n    checkBrowser,\n    checkSignedIn,\n    check\n  }))\n\n  const check = async () => {\n    // 是否装了 metamask\n    await checkBrowser()\n    // 是否登录 metamask\n    await checkMetaMaskInstalled()\n    // 如果 metamask 还未获取到地址，则通过 MetaMask 获取地址，并初始化。（获取 MetaMask 地址，需要用户授权）\n    await loadMetamask()\n    // 检查网络\n    await checkNetwork()\n    // metamask 中是否已获取到正确的地址\n    await checkAddress()\n    // 地址是否已授权，且跟中继保存的公钥匹配\n    await checkSignedIn()\n    return true\n  }\n\n  return (\n    <div onClick={async () => {\n      if (disabled) return\n\n      let isValid = await check()\n      if (isValid) {\n        onSuccess()\n      }\n    }}>\n      {children}\n    </div>\n  )\n})\n\n\nconst mapStateToProps = ({ metaMask, dexAccount }) => {\n  return {\n    metaMask,\n    dexAccount\n  };\n};\n\nconst mapDispatchToProps = ({ dexAccount, metaMask }) => {\n  return {\n    initAccountFromMetaMask: metaMask.initAccountFromMetaMask,\n    signIn: dexAccount.signIn\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, {forwardRef: true})(Widget)","import _ from 'lodash'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { useIntl, FormattedMessage } from 'react-intl';\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text,\n} from 'rebass'\nimport { Table, Input, Icon } from 'antd';\nimport utils from 'utils';\n\nconst Widget = ({errors, items}) => {\n  const intl = useIntl()\n\n  return (\n    <Box>\n      <Text fontSize={14} color=\"#969696\">\n        {intl.formatMessage({id: \"modal.errorInfo.label\"})}\n      </Text>\n      {\n        _.map(items, item => {\n          let error = !!_.includes(errors, item)\n          return (\n            <Flex key={item} alignItems=\"center\">\n              {\n                utils.renderIf(error)(\n                  <Icon style={{color: \"#F0505A\"}} type=\"close\" />\n                )\n              }\n              {\n                utils.renderIf(!error)(\n                  <Icon style={{color: \"#50BE8c\"}} type=\"check\" />\n                )\n              }\n              <Text lineHeight={'30px'} fontSize={14} line color=\"#969696\" ml={'6px'}>{item}</Text>\n            </Flex>\n          )\n        })\n      }\n    </Box>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget);","import React from 'react';\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Menu, Dropdown, Carousel } from 'antd';\nimport { BillPreCheck } from './Common'\nimport utils, { renderIf } from 'utils';\nimport metamaskLogo from 'metamask.png';\nimport wedexLogo from 'icons/wedexLogo.svg';\nimport { ENUM_ACCOUNT_STATUS } from 'utils/enum'\nimport { UpsertPasswordModal } from 'widgets/Dialog'\nimport api from 'api'\n\n@injectIntl\nclass TopNav extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activitis: [\n        { title: '关于WEDEX9月26日升级公告', link: 'http://www.baidu.com' },\n        { title: '10月交易大赛赢百万糖果', link: 'http://www.baidu.com' },\n        { title: '关于WEDEX9月26日升级公告', link: 'http://www.baidu.com' },\n      ],\n      notices: []\n    }\n  }\n\n  componentDidMount() {\n    this.fetchNotice()\n  }\n\n  async fetchNotice () {\n    let resp = await api.getNotice({\n      enable: true,\n      page: 1,\n      pageSize: 10\n    })\n    this.setState({ notices: resp.data.rows })\n  }\n\n  login() {\n    this.billPreCheck.check()\n  }\n\n  async changePassword () {\n    this.billPreCheck.checkSignedIn()\n    await UpsertPasswordModal()\n  }\n  \n  async clearStore () {\n    this.props.logout()\n  }\n\n  renderNav () {\n    const { persistData: { locale }, intl, updatePersistData } = this.props\n    const menus = {\n      mine: [\n        { title: intl.formatMessage({id: 'navBar.mine.balance'}), link: '/mine/balance' },\n        { title: intl.formatMessage({id: 'mine.nav.deposit'}), link: '/mine/deposit' },\n        { title: intl.formatMessage({id: 'mine.nav.withdraw'}), link: '/mine/withdraw' },\n        { title: intl.formatMessage({id: 'navBar.mine.order'}), link: '/mine/order' },\n        { title: intl.formatMessage({id: 'navBar.mine.apikey'}), link: '/mine/apikey' },\n        { title: intl.formatMessage({id: 'navBar.mine.award'}), link: '/mine/award' },\n        { title: intl.formatMessage({id: 'navBar.mine.resetPwd'}), callback: () => this.changePassword() },\n        { title: intl.formatMessage({id: 'navBar.mine.clean'}), callback: () => this.clearStore() },\n      ],\n      activity: [\n        { title: intl.formatMessage({id: 'navBar.help.notice'}), newWindow: true, link: 'https://wedex.live/support/announcement' },\n        { title: intl.formatMessage({id: 'navBar.help.tutorial'}), newWindow: true, link: 'https://wedex.live/support/guide' },\n        { title: intl.formatMessage({id: 'navBar.help.faq'}), newWindow: true, link: 'https://wedex.live/support/faq' },\n        // { title: '上币申请', newWindow: true, link: '' },\n        { title: intl.formatMessage({id: 'navBar.help.about'}), newWindow: true, link: 'https://wedex.live/support/about' },\n      ],\n      language: [\n        { title: '🇨🇳 简体中文', callback: () => updatePersistData({locale: 'cn'}) },\n        { title: '🇺🇸 English', callback: () => updatePersistData({locale: 'us'}) },\n        { title: '🇰🇷 한국어', callback: () => updatePersistData({locale: 'kr'}) },\n        { title: '🇷🇺 русский', callback: () => updatePersistData({locale: 'ru'}) },\n        { title: '🇯🇵 日本語', callback: () => updatePersistData({locale: 'jp'}) },\n      ]\n    }\n    const genMenu = subMenus => (\n      <Menu onClick={({key: index}) => {\n        let menu = subMenus[index]\n        if (menu.link) {\n          // newWindow\n          // TODO: \n          if (menu.newWindow) {\n            window.open(menu.link, '_blank')\n          } else {\n            this.props.history.push(`/${locale}${menu.link}`)\n          }\n        } else if (menu.callback) {\n          menu.callback()\n        }\n      }}>\n      {\n        subMenus.map((menu, index) => (\n          <Menu.Item key={index}>\n            <Text fontSize={[0, 0, 0]} color='hint'>{ menu.title }</Text>\n          </Menu.Item>\n        ))\n      }\n      </Menu>\n    )\n\n    let { address, state } = this.props.dexAccount\n    let { isDesiredBrowser, isDesiredNetwork } = this.props.metaMask\n    // enabled才代表metamask已经获取到了地址，adderss 有可能是缓存的。\n    let signined = utils.checkLogined()\n    let accountCreating = ENUM_ACCOUNT_STATUS.CREATING.equals(state)\n\n    return (\n      <Flex alignItems='center'>\n        {renderIf(isDesiredNetwork && signined && !accountCreating)(\n          <Dropdown overlay={genMenu(menus.mine)} placement=\"bottomCenter\" overlayClassName=\"nav-menu\">\n            <Flex px={25} height={40} alignItems='center'>\n              <Image src={metamaskLogo} width={[25, 25, 25]} height={[25, 25, 25]} />\n              <Box pl={3} fontSize={`13px`} fontWeight=\"bold\">{`${_.take(address, 6).join('')}...${_.takeRight(address, 4).join('')}`}</Box>\n            </Flex>\n          </Dropdown>\n        )}\n        {renderIf(!isDesiredBrowser || !isDesiredNetwork || !signined || accountCreating)(\n          <Flex px={25} height={40} alignItems='center' sx={{ cursor: 'pointer' }}\n            onClick={() => this.login()}\n          >\n            {/* <Box pl={3} fontSize={`13px`} fontWeight=\"bold\">{!isDesiredBrowser ? 'MetaMask登录' : !isDesiredNetwork ? '请选择主网' : accountCreating ? '创建中' : 'MetaMask登录'}</Box> */}\n            <Box pl={3} fontSize={`13px`} fontWeight=\"bold\">\n              <FormattedMessage id={accountCreating ? 'navBar.signIn.creating' : 'navBar.signIn.login'}/></Box>\n          </Flex>\n        )}\n        <Box height={40} lineHeight={'40px'} px={25} fontSize={`13px`} fontWeight=\"bold\" sx={{cursor: 'pointer'}}\n          onClick={() => window.open(`${window.location.origin}/${locale}/activities`, '_blank')}\n        >\n          <FormattedMessage id=\"navBar.activity\" />\n        </Box>\n        <Dropdown overlay={genMenu(menus.activity)} placement=\"bottomCenter\" overlayClassName=\"nav-menu\" sx={{cursor: 'pointer'}}>\n          <Box height={40} lineHeight={'40px'} px={25} fontSize={`13px`} fontWeight=\"bold\"><FormattedMessage id=\"navBar.help\"/></Box>\n        </Dropdown>\n        <Dropdown overlay={genMenu(menus.language)} placement=\"bottomCenter\" overlayClassName=\"nav-menu\" sx={{cursor: 'pointer'}}>\n          <Box height={40} lineHeight={'40px'} px={25} fontSize={`13px`} fontWeight=\"bold\"><FormattedMessage id=\"navBar.lang\"/></Box>\n        </Dropdown>\n        <BillPreCheck ref={ref => this.billPreCheck = ref}></BillPreCheck>\n      </Flex>\n    )\n  }\n\n  render() {\n    let { notices } = this.state\n    return (\n      <Box>\n        <Flex variant='topNav' px={15}>\n          <Flex width={120} alignItems='center' justifyContent='start' variant=\"clickable\" onClick={() => {\n            window.open(`http://www.wedex.live/`, '_blank')\n          }}>\n            <Image src={wedexLogo} width={150} />\n            {/* <Text color=\"white\" ml={2} fontSize={3}>WEDEX</Text> */}\n          </Flex>\n          <Box ml=\"50px\" width={350} height={40}>\n            {/* https://github.com/akiran/react-slick/issues/363 */}\n            {/* https://easings.net/# */}\n            <Carousel dots={false} draggable={false} autoplay={true} autoplaySpeed={8000} easing='cubic-bezier(0.68, -0.6, 0.32, 1.6)'>\n              {\n                _.map(notices, notice => {\n                  let { color, link, text } = notice\n                  return (\n                    <Box height=\"40px\" lineHeight=\"40px\" fontSize={13} fontWeight={700}\n                      color={`#${color}`}>\n                      <Text className=\"text-ellipsis\" sx={{\n                        cursor: link ? 'pointer' : '',\n                        width: \"fit-content\",\n                        maxWidth: 350\n                      }} onClick={() => {\n                        if (!link) return\n                        window.open(link, '_blank')\n                      }}>{text}</Text>\n                    </Box>\n                  )\n                })\n              }\n            </Carousel>\n          </Box>\n          <Flex alignItems='center' flex={1}>\n            {/* {\n              _.map(this.state.activitis, (activity, index) => (\n                <Text key={index} mr={40} fontSize={[0, 0, 0]} color='hint'>{ activity.title }</Text>\n              ))\n            } */}\n          </Flex>\n          { this.renderNav() }\n        </Flex>\n        <Box as='hr' variant='divider.topNav'\n          // sx={{\n          // }}\n        />\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ dexAccount, metaMask, persistData }) => {\n  return {\n    dexAccount,\n    metaMask,\n    persistData\n  };\n};\n\nconst mapDispatchToProps = ({ dexAccount, persistData }) => {\n  return {\n    logout: dexAccount.logout,\n    updatePersistData: persistData.update\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TopNav))","import _ from 'lodash'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport numeral from 'numeral'\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text,\n} from 'rebass'\nimport { Table, Button, Input, Icon, AutoComplete } from 'antd';\nimport utils from 'utils'\n\nconst { Option } = AutoComplete;\n\n@injectIntl\nclass Pair extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fuzzy: '',\n    }\n  }\n\n  componentDidMount() {\n  }\n  \n  renderOption(item) {\n    return (\n      <Option key={item.category} text={item.category}>\n        <div className=\"global-search-item\">\n          <span className=\"global-search-item-desc\">\n            Found {item.query} on\n            <a\n              href={`https://s.taobao.com/search?q=${item.query}`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              {item.category}\n            </a>\n          </span>\n          <span className=\"global-search-item-count\">{item.count} results</span>\n        </div>\n      </Option>\n    );\n  }\n\n  onChange(pagination, filters, sorter, extra) {\n    let { order = 'market', field = 'descend' } = sorter\n    this.props.updateFilterCond({\n      sort: order,\n      sortDirection: order === 'descend' ? 'desc' : 'asc'\n    })\n  }\n\n  render() {\n    let { persistData: { locale },  markets, setCurrentTab, setCurrentMarket, starMarket, intl } = this.props\n    let { fuzzy } = this.state\n    let pairs = _.chain(markets.currentMarkets)\n                  .filter(({market}) => _.includes(_.upperCase(market), _.upperCase(fuzzy)))\n                  .value()\n\n    const columns = [\n      {\n        align: 'left',\n        title: '',\n        key: 'star',\n        width: 20,\n        render: (unused, record) => {\n          let haveStar = _.find(markets.stars, {market: record.market})\n          return (<Icon type=\"star\" theme=\"filled\"  style={{ fontSize: '14px', color: haveStar ? \"#0064FF\": \"#3c3c50\" }} />)\n        },\n        onCell: (record, rowIndex) => {\n          return {\n            onClick: event => {\n              event.stopPropagation()\n              starMarket(record)\n            }\n          }\n        }\n      },\n      {\n        align: 'left',\n        title: intl.formatMessage({id: 'exchangePair'}),\n        dataIndex: 'baseToken',\n        width: 100,\n        sorter: (a, b) => a.baseToken > b.baseToken,\n        render: (unused, record) => (<Flex>{record.baseToken}<Text color=\"hint\">/{record.quoteToken}</Text></Flex>),\n      },\n      {\n        align: 'left',\n        title: intl.formatMessage({id: 'pair.list.header.latest'}),\n        dataIndex: 'close',\n        width: 160,\n        sorter: (a, b) => a.close - b.close,\n        render: (close, record) => (\n          <Flex>\n            {close}\n            <Text ml={2} color=\"hint\">${utils.asLegalMoney(Number(record.close), record.quoteToken, 'USD')}</Text>\n          </Flex>\n        ),\n      },\n      {\n        align: 'right',\n        title: intl.formatMessage({id: 'pair.list.header.variation'}),\n        dataIndex: 'variation',\n        sorter: (a, b) => a.variation - b.variation,\n        render: (variation) => (<Text color={variation >= 0 ? 'success' : 'failure'}>{numeral(variation).format('+0.00%')}</Text>),\n      },\n      {\n        align: 'right',\n        title: intl.formatMessage({id: 'pair.list.header.size'}),\n        dataIndex: 'volume24h',\n        sorter: (a, b) => a.volume24h - b.volume24h,\n        render: (volume24h) => (<Text>{volume24h}</Text>),\n      },\n    ];\n\n    return (\n      <Box {...this.props} variant='noScrollbar' bg=\"backgroundTint\" overflowY='auto'>\n        <Flex alignItems='center' justifyContent='space-between' bg=\"background\">\n          <Flex alignItems='center' justifyContent='flex-start'>\n            {\n              markets.tabs.map(tab => (\n                <Flex key={tab} width={78} height={40} alignItems='center' justifyContent='center' sx={{\n                  color: 'white',\n                  // borderBottom: '2px solid',\n                  // borderColor: tab === markets.currentTab ? 'blue': 'background',\n                  bg: tab === markets.currentTab ? 'backgroundTint': 'background',\n                  cursor: 'pointer'\n                }} onClick={() => setCurrentTab(tab)}>\n                  <Text fontSize={0} fontWeight={'bold'}>\n                    <FormattedMessage id={tab}></FormattedMessage>\n                  </Text>\n                </Flex>\n              ))\n            }\n          </Flex>\n          <Box px={14} width={160}>\n            {/* <AutoComplete\n              className=\"pairs-search\"\n              dataSource={pairs}\n              onSelect={pair => {\n                let [base, quote] = pair.split('-')\n                setCurrentTab(quote)\n                let currentMarket = _.find(markets.markets, {market: pair})\n                setCurrentMarket(currentMarket)\n              }}\n              onSearch={value => this.setState({ fuzzy: value })}\n              optionLabelProp=\"text\"\n            >\n              <Input.Search\n                className=\"pairs-search\"\n                placeholder=\"搜索\"\n                onSearch={value => this.setState({ fuzzy: value })}\n                style={{ height: 36, color: 'white' }}\n              />\n            </AutoComplete> */}\n            <Input.Search\n              className={`pairs-search ${fuzzy && 'has-content'}`}\n              placeholder={intl.formatMessage({id: 'search'})}\n              style={{ height: 36, color: 'white' }}\n              allowClear={true}\n              onChange={e => this.setState({ fuzzy: e.currentTarget.value })}\n            />\n          </Box>\n        </Flex>\n        <Box px={14}>\n          <Table rowKey=\"market\" columns={columns} dataSource={pairs} align=\"right\"\n            className=\"exchange-table\"\n            pagination={false}\n            onRow={(record, rowIndex) => {\n              return {\n                onClick: event => {\n                  setCurrentMarket(record)\n                  // 设置交易对时，同时更新地址栏\n                  this.props.history.push(`/${locale}/trade/${record.market}`)\n                  this.props.onSelected()\n                }\n              }\n            }}\n            // locale={{emptyText: intl.formatMessage({id: 'noData'})}}\n            onChange={(...params) => this.onChange(...params)}\n          />\n        </Box>\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({markets, persistData}) => {\n  return { markets, persistData };\n};\n\nconst mapDispatchToProps = ({markets}) => {\n  return {\n    setCurrentTab: markets.setCurrentTab,\n    setCurrentMarket: markets.setCurrentMarket,\n    starMarket: markets.starMarket,\n    updateFilterCond: markets.updateFilterCond\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Pair));","import _ from 'lodash'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport numeral from 'numeral'\nimport moment from 'moment'\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text,\n} from 'rebass'\nimport { ENUM_LANGUAGE_TYPE } from 'utils/enum'\nimport { renderIf } from 'utils';\n\n@injectIntl\nclass TokenInfo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  render() {\n    let { tokenInfo, persistData: { locale } } = this.props\n    if (!tokenInfo.id) return <></>\n\n    let lang = ENUM_LANGUAGE_TYPE[locale].getValue()\n    let { name, fullname, marketValue, publishDate, rank, publishAmount, homepage, flowAmount, whitePaper, publishPrice, desc, leverToken = {} } = tokenInfo\n    let descInLocale = desc && desc[lang] || ''\n    let { name: leverTokenName, baseName: underlying, quoteName: currency, lever, purchased, currWorth, lastWorth, lastSwapTime } = leverToken\n\n    return (\n      <Box {...this.props} px={30} pt={30} color=\"white\" variant='noScrollbar' bg=\"backgroundTint\" overflowY='auto'>\n        <Flex fontSize={16}>\n          <Text>{name}</Text>\n          <Text color=\"#78788C\">（{fullname}）</Text>\n        </Flex>\n        {\n          renderIf(!currWorth)(\n            <Flex fontSize={12} justifyContent=\"space-between\">\n              <Flex pr={40} flexDirection=\"column\">\n                <Flex pt={20}>\n                  <Text width={65} color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.marketValue\" /></Text>\n                  <Text>${numeral(marketValue).format('0,0')}</Text>\n                </Flex>\n                <Flex pt={20}>\n                  <Text width={65} color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.rank\" /></Text>\n                  <Text>{rank}</Text>\n                </Flex>\n                <Flex pt={20}>\n                  <Text width={65} color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.homepage\" /></Text>\n                  <Text color=\"#0064FF\" sx={{cursor: 'pointer'}} onClick={() => window.open(homepage, '_blank')}>{homepage}</Text>\n                </Flex>\n                <Flex pt={20}>\n                  <Text width={65} color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.whitePaper\" /></Text>\n                  <Text color=\"#0064FF\" sx={{cursor: 'pointer'}} onClick={() => window.open(whitePaper, '_blank')}>{whitePaper}</Text>\n                </Flex>\n              </Flex>\n              <Flex flexDirection=\"column\">\n                <Flex pt={20}>\n                  <Text width={105} color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.publishDate\" /></Text>\n                  <Text>{moment(publishDate).format('YYYY-MM-DD')}</Text>\n                </Flex>\n                <Flex pt={20}>\n                  <Text width={105} color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.publishAmount\" /></Text>\n                  <Text>{numeral(publishAmount).format('0,0')}</Text>\n                </Flex>\n                <Flex pt={20}>\n                  <Text width={105} color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.flowAmount\" /></Text>\n                  <Text>{numeral(flowAmount).format('0,0')}</Text>\n                </Flex>\n                <Flex pt={20}>\n                  <Text width={105} color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.publishPrice\" /></Text>\n                  <Text>{numeral(publishPrice).format('0,0')}</Text>\n                </Flex>\n              </Flex>\n            </Flex>\n          )\n        }\n        {\n          renderIf(currWorth)(\n            <Flex fontSize={12} justifyContent=\"space-between\">\n              <Flex pr={40} flexDirection=\"column\">\n                <Flex pt={20}>\n                  <Text width={65} color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.lever.underlying\" /></Text>\n                  <Text>{underlying}</Text>\n                </Flex>\n                <Flex pt={20}>\n                  <Text width={65} color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.lever.leverage\" /></Text>\n                  <Text>{Math.abs(lever)}</Text>\n                </Flex>\n                <Flex pt={20}>\n                  <Text width={65} color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.lever.purchased\" /></Text>\n                  <Text>{numeral(purchased).format('0,0')} {leverTokenName}</Text>\n                </Flex>\n                <Flex pt={20}>\n                  <Text width={65} color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.lever.currency\" /></Text>\n                  <Text>{currency}</Text>\n                </Flex>\n              </Flex>\n              <Flex flexDirection=\"column\">\n                <Flex pt={20}>\n                  <Text width={105} color=\"#78788C\">{underlying}<FormattedMessage id=\"tokenInfo.label.lever.underlyTrend\" /></Text>\n                  <Text color=\"#0064FF\" sx={{cursor: 'pointer'}} onClick={() => window.open('http://bee.network', '_blank')}>http://bee.network</Text>\n                </Flex>\n                <Flex pt={20}>\n                  <Text width={105} color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.lever.currWorth\" /></Text>\n                  <Text>{numeral(currWorth).format('0,0.[00]')} {currency}</Text>\n                </Flex>\n                <Flex pt={20}>\n                  <Text width={105} color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.lever.lastSwapTime\" /></Text>\n                  <Text>{moment(lastSwapTime).format('YYYY-MM-DD HH:mm:ss')}</Text>\n                </Flex>\n                <Flex pt={20}>\n                  <Text width={105} color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.lever.lastWorth\" /></Text>\n                  <Text>{numeral(lastWorth).format('0,0.[00]')} {currency}</Text>\n                </Flex>\n              </Flex>\n            </Flex>\n          )\n        }\n        <Flex alignItems='center' justifyContent='space-between' bg=\"background\">\n        </Flex>\n        <Flex pt={20} fontSize={12} maxWidth={550} flexDirection=\"column\">\n          <Text flexBasis=\"10%\" color=\"#78788C\"><FormattedMessage id=\"tokenInfo.label.desc\" /></Text>\n          <Text my={20} height={100} lineHeight={'25px'} overflowY='auto' variant='noScrollbar'>{descInLocale}</Text>\n        </Flex>\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({persistData}) => {\n  return { persistData }\n};\n\nconst mapDispatchToProps = ({markets}) => {\n  return {\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TokenInfo));","import _ from 'lodash'\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { Pagination } from 'antd';\nimport styles from './index.less';\n\nclass QhPagination extends Component {\n  constructor (props) {\n    super(props)\n    \n    this.state = {\n      pageSize: props.initPageSize,\n      page: 1,\n      total: 0\n    }\n  }\n\n  async componentDidMount () {\n    if (this.props.autoload) {\n      this.fetchDataByPage()\n    }\n  }\n\n  componentWillUnmount() {\n  }\n  \n  async reset () {\n    await this.setState({\n      page: 1,\n      total: 0\n    })\n    return this.fetchDataByPage()\n  }\n\n  fetchDataByPage () {\n    let pageParams = {\n      page: this.state.page,\n      pageSize: this.state.pageSize\n    }\n    return this.props.fetchData(pageParams).then(body => {\n      this.setState({\n        total: body.count\n      })\n      this.props.onFetched(body.rows)\n    }).catch(error => { console.info(error.message) })\n  }\n\n  handleSizeChange = async function (size) {\n    await this.setState({pageSize: size})\n    this.fetchDataByPage()\n  }.bind(this)\n\n  handleCurrentChange = async function (currentPage) {\n    await this.setState({page: currentPage})\n    this.fetchDataByPage()\n  }.bind(this)\n\n  render () {\n    return (\n      <Pagination\n        className=\"qhPagination\"\n        current={this.state.page}\n        pageSize={this.state.pageSize}\n        total={this.state.total}\n        onChange={this.handleCurrentChange}\n        onShowSizeChange={this.handleSizeChange}\n        pageSizeOptions={['30', '50', '100', '200']}\n        showQuickJumper\n      />\n    )\n  }\n}\n\nQhPagination.defaultProps = {\n  initPageSize: 30,\n  autoload: true\n};\n  \nQhPagination.propTypes = {\n  initPageSize: PropTypes.number,\n  fetchData: PropTypes.func,\n  onFetched: PropTypes.func,\n  autoload: PropTypes.bool,\n};\n\nexport default QhPagination;\n","\nimport React from 'react'\n\nexport default ({\n  color,\n  icon,\n  width,\n  height,\n  size,\n  ...props\n}) => (\n  <svg className=\"icon\" aria-hidden=\"true\" style={{\n    width: width || size,\n    height: height || size,\n  }} {...props}>\n    <use xlinkHref={`#${icon}`} style={{ color }}></use>\n  </svg>\n)","\nimport React from 'react'\nimport { Spin, Icon } from 'antd';\n\nexport default ({\n  fontSize = 30,\n  color = 'white',\n  ...props\n}) => {\n  const antIcon = <Icon type=\"loading\" style={{ fontSize, color }} spin />;\n  return (\n    <Spin indicator={antIcon} {...props} wrapperClassName=\"global-spin\" />\n  )\n}","import moment from 'moment';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Table, Icon } from 'antd';\nimport { Spin } from 'components';\n\n@injectIntl\nclass Trade extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    }\n  }\n\n  componentDidMount() {\n  }\n  \n  componentWillUnmount() {\n  }\n\n  render() {\n    let { trade, markets, intl, height } = this.props\n    let tableHeight = height - 40 - 30\n\n\n    let currentMarket = markets.currentMarket\n    if (!currentMarket) return <></>\n\n    const columns = [\n      {\n        align: 'left',\n        title: `${intl.formatMessage({id: 'price'})}(${currentMarket.quoteToken})`,\n        dataIndex: 'price',\n        width: 82,\n        render: (price, row) => (\n          <Text color={row.side === 'BUY' ? \"success\" : \"failure\"}>{row.price}</Text>\n        )\n      },\n      {\n        align: 'right',\n        title: `${intl.formatMessage({id: 'size'})}(${currentMarket.baseToken})`,\n        dataIndex: 'size',\n        width: 90,\n      },\n      {\n        align: 'right',\n        title: `${intl.formatMessage({id: 'timestamp'})}`,\n        dataIndex: 'timestamp',\n        render: (unused, record) => {\n          return (<Text>{moment(record.timestamp).format('HH:mm:ss')}</Text>)\n        }\n      },\n    ];\n\n    return (\n      <Box {...this.props} className=\"trade-panel\">\n        <Flex height={40} alignItems=\"center\" justifyContent=\"space-between\">\n          <Text fontSize={0} fontWeight=\"bold\"><FormattedMessage id=\"trade.title\"/></Text>\n          {/* <Text fontSize={0} color='hint'>更多</Text> */}\n        </Flex>\n        <Spin spinning={trade.loading}>\n          <Table columns={columns} dataSource={trade.list} align=\"right\"\n            rowKey=\"index\"\n            style={{ height: tableHeight }}\n            scroll={{ y: tableHeight }}\n            className=\"exchange-table\"\n            pagination={false}\n            // locale={{emptyText: intl.formatMessage({id: 'noData'})}}\n          />\n        </Spin>\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ trade, markets }) => {\n  return {\n    trade,\n    markets\n  };\n};\n\nconst mapDispatchToProps = ({ trade }) => {\n  return {\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Trade);","import moment from 'moment';\nimport api from 'api';\nimport { ENUM_INTERVAL_TYPE } from 'utils/enum'\nimport { dispatch, store } from 'store'\nimport utils from 'utils'\nimport appConfig from 'config/appConfig'\n\nlet { maxCandlestickPerRequest } = appConfig.relay\n// resolution 相关文档参考 https://zlq4863947.gitbook.io/tradingview/fu-lu/resolution\nlet supportedResolutions = ENUM_INTERVAL_TYPE.getOptions().map(option => option.value)\n// 改变分辨率的回调。\n// setInterval(async () => {\n//   // 每 10s 拉取过去一分钟的蜡烛\n//   for (let key in _subscribers) {\n//     let sub = _subscribers[key]\n//     let { symbolInfo, listener } = sub\n//     let market = symbolInfo['name'];\n\n//     // var candles = await getCandlestick(market, '1min', 1);\n//     var candles = await getCandlestick(market, '1min');\n//     if (candles.length === 0) return\n\n//     console.info('_subscribers', {candles})\n//     candles.reverse();\n\n//     let startTimestamp;\n//     let endTimestamp;\n//     let quoteToken;\n\n//     var newCandles = {};\n//     for (var i = 0; i < candles.length; i = i + 1) {\n//       const candle = candles[i];\n//       const tokens = market.split('-');\n//       quoteToken = tokens[1];\n\n//       if (startTimestamp === undefined) {\n//         startTimestamp = candle['start'];\n//       } else {\n//         endTimestamp = candle['start'];\n//       }\n\n//       const start = candle['start'];\n\n//       let parsedCandle = {\n//         time: start,\n//         low: Number(candle['low']),\n//         high: Number(candle['high']),\n//         open: Number(candle['open']),\n//         close: Number(candle['close']),\n//         volume: lightcone_v3_config.fromWEI(quoteToken, candle['volume'], 8)\n//       };\n//       newCandles[start] = parsedCandle;\n//     }\n\n//     var newMoreCandles = [];\n//     var lastCandle = newCandles[startTimestamp];\n//     for (var i = startTimestamp; i <= endTimestamp; i = i + 60 * 1000) {\n//       if (newCandles[i] === undefined) {\n//         lastCandle['time'] = i;\n//         newMoreCandles.push(Object.assign({}, lastCandle));\n//       } else {\n//         const candle = newCandles[i];\n//         newMoreCandles.push(candle);\n//         lastCandle = {\n//           time: candle['start'],\n//           low: Number(candle['close']),\n//           high: Number(candle['close']),\n//           open: Number(candle['close']),\n//           close: Number(candle['close']),\n//           volume: 0\n//         };\n//       }\n//     }\n\n//     console.info('#########latastCandel', newMoreCandles[newMoreCandles.length - 1])\n//     listener(newMoreCandles[newMoreCandles.length - 1]);\n//   }\n// }, 10 * 1000)\n\nexport default {\n  onReady: cb => {\n    console.log('=====onReady running: ');\n    console.info(supportedResolutions)\n    setTimeout(() => cb({\n      supported_resolutions: supportedResolutions\n    }), 0);\n  },\n  searchSymbols: (userInput, exchange, symbolType, onResultReadyCallback) => {\n    console.log('====Search Symbols running');\n  },\n  resolveSymbol: (\n    symbolName,\n    onSymbolResolvedCallback,\n    onResolveErrorCallback\n  ) => {\n    // expects a symbolInfo object in response\n    console.log('解析 Symbol', symbolName);\n    // console.log('resolveSymbol:',{symbolName})\n    let quoteSymbol = symbolName.split('-')[1]\n    let quoteToken = store.select.tokens.getTokenBySymbol(store.getState(), quoteSymbol)\n\n    var symbol_stub = {\n      name: symbolName,\n      description: '',\n      type: 'crypto',\n      session: '24x7',\n      timezone: 'Asia/Shanghai',\n      exchange: '',\n      minmov: 1,\n      pricescale: Math.pow(10, quoteToken.precision),\n      // 如果has_intraday为true，则日内周期可用。\n      has_intraday: true,\n      // 重要: 如果 has_intraday 为 true，则 intraday_multipliers 必须设置，否则“可选分辨率”为空。只能最新'1D'，连“默认分辨率”都自动变为'1D'。\n      intraday_multipliers: supportedResolutions.filter(interval => utils.formatResolution(interval) < 24 * 60),\n      supported_resolution: supportedResolutions,\n      volume_precision: quoteToken.precision,\n      data_status: 'streaming',\n      has_intraday: true,\n      has_seconds: true,\n      has_daily: true,\n      has_weekly_and_monthly: true,\n      // 重要: 是否自动填充无交易的 bar。不能填充，否则 MV 变形。\n      // has_empty_bars: true\n    };\n\n    /*\n    var split_data = symbolName.split(/[:/]/);\n\t\tif (split_data[2].match(/USD|EUR|JPY|AUD|GBP|KRW|CNY/)) {\n\t\t\tsymbol_stub.pricescale = 100\n    }\n    */\n    setTimeout(function() {\n      onSymbolResolvedCallback(symbol_stub);\n      console.log('Resolving that symbol....', symbol_stub);\n    }, 0);\n\n    // onResolveErrorCallback('Not feeling it today')\n  },\n  getBars: function(\n    symbolInfo,\n    resolution,\n    from,\n    to,\n    onHistoryCallback,\n    onErrorCallback,\n    firstDataRequest\n  ) {\n    console.log(\n      `获取K线 ${new Date(from * 1000).toLocaleString()} --- ${new Date(to * 1000).toLocaleString()} --- resolution: ${resolution}`\n    );\n\n    let market = symbolInfo['name'];\n\n    (async () => {\n      var candles = await api.getCandlestickCombine({\n        limit: maxCandlestickPerRequest,\n        market,\n        interval: ENUM_INTERVAL_TYPE.toText(resolution),\n        start: from * 1000,\n        end: to * 1000,\n      })\n      candles.reverse()\n      console.log('candles解析前:', candles);\n\n      if (!candles || candles.length === 0) {\n        onHistoryCallback([], { noData: true });\n        return\n      }\n\n      let quoteSymbol = market.split('-')[1]\n\n      let startTimestamp = candles[0].start\n      let endTimestamp = _.last(candles).start\n\n      console.info('tradingview start ---> ' + moment(from * 1000).format('YYYY-MM-DD HH:mm:ss'))\n      console.info('tradingview end   ---> ' + moment(to * 1000).format('YYYY-MM-DD HH:mm:ss'))\n      console.info('relay start       ---> ' + moment(startTimestamp).format('YYYY-MM-DD HH:mm:ss'))\n      console.info('relay end         ---> ' + moment(endTimestamp).format('YYYY-MM-DD HH:mm:ss'))\n\n      // // 重要：这里不能自己填充，否则 MA 的线会宽度变形。应该通过 has_empty_bars 让 tradingview 自己填充。\n      // // 补充: has_empty_bars 也不行，自动填充上，MA 也会变形。\n      // let parsedCandles = _.chain(candles)\n      //   // 重要: 这里必须过滤。因为中继有问题，实际返回的范围可能大于请求的范围。\n      //   // 比如请求8~10点，可能获取到8~10:09，那么 10~10:09的上一次已经有了，就会重合。\n      //   // 导致tradingview 增量更新冲突，刷新并重头开始获取。重新获取后冲突，再次重新获取。\n      //   // 中继之所以出现此问题，是因为中继的页数是从前往后的。而且 limit 没用，就取多了。\n      //   .filter(candle => candle.start >= from * 1000 && candle.start <= to * 1000)\n      //   .map(candle => {\n      //     return {\n      //       time: candle.start,\n      //       high: Number(candle['high']),\n      //       low: Number(candle['low']),\n      //       open: Number(candle['open']),\n      //       close: Number(candle['close']),\n      //       volume: lightcone_v3_config.fromWEI(quoteToken.symbol, candle['volume'], quoteToken.precision)\n      //     }\n      //   })\n      //   .value()\n\n      // range是前闭后开。所以想包含endTimestamp，需要+1.\n      let period = utils.formatResolution(resolution) * 60 * 1000\n      // 需要取整，否则会出现：若 1hr 的 k 线，批量塞给 tradingview 的最后一个是 8：36，但是中继推送的是 8：00（因为定制的一小时 k线，肯定是推整点的），会被一直丢弃知道下一个小时。\n      let formatedFrom = Math.floor((from) * 1000 / period) * period\n      let formatedTo = Math.ceil((to) * 1000 / period) * period\n      let timestaps = _.range(formatedFrom, formatedTo, period)\n      // 重要：MA 和 volume 变形，跟此处数据没关系。当有大片无数据横盘时，缓慢左移（横盘即将到头马上要重绘加载数据时，一定要慢），就没问题。\n      // 如果快速左移，或者直接缩放，就会变形。\n      // 即使出现问题，切换分辨率可恢复。\n      let parsedCandles = _.map(timestaps, ts => {\n        // 由于取整了，所以此处实际上可以直接用等号判断了，但是此处为了保险，仍然用如下范围判断的方式。\n        let candle = _.find(candles, c => c.start >= ts && c.start < ts + period)\n\n        if (!candle) {\n          let price = 0\n          // 先往前找最后一个\n          let LeftCandle = _.findLast(candles, c => c.start <= ts)\n          let rightCandle\n          // 如果找不到，往后找第一个。\n          // 不可能前后都找不到，因为数组不可能为空。真找不到，那 price 就是 0\n          if (LeftCandle) {\n            // 前面能找到柱子，则当天所有价格为这天收盘价\n            price = LeftCandle.close\n          } else {\n            rightCandle = _.find(candles, c => c.start >= ts)\n            if (rightCandle) {\n              // 后面能找到柱子，则当天所有价格为这天开盘价\n              price = rightCandle.open\n            }\n          }\n\n          candle = {\n            high: price,\n            low: price,\n            open: price,\n            close: price,\n            volume: 0,\n          }\n        }\n        return {\n          time: Number(ts),\n          high: Number(candle['high']),\n          low: Number(candle['low']),\n          open: Number(candle['open']),\n          close: Number(candle['close']),\n          volume: Number(utils.fromWEI(quoteSymbol, candle['volume']))\n        }\n      })\n      console.info('parsed start       ---> ' + moment(parsedCandles[0].time).format('YYYY-MM-DD HH:mm:ss'))\n      console.info('parsed end         ---> ' + moment(parsedCandles[parsedCandles.length-1].time).format('YYYY-MM-DD HH:mm:ss'))\n       \n      console.log('candles解析后:', parsedCandles);\n      // if (firstDataRequest) {\n      //   var lastBar = bars[bars.length - 1]\n      //   history[symbolInfo.name] = {lastBar: lastBar}\n      // }\n      if (parsedCandles.length) {\n        onHistoryCallback(parsedCandles, { noData: false });\n      } else {\n        onHistoryCallback(parsedCandles, { noData: true });\n      }\n    })();\n  },\n  subscribeBars: (\n    symbolInfo,\n    resolution,\n    onRealtimeCallback,\n    subscribeUID,\n    onResetCacheNeededCallback\n  ) => {\n    console.log('订阅k线socket', {subscribeUID, onRealtimeCallback, resolution, symbolInfo});\n    dispatch.candleStick.subscribeBars({subscribeUID, onRealtimeCallback, resolution, symbolInfo})\n  },\n  unsubscribeBars: subscriberUID => {\n    console.log('去除订阅k线socket');\n    dispatch.candleStick.unsubscribeBars(subscriberUID)\n  },\n  calculateHistoryDepth: (resolution, resolutionBack, intervalBack) => {\n    // https://github.com/tradingview/charting_library/wiki/JS-Api#calculatehistorydepthresolution-resolutionback-intervalback\n    //optional\n    // console.log(\n    //   '=====calculateHistoryDepth running: ',\n    //   resolution,\n    //   resolutionBack,\n    //   intervalBack\n    // );\n    // // while optional, this makes sure we request 24 hours of minute data at a time\n    // // CryptoCompare's minute data endpoint will throw an error if we request data beyond 7 days in the past, and return no data\n    // return resolution < 60\n    //   ? { resolutionBack: 'D', intervalBack: '14' }\n    //   : undefined;\n\n    // 重要: 更改获取的时间范围。maxCandlestickPerRequest 条在此处定制。\n    resolution = utils.formatResolution(resolution)\n    console.log('#### calculateHistoryDepth ####', _.floor(resolution * maxCandlestickPerRequest / 60 / 24, 2))\n    return {\n      resolutionBack: 'D',\n      intervalBack: _.floor(resolution * maxCandlestickPerRequest / 60 / 24, 2)\n    }\n  },\n  // getMarks: (symbolInfo, startDate, endDate, onDataCallback, resolution) => {\n  //   //optional\n  //   console.log('=====getMarks running');\n  // },\n  // getTimeScaleMarks: (\n  //   symbolInfo,\n  //   startDate,\n  //   endDate,\n  //   onDataCallback,\n  //   resolution\n  // ) => {\n  //   //optional\n  //   console.log('=====getTimeScaleMarks running');\n  // },\n  // getServerTime: cb => {\n  //   console.log('=====getServerTime running: ', cb);\n  // }\n};\n","import _ from 'lodash';\nimport * as React from 'react';\nimport './index.less';\nimport { widget } from 'charting_library/charting_library.min';\nimport { ENUM_INTERVAL_TYPE } from 'utils/enum'\nimport utils from 'utils'\nimport Datafeed from './api/';\nimport {\n  Flex,\n  Box,\n  Text\n} from 'rebass'\n\nconst TV_CANDLE_SERIES = 1;\nconst TV_LINE_SERIES = 2;\nconst TV_CONTAINER_ID = 'tv_chart_container_9527';\n\nfunction getLanguageFromURL() {\n  const regex = new RegExp('[\\\\?&]lang=([^&#]*)');\n  const results = regex.exec(window.location.search);\n  return results === null\n    ? null\n    : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n}\n\n// Tutorial: https://medium.com/@jonchurch/tradingview-charting-library-js-api-setup-for-crypto-part-1-57e37f5b3d5a\nexport class TVChartContainer extends React.Component {\n  static defaultProps = {\n    locale: 'zh',\n    // 注意：tradingview 本身也有个配置叫 fullScreen\n    fullScreen: false,\n    type: 'Candle',\n    // 重要: 默认的分辨率\n    interval: ENUM_INTERVAL_TYPE.HOUR_1.getValue(),\n    // interval: ENUM_INTERVAL_TYPE.MIN_1.getValue(),\n    showIndicatorsDialog: false,\n    showSettingDialog: false,\n    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n    containerId: TV_CONTAINER_ID,\n    datafeedUrl: 'https://demo_feed.tradingview.com',\n    libraryPath: '/charting_library/',\n    chartsStorageUrl: 'https://saveload.tradingview.com',\n    chartsStorageApiVersion: '1.1',\n    clientId: 'tradingview.com',\n    userId: 'public_user_id',\n    autosize: true,\n    studiesOverrides: {}\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n    }\n    this.tvWidget = null;\n  }\n  \n  componentDidUpdate({\n    locale: prevLocale,\n    symbol: prevSymbol,\n    lineType: prevLineType,\n    theme: prevTheme,\n    interval: prevInterval,\n    showIndicatorsDialog: prevShowIndicatorsDialog,\n    showSettingDialog: prevShowSettingDialog\n  }) {\n    const {\n      locale,\n      symbol,\n      interval,\n      lineType,\n      theme,\n      visible,\n      showIndicatorsDialog,\n      showSettingDialog,\n    } = this.props;\n    this.lineType = lineType;\n    if (!window.TradingView) return\n    if (!this.tvWidget) return\n\n    // resolution changed?\n    if (interval !== prevInterval && this.tvWidget.activeChart().resolution() !== interval) {\n      this.setState({ loading: true });\n      console.info(`&&&&&&&&&&&&&&&&# setResolution ${String(interval)}`)\n      this.tvWidget.activeChart().setResolution(String(interval));\n      // locale, symbol or theme changed?\n    } else if (locale !== prevLocale || symbol !== prevSymbol || theme !== prevTheme) {\n      // language changed?\n      // symbol changed?\n      // or theme changed?\n      // trigger a re-init of tradingview.\n      try {\n        this.tvWidget && this.tvWidget.remove();\n      } catch (err) {\n      }\n      this.tvWidget = null;\n    }\n\n    // line type activated?\n    if (lineType !== prevLineType) {\n      this.setState({ loading: true });\n      this.lineType = lineType;\n      if (lineType === 'Line') {\n        // line\n        if (prevLineType !== 'Line') {\n          // switch to Candle form Line\n          this.loadStudies(lineType, symbol, interval);\n        }\n        this.tvWidget.applyOverrides({ 'mainSeriesProperties.style': TV_LINE_SERIES });\n      } else {\n        // candles\n        if (prevLineType === 'Line') {\n          // switch to Line form Candle\n          this.loadStudies(lineType, symbol, interval);\n        }\n        this.tvWidget.applyOverrides({ 'mainSeriesProperties.style': TV_CANDLE_SERIES });\n      }\n    }\n\n    if (showSettingDialog !== prevShowSettingDialog) {\n      this._showSettingDialog(showSettingDialog);\n    }\n    if (showIndicatorsDialog !== prevShowIndicatorsDialog) {\n      this._showIndicatorsDialog();\n    }\n\n    // init tradingview?\n    if (visible) this.init();\n  }\n\n  componentDidMount() {\n    this.init()\n  }\n\n  componentWillUnmount() {\n    if (this.tvWidget !== null) {\n      this.tvWidget.remove();\n      this.tvWidget = null;\n    }\n  }\n\n  // componentWillReceiveProps(newProps) {\n  //   if (\n  //     this.props.market !== newProps.market\n  //   ) {\n  //     if (!this.tvWidget.chart() || !newProps.market) return\n  //     console.info(`#######更改 market：${newProps.market}`)\n\n  //     // let market = newProps.market.replace('-', '/')\n  //     this.tvWidget.chart().setSymbol(newProps.market, (...params) => {\n  //       console.info(\"########  setSymbol callback\", {params})\n  //     })\n  //     // changeSymbol(newProps.market)\n  //   }\n  // }\n\n  generateTradingViewConfig ({\n    symbol,\n    interval,\n    locale,\n    theme,\n  }) {\n    let timezone = 'Asia/Shanghai';\n    // try to use local timezone, if api is available\n    try {\n      timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n    } catch (err) {\n      // fallback to EXCHANGE_TIMEZONE\n    }\n\n    // 重要：参考配置：\n    // https://cloud.tencent.com/developer/article/1405723\n    const widgetOptions = {\n      debug: false,\n      symbol,\n      // BEWARE: no trailing slash is expected in feed URL\n      datafeed: Datafeed,\n\n      // https://github.com/tradingview/charting_library/wiki/Resolution\n      // 重要: 均线变形的问题，切换一次分辨率后就会消失。那么可以给定一个不是当前 interval 的分辨率，然后等 init 的时候再改成当前 interval。\n      // 但是这样处理，会看到界面加载两次，network 也会发两次请求，这个方案不太好。\n      // interval: '1',\n      interval,\n\n      timezone,\n      container_id: TV_CONTAINER_ID,\n      library_path: this.props.libraryPath,\n      frameborder: 0,\n      toolbar_bg: '#0a0e1e',\n      custom_css_url : \"tradingview.css\",\n      overrides: {\n        \"mainSeriesProperties.style\": 1,\n        \"symbolWatermarkProperties.color\" : \"#944\",\n        \"volumePaneSize\": \"tiny\",\n        'paneProperties.background': \"#0a0e1e\",\n        //坐标轴和刻度标签颜色\n        \"scalesProperties.lineColor\": \"#5a6881\",\n        \"scalesProperties.textColor\": \"#5a6881\",\n        // \"mainSeriesProperties.areaStyle.color1\": \"#5E8BBF\",\n        // \"mainSeriesProperties.areaStyle.color2\": \"#D9E8F9\",\n        // \"mainSeriesProperties.areaStyle.linecolor\": \"#5E8BBF\",\n        //网格线\n        \"paneProperties.vertGridProperties.color\": \"#1c2130\",\n        // \"paneProperties.vertGridProperties.style\" : 0,\n        \"paneProperties.horzGridProperties.color\": \"#1c2130\",\n        // \"paneProperties.horzGridProperties.style\" : 0,\n      },\n\n      // https://github.com/tradingview/charting_library/wiki/Localization\n      locale,\n\n      customFormatters: {\n        timeFormatter: {\n          format: function(date) { var _format_str = '%h:%m'; return _format_str.replace('%h', date.getUTCHours(), 2). replace('%m', date.getUTCMinutes(), 2). replace('%s', date.getUTCSeconds(), 2); }\n        },\n        dateFormatter: {\n          format: function(date) { return date.getUTCFullYear() + '-' + (date.getUTCMonth() + 1) + '-' + date.getUTCDate(); }\n        }\n      },\n      \n      // https://github.com/tradingview/charting_library/wiki/Featuresets\n      disabled_features: [\n        'use_localstorage_for_settings',\n        'header_widget',\n        // 'left_toolbar',\n        'create_volume_indicator_by_default',\n        'go_to_date',\n        'source_selection_markers',\n        'main_series_scale_menu',\n        'source_selection_markers',\n        'timeframes_toolbar',\n        'header_symbol_search',\n      ],\n      // enabled_features: ['move_logo_to_main_pane'],\n      charts_storage_url: this.props.chartsStorageUrl,\n      charts_storage_api_version: this.props.chartsStorageApiVersion,\n      client_id: this.props.clientId,\n      user_id: this.props.userId,\n      // width: 900,\n      // height: 500,\n      // fullscreen: true,\n      autosize: this.props.autosize,\n      // studies_overrides: this.props.studiesOverrides,\n      theme: 'Dark',\n\n      // 重要: 初始的 timeframe，改为 1h 则calculateHistoryDepth中的时间范围会生效。但是默认的 time_frames 并没有 1h 这个选项。\n      // 改为 1d 则跨度范围为 1 天。\n      // timeframe: '1d',\n      timeframe: '1h',\n      // 默认的 time_frames\n      // time_frames: [{ text: \"5y\", resolution: \"W\" }, { text: \"1y\", resolution: \"W\" }, { text: \"6m\", resolution: \"120\" }, { text: \"3m\", resolution: \"60\" }, { text: \"1m\", resolution: \"30\" }, { text: \"5d\", resolution: \"5\" }, { text: \"1d\", resolution: \"1\" }],\n      time_frames: [\n        // {\n        //   text: '1min',\n        //   resolution: '1',\n        //   description: '1 minute',\n        //   title: '1min'\n        // },\n        // { text: '5min', resolution: '5', description: '5 Minutes', title: '5Min' },\n        // { text: '30min', resolution: '30', description: '30 Minutes', title: '30Min' },\n        // { text: '1hr', resolution: '60', description: '1 Hour', title: '1H' }\n        // { text: \"50y\", resolution: \"6M\" },\n        { text: \"1d\", resolution: \"1\" },\n        { text: \"1h\", resolution: \"1\" },\n      ],\n      symbols_types: ['LRC-ETH', 'LRC-USDT'],\n\n      studies_overrides: {\n        'volume.show ma': false,\n        // \"volume.volume ma.linewidth\": 5,\n        // 'volume.volume.color.0': '#222',\n        // 'volume.volume.color.1': '#441',\n        // 'Moving Average.precision': 8,\n        // 'Moving Average Exponential.precision': 8,\n        \n        // 'volume.volume ma.linewidth': 1,\n        // 'volume.volume ma.color': '#141', // orange\n        // 'volume.volume ma.plottype': 'area', // orange\n        // 'volume.volume.transparency': 70,\n      },\n    };\n    return widgetOptions\n  }\n\n  loadStudies(lineType, symbol, tvInterval) {\n    // const strCofig = localStorage['myTradingView' + mode + lineType];\n    // if (strCofig) {\n    //   const config = JSON.parse(strCofig);\n    //   try {\n    //     for (let i = 0; i < config.charts[0].panes.length; i++) {\n    //       config.charts[0].panes[i].sources[0].state.symbol = symbol;\n    //       config.charts[0].panes[i].sources[0].state.interval = interval;\n    //     }\n    //   } catch (ex) {\n    //     if (__DEV__) bog.error(ex);\n    //   }\n    //   this._tv.load(config); // bug https://github.com/tradingview/charting_library/issues/3610\n    //   this._tv.chart().executeActionById('chartReset');\n    // } else if (lineType !== 'Line') {\n    if (lineType !== 'Line') {\n      this._candleDefault();\n    } else if (lineType === 'Line') {\n      this._lineDefault();\n    }\n  }\n\n  _candleDefault = () => {\n    // const { theme } = this.props;\n    // this._tv.chart().createStudy('Moving Average', false, false, [7], null, {\n    //   'Plot.linewidth': 1,\n    //   'Plot.color': theme.tradingViewStyle.ma1,\n    // });\n    // this._tv.chart().createStudy('Moving Average', false, false, [25], null, {\n    //   'Plot.linewidth': 1,\n    //   'Plot.color': theme.tradingViewStyle.ma2,\n    // });\n    // this._tv.chart().createStudy('Moving Average', false, false, [99], null, {\n    //   'Plot.linewidth': 1,\n    //   'Plot.color': theme.tradingViewStyle.ma3,\n    // });\n\n    this.tvWidget.chart().removeAllStudies();\n    // 创建均线\n    this.tvWidget.chart().createStudy('Moving Average', false, false, [5, 'close', 0], null, {\n      'Plot.color': '#34a9ff',\n      'Plot.linewidth': 1\n    })\n    this.tvWidget.chart().createStudy('Moving Average', false, false, [10, 'close', 0], null, {\n      'Plot.color': '#ffb620',\n      'Plot.linewidth': 1\n    })\n    this.tvWidget.chart().createStudy('Moving Average', false, false, [30, 'close', 0], null, {\n      'Plot.color': '#ff688f',\n      'Plot.linewidth': 1\n    })\n    this.tvWidget.chart().createStudy('Volume', false, false, [9], null, null);\n  \n    // 创建最新价水平线\n    // this.tvWidget.chart().createShape({\n    //     time: self.timestamp,\n    //     channel:close\n    // },{\n    //     shape: 'horizontal_line'\n    // })\n  \n    // 这里可以定制不同分辨率的 timeframe，但是范围明显不对，会变得特别小。\n    // this.tvWidget.chart()\n    //   .onIntervalChanged()\n    //   .subscribe(null, function(interval, obj) {\n    //     // if (interval === '1') {\n    //     //   obj.timeframe = `1h`\n    //     // }\n    //     let timeframe = `${_.floor(interval * 200 / 60 / 24, 2)}D`\n    //     console.info(`====== tv interval改变后，改 timeframe为: ${timeframe} ======`)\n    //     obj.timeframe = timeframe\n    //   })\n  };\n\n  _lineDefault = () => {\n    const { theme } = this.props;\n    this.tvWidget.chart().removeAllStudies();\n    this.tvWidget.chart().createStudy('Volume', false, false, [99], null, {\n      'volume.show ma': false,\n    });\n  };\n\n  _showSettingDialog = (checked) => {\n    if (!this.tvWidget) return\n\n    // let checked = this.tvWidget.chart().getCheckableActionState('scalesProperties')\n    // if (checked) {\n    //   this.tvWidget.chart().closePopupsAndDialogs();\n    // } else {\n    //   this.tvWidget.chart().executeActionById('compareOrAdd');\n    // }\n    this.tvWidget.chart().executeActionById('scalesProperties');\n  };\n\n  _showIndicatorsDialog = () => {\n    this.tvWidget && this.tvWidget.chart().executeActionById('insertIndicator');\n  };\n\n  init () {\n    if (this.tvWidget) return\n\n    const {\n      symbol,\n      locale,\n      interval,\n      lineType,\n      theme,\n    } = this.props;\n\n    let widgetOptions = this.generateTradingViewConfig({\n      symbol,\n      interval,\n      locale,\n      theme,\n    })\n    this.tvWidget = new widget(widgetOptions);\n\n    this.tvWidget.onChartReady(() => {\n      this.loadStudies(lineType, symbol, interval)\n      setTimeout(() => {\n        // this.tvWidget.activeChart().setResolution(String(interval))\n        this.tvWidget && this.tvWidget.setSymbol(symbol, String(interval));\n      }, 0)\n      // this.tvWidget.applyOverrides(theme.tradingViewOverrides || {});\n      if (lineType === 'Line') {\n        this.tvWidget.applyOverrides({ 'mainSeriesProperties.style': TV_LINE_SERIES });\n      }\n      this.tvWidget\n        .chart()\n        .onDataLoaded()\n        .subscribe(null, () => {\n          setTimeout(() => {\n            this.setState({ loading: false });\n          }, 0)\n        });\n\n      // this.tvWidget.subscribe('onAutoSaveNeeded', () => {\n      //   this.tvWidget.save(chartData => {\n      //     localStorage['myTradingView' + this.props.theme.mode + this.lineType] = JSON.stringify(\n      //       chartData\n      //     );\n      //   });\n      // });\n    });\n  }\n\n  render() {\n    return (\n      <Box id={this.props.containerId}\n        className={'TVChartContainer'}\n        sx={{\n          height: this.props.fullScreen ? 'calc(100% - 30px)' : this.props.style.height\n        }}\n      />\n    )\n  }\n}\n\n\n/* 币安的配置 */\n// webpack://utils/tradingview.js\n\n// import getConfig from 'next/config';\n// import Fetch from 'fetch-ponyfill';\n\n// import WebSocket from '../network/WebSocket';\n// import { getTradingViewLocale } from './locales';\n// import makeApiRequest from './makeApiRequest';\n// import { wssUri as _getKlinesWsUri } from '../network/handleInitTask';\n\n// const { fetch } = Fetch();\n\n// const {\n//   publicRuntimeConfig: {\n//     site: SITE,\n//     siteApiHost,\n//   },\n// } = getConfig();\n\n// const WS_PATH = '/stream?streams=';\n// const REST_BASE_URI = siteApiHost;\n// const EXCHANGE_TIMEZONE = 'Asia/Shanghai';\n// const SERVERTIME_API_PATH = '/api/v1/time';\n\n// const TV_RESOLUTIONS_TO_BINANCE = {\n//   '1': '1m',\n//   '3': '3m',\n//   '5': '5m',\n//   '15': '15m',\n//   '30': '30m',\n//   '60': '1h',\n//   '120': '2h',\n//   '240': '4h',\n//   '360': '6h',\n//   '720': '12h',\n//   'D': '1d',\n//   '1W': '1w',\n//   '1M': '1M',\n// };\n\n// const getKlinesWsUri = async (symbolName, interval) => {\n//   const streamUrl = _getKlinesWsUri();\n//   return (\n//     `${streamUrl.replace(/\\/ws$/, WS_PATH)}` +\n//     `${symbolName.toLowerCase()}@kline_${interval}`\n//   );\n// };\n\n// const convertKlineArrToBar = (arr) => {\n//   arr = arr.map(num => +num);\n//   const [time, open, high, low, close, volume] = arr;\n//   return {\n//     time,\n//     close,\n//     open,\n//     high,\n//     low,\n//     volume,\n//   };\n// };\n\n// const convertKlineObjToBar = ({ k: kline }) => {\n//   const {\n//     t, l, c, h, o, v,\n//   } = kline;\n//   return {\n//     time: t, close: +c, open: +o, high: +h, low: +l, volume: +v,\n//   };\n// };\n\n// export const translateResolutionForBinance = (resolution) => TV_RESOLUTIONS_TO_BINANCE[resolution];\n\n// export const translateResolutionForTV = (secs) => {\n//   const intervalMins = (secs / 60).toString();\n//   let tvInterval = intervalMins;\n//   if (intervalMins === '1440') { // 1d\n//     tvInterval = 'D';\n//   } else if (intervalMins === '10080') { // 1w\n//     tvInterval = '1W';\n//   } else if (intervalMins === '43200') { // 1w\n//     tvInterval = '1M';\n//   }\n//   return tvInterval;\n// };\n\n// export class DataFeed {\n//   constructor(symbols = [], baseUri = REST_BASE_URI) {\n//     this.symbols = symbols;\n//     this.baseUri = baseUri;\n//     this.sockets = new Map();\n//   }\n\n//   // ### onReady(callback)\n//   // `callback`: function(configurationData)\n//   //     `configurationData`: object (see below)\n//   //          exchanges\n//   //          symbols_types\n//   //          supported_resolutions\n//   //          supports_marks\n//   //          supports_timescale_marks\n//   //          supports_time\n//   //          futures_regex\n//   onReady = (callback) => {\n//     setTimeout(() => {\n//       callback({\n//         exchanges: [],\n//         symbols_types: [],\n//         supported_resolutions: Object.keys(TV_RESOLUTIONS_TO_BINANCE),\n//         supports_marks: false, // TODO: maybe\n//         supports_timescale_marks: false, // TODO: maybe\n//         supports_time: true,\n//       });\n//     }, 0);\n//   };\n\n//   // ### searchSymbols(userInput, exchange, symbolType, onResultReadyCallback)\n//   // `userInput`: string. It is text entered by user in the symbol search field.\n//   // `exchange`: string. The requested exchange (chosen by user).\n//   //     Empty value means no filter was specified.\n//   // `symbolType`: string. The requested symbol type: `index`, `stock`, `forex`, etc.\n//   //     Empty value means no filter was specified.\n//   // `onResultReadyCallback`: function(result)\n//   //     `result`: array (see below)\n//   //        \"symbol\": \"<short symbol name>\",\n//   //        \"full_name\": \"<full symbol name>\", // e.g. BTCE:BTCUSD\n//   //        \"description\": \"<symbol description>\",\n//   //        \"exchange\": \"<symbol exchange name>\",\n//   //        \"ticker\": \"<symbol ticker name, optional>\",\n//   //        \"type\": \"stock\" // or \"futures\" or \"crypto\" or \"forex\" or \"index\"\n//   searchSymbols = (input, exchange, symbolType, callback) => {\n//     if (__DEV__) {\n//       console.log('searchSymbols called with:', input);\n//     }\n//     const matches = this.symbols.filter(({ symbol }) => symbol.includes(input));\n//     const mapped = matches.map(match => ({\n//       symbol: match.symbol,\n//       full_name: match.symbol,\n//       description: match.symbol,\n//       exchange: 'BINANCE',\n//       type: 'crypto',\n//     }));\n//     if (__DEV__) {\n//       console.log('TradingView symbol matches', mapped);\n//     }\n//     callback(mapped);\n//   };\n\n//   // ### resolveSymbol(symbolName, onSymbolResolvedCallback, onResolveErrorCallback)\n//   // `symbolName`: string. Symbol name or `ticker` if provided.\n//   // `onSymbolResolvedCallback`: function([SymbolInfo](Symbology#symbolinfo-structure))\n//   // `onResolveErrorCallback`: function(reason)\n//   // Charting Library calls this fn when it needs [SymbolInfo](Symbology#symbolinfo-structure)\n//   // by symbol name.\n//   resolveSymbol = (symbol, callback, errorCallback) => {\n//     if (__DEV__) {\n//       console.log('resolveSymbol called with:', symbol);\n//     }\n//     symbol = symbol.replace('BINANCE:', '');\n//     const matches = this.symbols.filter(({ symbol: symb }) => symb === symbol);\n//     if (!matches.length) {\n//       errorCallback('not found');\n//       return;\n//     }\n//     const match = matches[0];\n//     const symbolFilter = match.filters.find((filter) => filter.tickSize || filter.stepSize);\n//     const tickSize = symbolFilter.stepSize || symbolFilter.tickSize;\n//     const resolved = {\n//       description: match.symbol,\n//       fractional: false, // `fractional` for common prices is `false` or it can be skipped.\n//       has_intraday: true,\n//       minmov: 1, // `minmov` is a number of units that make up one tick.\n//       minmove2: 0, // `minmove2` for common prices is `0` or it can be skipped.\n//       name: match.symbol,\n//       // `pricescale` defines number of decimal places.\n//       // Actually it is `10^number-of-decimal-places`.\n//       pricescale: 10 ** Math.abs(Math.log10(tickSize)),\n//       session: '24x7',\n//       timezone: EXCHANGE_TIMEZONE,\n//       type: 'crypto',\n//       // volume_precision: 2,\n//     };\n//     if (__DEV__) {\n//       console.log('resolved symbol:', resolved);\n//     }\n//     // TODO: fill this out properly\n//     setTimeout(() => {\n//       callback(resolved);\n//     }, 0);\n//   };\n\n//   // ### getBars(symbolInfo, resolution, from, to, onHistoryCallback,\n//   //              onErrorCallback, firstDataRequest)\n//   // `symbolInfo`: [SymbolInfo](Symbology#symbolinfo-structure) object\n//   // `resolution`: string\n//   // `from`: unix timestamp, leftmost required bar time\n//   // `to`: unix timestamp, rightmost required bar time\n//   // `onHistoryCallback`: function(array of `bar`s, `meta` = `{ noData = false }`)\n//   //     `bar`: object `{time, close, open, high, low, volume}`\n//   //     `meta`: object `{noData = true | false, nextTime - unix time}`\n//   // `onErrorCallback`: function(reason)\n//   // `firstDataRequest`: boolean to identify the first call of this method for the\n//   //     particular symbol resolution.\n//   //     When it is set to `true` you can ignore `to` (which depends on browser's `Date.now()`)\n//   //     and return bars up to the latest bar.\n//   getBars = async ({ name: symbol }, resolution, from, to, callback, onError) => {\n//     const interval = translateResolutionForBinance(resolution);\n//     // this api is hard limited to return 1000 bars max, regardless of `limit`\n//     const limit = 1000; // never more than 1000!\n//     const getUri = (startTime) => `${this.baseUri}` +\n//       '/api/v1/klines' +\n//       `?symbol=${symbol}` +\n//       `&interval=${interval}` +\n//       `&limit=${limit}` +\n//       `&startTime=${startTime}` +\n//       `&endTime=${to * 1000}`;\n//     let lastCount = -1;\n//     let lastTime = from * 1000;\n//     let errored = false;\n//     const bars = [];\n//     // deal with the 1000 hard limit by making multiple requests\n//     while (lastCount === -1 || lastCount === limit) {\n//       try {\n//         const isFirst = lastCount === -1;\n//         // +1 to not get duplicate bars\n//         const res = await fetch(getUri(isFirst ? lastTime : lastTime + 1));\n//         const batch = await res.json();\n//         if (!batch || !batch.length) break;\n//         const [time] = batch[batch.length - 1];\n//         lastTime = time;\n//         lastCount = batch.length;\n//         bars.push(...batch.map(convertKlineArrToBar));\n//       } catch (err) {\n//         errored = true;\n//         onError(err);\n//         break;\n//       }\n//     }\n//     if (!errored) {\n//       callback(bars, { noData: !bars.length });\n//     }\n//   };\n\n//   // ### subscribeBars(symbolInfo, resolution, onRealtimeCallback, subscriberUID,\n//   //                    onResetCacheNeededCallback)\n//   // Charting Library calls this function when it wants to receive real-time updates for a symbol.\n//   // The Library assumes that you will call `onRealtimeCallback` every time you want to update\n//   // the most recent bar or to add a new one.\n//   // `symbolInfo`: [SymbolInfo](Symbology#symbolinfo-structure) object\n//   // `resolution`: string\n//   // `onRealtimeCallback`: function(bar)\n//   //     `bar`: object `{time, close, open, high, low, volume}`\n//   // `subscriberUID`: object\n//   // `onResetCacheNeededCallback` *(since version 1.7)*: function() to be executed\n//   //    when bar data has changed\n//   subscribeBars = async ({ name: symbol }, resolution, onMessage, uid, onResetNeeded) => {\n//     if (this._lastBarsSymbol &&\n//         this._lastBarsSymbol !== symbol) {\n//       onResetNeeded();\n//       return;\n//     }\n//     this._lastBarsSymbol = symbol;\n//     const interval = translateResolutionForBinance(resolution);\n//     const klinesWsUri = await getKlinesWsUri(symbol, interval);\n//     this.sockets.set(uid, new WebSocket(klinesWsUri, {\n//       onopen: () => {},\n//       onmessage: ({ data: json }) => {\n//         if (!json || !json.length) {\n//           console.warn('TradingView feed: received kline without data!', json);\n//           return;\n//         }\n//         const { data } = JSON.parse(json);\n//         onMessage(convertKlineObjToBar(data));\n//       },\n//       onreconnect: () => { onResetNeeded(); },\n//       onmaximum: () => {},\n//       onclose: () => {\n//         console.warn('TradingView feed: WebSocket data closed.');\n//       },\n//       onerror: err => {\n//         console.error('TradingView feed: WebSocket error:', err);\n//       },\n//     }));\n//   };\n\n//   // ### unsubscribeBars(subscriberUID)\n//   // `subscriberUID`: object\n//   // Charting Library calls this function when it doesn't want to receive updates for\n//   // this subscriber any more. `subscriberUID` will be the same object that Library passed\n//   // to `subscribeBars` before.\n//   unsubscribeBars = (uid) => {\n//     const socket = this.sockets.get(uid);\n//     if (!socket) {\n//       console.warn('TradingView feed: unsubscribeBars called but socket not found.');\n//       return;\n//     }\n//     socket.close(1e3, 'Requested by TradingView');\n//   };\n\n//   // ### calculateHistoryDepth(resolution, resolutionBack, intervalBack)\n//   // *Optional.*\n//   // `resolution`: requested symbol resolution\n//   // `resolutionBack`: time period types. Supported values are: `D` | `M`\n//   // `intervalBack`: amount of `resolutionBack` periods that the Charting Library is\n//   // going to request\n//   // calculateHistoryDepth = (resolution, resolutionBack, intervalBack) => ({\n//   //   resolutionBack,\n//   //   // 1000 bars hard limit on the API.\n//   //   intervalBack: intervalBack > 1000 ? 999 : intervalBack,\n//   // });\n\n//   // ### getServerTime(callback)\n//   // This function is called if the configuration flag `supports_time` is set to `true` when\n//   // the Charting Library needs to know the server time.\n//   // `callback`: function(unixTime)\n//   getServerTime = async (callback) => {\n//     const uri = `${this.baseUri}${SERVERTIME_API_PATH}`;\n//     try {\n//       const res = await makeApiRequest(uri);\n//       const unixTime = res.serverTime;\n//       const secs = Math.floor(parseInt(unixTime, 10) / 1000);\n//       callback(secs);\n//     } catch (err) {\n//       callback(Date.now());\n//       console.error('TradingView feed: getServerTime called but there was an error!');\n//     }\n//   };\n\n//   // ### calculateHistoryDepth(resolution, resolutionBack, intervalBack)\n//   // *Optional.*\n//   // ...\n\n//   // ### getMarks(symbolInfo, startDate, endDate, onDataCallback, resolution)\n//   // *Optional.*\n\n//   // ### getTimescaleMarks(symbolInfo, startDate, endDate, onDataCallback, resolution)\n//   // *Optional.*\n// }\n\n// export const generateTradingViewConfig = ({\n//   containerId,\n//   symbol,\n//   symbols,\n//   interval,\n//   locale,\n//   theme,\n// }) => {\n//   let timezone = EXCHANGE_TIMEZONE;\n//   // try to use local timezone, if api is available\n//   try {\n//     timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n//   } catch (err) {\n//     // fallback to EXCHANGE_TIMEZONE\n//   }\n//   return ({ // eslint-disable-line\n//     timezone, // user's browser timezone\n//     autosize: true,\n//     container_id: containerId,\n//     datafeed: new DataFeed(symbols),\n//     debug: !!__DEV__,\n//     enabled_features: [\n//       'dont_show_boolean_study_arguments',\n//       'hide_last_na_study_output',\n//     ],\n//     disabled_features: [\n//       'header_widget',\n//       'header_symbol_search',\n//       'symbol_info',\n//       'header_compare',\n//       // 'use_localstorage_for_settings',\n//       // 'save_chart_properties_to_local_storage',\n//       'header_chart_type',\n//       'display_market_status',\n//       'symbol_search_hot_key',\n//       'compare_symbol',\n//       'border_around_the_chart',\n//       'remove_library_container_border',\n//       'symbol_info',\n//       'header_interval_dialog_button',\n//       'show_interval_dialog_on_key_press',\n//       'volume_force_overlay',\n//     ],\n//     interval,\n//     library_path: `/static/tradingview/${SITE === 'cn' ? 'cn/' : ''}charting_library/`,\n//     custom_css_url: theme.tradingViewCssPath,\n//     locale: getTradingViewLocale(locale) || 'en',\n//     overrides: theme.tradingViewOverrides || {}, // doesn't always work, see below\n//     studies_overrides: {\n      // 'volume.show ma': false,\n//       'volume.volume.color.0': theme.tradingViewStyle.shortFill,\n//       'volume.volume.color.1': theme.tradingViewStyle.longFill,\n//       'Moving Average.precision': 8,\n//       'Moving Average Exponential.precision': 8,\n      \n//       // 'volume.volume ma.linewidth': 1,\n//       // 'volume.volume ma.color': theme.tradingViewStyle.maLine, // orange\n//       // 'volume.volume ma.plottype': 'area', // orange\n//       // 'volume.volume.transparency': 70,\n//     },\n\n//     style: '1',\n//     symbol,\n//     theme: 'Light',\n//     toolbar_bg: 'rgba(255, 255, 255, 1)', // white\n//     time_frames: [],\n//   });\n// };\n\n// export default {\n//   translateResolutionForBinance,\n//   translateResolutionForTV,\n//   DataFeed,\n// };\n","import _ from 'lodash';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Table, Dropdown, Menu, Icon } from 'antd'\nimport utils from 'utils'\nimport { Svg } from 'components'\nimport Chart from 'bizcharts/lib/components/Chart';\nimport Geom from 'bizcharts/lib/components/Geom';\nimport Axis from 'bizcharts/lib/components/Axis';\nimport Tooltip from 'bizcharts/lib/components/Tooltip';\nimport Legend from 'bizcharts/lib/components/Legend';\n\nconst mapStateToProps = ({ markets, depth, trade, rate }) => {\n  return {\n    markets,\n    depth,\n  };\n};\n\nconst mapDispatchToProps = ({ depth, placeOrder }) => {\n  return {\n  };\n};\n\n@injectIntl\n@connect(mapStateToProps, mapDispatchToProps)\nexport class DepthChartContainer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    }\n  }\n\n  componentDidMount() {\n  }\n  \n  componentWillUnmount() {\n  }\n\n  render() {\n    let { depth, intl } = this.props\n    let { asks, bids } = depth\n    let data = [ ...asks, ...bids ]\n    if (data.length === 0) return <></>\n\n    data = _.chain(data)\n      .reverse(data)\n      // .map(item => {\n      //   item.price = Number(item.price)\n      //   return item\n      // })\n      .value()\n    // let min = Number(data[0].price)\n    // let max = Number(data[data.length - 1].price)\n    return (\n      <Box height={this.props.height} >\n        <Chart height={this.props.height} data={data} forceFit scale={{\n          price: {\n            type: 'cat',\n            // type: 'linear',\n            // https://bizcharts.net/product/bizcharts/category/7/page/35#linear\n            // 深度有个特别大的值，如果是线性linear，会把整个图标都变成红色，绿色只占一丝。\n            // min,\n            // max,\n            // ticks: _.range(min, max, (max - min) / 8)\n            // tickCount最好，动态的展示正好 8 个。之所以不均匀，是因为价格本身不均匀\n            alias: intl.formatMessage({id: 'depth.chart.geom.price'}),\n            tickCount: 8\n          },\n          sumVolume: {\n            // type: 'linear',\n            alias: intl.formatMessage({id: 'depth.chart.geom.sum'})\n          }\n        }}>\n          <Axis name=\"price\"\n            label={{\n              formatter: val => {\n                // return (val / 1000).toFixed(3) + \"k\";\n                return Number(val).toFixed(8)\n              }\n            }}\n          />\n          <Axis name=\"sumVolume\" grid={null}\n            // position='right'\n            label={{\n              formatter: val => {\n                // return (val / 1000).toFixed(3) + \"k\";\n                return val\n              }\n            }}\n          />\n          {/* <Legend /> */}\n          <Tooltip showTitle={false} />\n          <Geom type=\"area\" position=\"price*sumVolume\"\n            color={['type', ['rgba(80, 190, 140, 0.3)', 'rgba(240, 80, 90, 0.3)']]}\n            tooltip={['price', (price)=>{ // array\n              return {\n                name: intl.formatMessage({id: 'depth.chart.geom.price'}),\n                value: price\n              }\n            }]}\n          />\n          <Geom type=\"line\" position=\"price*sumVolume\" size={2}\n            color={['type', ['rgba(80, 190, 140, 1)', 'rgba(240, 80, 90, 1)']]}\n            tooltip={['sumVolume', (sumVolume)=>{ // array\n              return {\n                name: intl.formatMessage({id: 'depth.chart.geom.sum'}),\n                value: sumVolume\n              }\n            }]}\n          />\n        </Chart>\n      </Box>\n    )\n  }\n}\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport numeral from 'numeral'\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport styled from '@emotion/styled'\nimport { Pair, TokenInfo } from 'widgets'\nimport { TVChartContainer } from './TVChartContainer';\nimport { DepthChartContainer } from './DepthChartContainer';\nimport { Dropdown, Icon, Menu } from 'antd'\nimport utils, { renderIf } from 'utils'\nimport api from 'api'\nimport { ENUM_INTERVAL_TYPE } from 'utils/enum'\nimport fullscreenIcon from 'icons/fullscreen.svg'\nimport chartTechnicIcon from 'icons/chartTechnic.svg'\nimport chartSettingIcon from 'icons/chartSetting.svg'\n\nconst units = ['USD', 'CNY']\nconst views = {\n  DEPTH_VIEW: 0,\n  TRADING_VIEW: 1\n}\nconst tvLocalMapping = {\n  cn: 'zh',\n  us: 'en',\n  kr: 'ko',\n  ru: 'ru',\n  jp: 'ja',\n}\n\n// https://emotion.sh/docs/styled#object-styles\nconst ViewTypeButton = styled(Text)(\n  {\n    border: '1px solid',\n    cursor: 'pointer',\n  },\n  props => ({\n    background: `${props.active ? '#1890ff' : ''}`,\n    color: `${props.active ? 'white' : '#1890ff'}`,\n    borderColor: `${props.active ? '#1890ff' : '#1890ff'}`,\n    borderTopLeftRadius: `${props.left ? 2 : 0}px`,\n    borderBottomLeftRadius: `${props.left ? 2 : 0}px`,\n    borderTopRightRadius: `${props.right ? 2 : 0}px`,\n    borderBottomRightRadius: `${props.right ? 2 : 0}px`,\n    borderLeftWidth: `${props.right ? 0 : 1}px`,\n    borderRightWidth: `${props.left ? 0 : 1}px`,\n  })\n)\n\nconst IntervalButton = styled(Text)(\n  {\n    width: '44px',\n    height: '18px',\n    marginRight: '3px',\n    fontSize: '12px',\n    lineHeight: '18px',\n    background: 'rgba(255,255,255,0.08)',\n    cursor: 'pointer',\n    borderRadius: '1px',\n    textAlign: 'center'\n  },\n  props => ({\n    color: `${props.active ? '#0064FF' : '#78788C'}`,\n  })\n)\n\n@injectIntl\nclass TVChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      unit: 'USD',\n      pairVisible: false,\n      tokenInfoVisible: false,\n      tokenInfo: {},\n      selectedView: views.TRADING_VIEW,\n\n      lineType: 'Candle',\n      interval: ENUM_INTERVAL_TYPE.HOUR_1.getValue(),\n      fullScreen: false,\n      showIndicators: false,\n      showSetting: false,\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  renderUnits () {\n    return (\n      <Menu onClick={({key}) => {\n        console.info(key)\n        this.setState({unit: key})\n      }}>\n      {\n        units.map((unit) => (\n          <Menu.Item key={unit}>\n            <Text fontSize={[0, 0, 0]} color='hint'>{ unit }</Text>\n          </Menu.Item>\n        ))\n      }\n      </Menu>\n    )\n  }\n\n  renderPairs () {\n    return (\n      <Box bg=\"background\" sx={{\n          border: '3px solid black'\n        }}\n        onClick={e => e.preventDefault()}\n        // onClick={() => this.setState({ pairVisible: true })}\n      >\n        <Pair width={590} height={355} onSelected={() => this.setState({ pairVisible: false })} />\n      </Box>\n    )\n  }\n\n  async fetchTokenInfo () {\n    let { markets: { currentMarket } } = this.props\n    let resp = await api.getContract(currentMarket.baseContractId)\n    let tokenInfo = resp.data\n    \n    // 是否杠杆币\n    resp = await api.getLeverCoin({symbol: tokenInfo.name})\n    let leverToken = resp.data\n    if (leverToken) {\n      tokenInfo = Object.assign(tokenInfo, {leverToken})\n    }\n    this.setState({ tokenInfo })\n  }\n\n  renderTokenInfo () {\n    return (\n      <Box bg=\"background\" sx={{\n          border: '3px solid black'\n        }}\n        onClick={e => e.preventDefault()}\n        // onClick={() => this.setState({ pairVisible: true })}\n      >\n        <TokenInfo tokenInfo={this.state.tokenInfo} />\n      </Box>\n    )\n  }\n\n  renderTvOps () {\n    let { selectedView, fullScreen, showIndicators, showSetting } = this.state\n    const { intl } = this.props\n\n    let invetvalMapping = [\n      // { label: '1分钟', value: ENUM_INTERVAL_TYPE.MIN_1, },\n      { label: intl.formatMessage({id: 'tvchar.resolutions.5min'}), value: ENUM_INTERVAL_TYPE.MIN_5, },\n      { label: intl.formatMessage({id: 'tvchar.resolutions.15min'}), value: ENUM_INTERVAL_TYPE.MIN_15, },\n      { label: intl.formatMessage({id: 'tvchar.resolutions.30min'}), value: ENUM_INTERVAL_TYPE.MIN_30, },\n      { label: intl.formatMessage({id: 'tvchar.resolutions.1hr'}), value: ENUM_INTERVAL_TYPE.HOUR_1, },\n      { label: intl.formatMessage({id: 'tvchar.resolutions.2hr'}), value: ENUM_INTERVAL_TYPE.HOUR_2, },\n      { label: intl.formatMessage({id: 'tvchar.resolutions.4hr'}), value: ENUM_INTERVAL_TYPE.HOUR_4, },\n      { label: intl.formatMessage({id: 'tvchar.resolutions.12hr'}), value: ENUM_INTERVAL_TYPE.HOUR_12, },\n      { label: intl.formatMessage({id: 'tvchar.resolutions.1d'}), value: ENUM_INTERVAL_TYPE.DAY_1, },\n      { label: intl.formatMessage({id: 'tvchar.resolutions.1w'}), value: ENUM_INTERVAL_TYPE.WEEK_1, },\n    ]\n    return (\n      <Flex height={30} px={12} bg='background' alignItems=\"center\" justifyContent=\"space-between\">\n        {\n          renderIf(selectedView === views.TRADING_VIEW) (\n            <Flex alignItems=\"center\" justifyContent=\"space-between\" >\n              {/* <IntervalButton\n                active={this.state.lineType === 'Line'}\n                onClick={() => this.setState({\n                  lineType: 'Line'\n                })}\n              >\n                分时\n              </IntervalButton> */}\n              {\n                _.map(invetvalMapping, item => {\n                  let { lineType, interval } = this.state\n                  let itemInterval = item.value.getValue()\n                  return (\n                    <IntervalButton key={item.label}\n                      active={lineType === 'Candle' && interval === itemInterval}\n                      onClick={() => {\n                        const interval = item.value.getValue()\n                        this.setState({\n                          interval,\n                          lineType: 'Candle'\n                        }, () => {\n                          // if (!window.localStorage) return;\n                          // window.localStorage.setItem('bn.lineType', type);\n                          // window.localStorage.setItem('bn.interval', interval);\n                          // window.localStorage.setItem('bn.intervalName', intervalName);\n                        });\n                      }}\n                    >\n                      {item.label}\n                    </IntervalButton>\n                  )\n                })\n              }\n              <Box mx={12} sx={{\n                width:'0px',\n                height: '16px',\n                borderRight: '1px solid rgba(50,55,75,1)'\n              }}></Box>\n              <Box mr={2} lineHeight={'12px'} sx={{ cursor: 'pointer' }}\n                onClick={() => this.setState({ showIndicators: !showIndicators })}\n              >\n                <Image width={12} height={12} lineHeight={'12px'} src={chartTechnicIcon} />\n              </Box>\n              <Box mr={2} lineHeight={'12px'} sx={{ cursor: 'pointer' }}\n                onClick={() => this.setState({ showSetting: !showSetting })}\n              >\n                <Image width={12} height={12} lineHeight={'12px'} src={chartSettingIcon} />\n              </Box>\n              <Box mr={2} lineHeight={'12px'} sx={{ cursor: 'pointer' }}\n                onClick={() => this.setState({ fullScreen: !fullScreen })}\n              >\n                <Image width={12} height={12} lineHeight={'12px'} src={fullscreenIcon} />\n              </Box>\n            </Flex>\n          )\n        }\n        <Box></Box>\n        {\n          renderIf(!fullScreen)(\n            <Flex alignItems=\"center\" justifyContent=\"space-between\" >\n              <ViewTypeButton px={1} left\n                active={selectedView === views.TRADING_VIEW}\n                onClick={() => this.setState({selectedView: views.TRADING_VIEW})}\n              >\n                TradingView\n              </ViewTypeButton>\n              <ViewTypeButton px={1} right\n                active={selectedView === views.DEPTH_VIEW}\n                onClick={() => this.setState({selectedView: views.DEPTH_VIEW})}\n              >\n                <FormattedMessage id='tvchar.button.depth' />\n              </ViewTypeButton>\n            </Flex>\n          )\n        }\n      </Flex>\n    )\n  }\n\n  render() {\n    let { markets: { currentMarket }, ticker: { dayInfo }, fetchCurrentMarkets, persistData } = this.props\n\n    if (!currentMarket) return <></>\n\n    let { baseToken, quoteToken, market, pricePrecision } = currentMarket\n    let { high, low, volume, close, variation } = dayInfo\n\n    return (\n      <Box {...this.props}>\n        <Flex height={50} px={12} py={'5px'} justifyContent=\"space-between\">\n          <Box pr={15}>\n            <Flex mt={'4px'} alignItems=\"center\">\n              <Dropdown \n                visible={this.state.pairVisible}\n                onVisibleChange={flag => {\n                  this.setState({ pairVisible: flag })\n                  if (flag === true) {\n                    fetchCurrentMarkets()\n                  }\n                }}\n                overlay={this.renderPairs()} trigger={['hover']} placement=\"bottomCenter\">\n                <Flex mr={'8px'} onClick={e => e.preventDefault()} sx={{cursor: 'pointer'}}>\n                  <Text mr={'5px'} fontSize={16} lineHeight={'18px'} fontWeight={600}>\n                    {baseToken}/{quoteToken}\n                  </Text>\n                  <Icon type=\"caret-down\" style={{fontSize: '18px', color: '#646478'}} />\n                </Flex>\n              </Dropdown>\n              <Dropdown \n                visible={this.state.tokenInfoVisible}\n                onVisibleChange={flag => {\n                  this.setState({ tokenInfoVisible: flag })\n                  if (flag === true) {\n                    this.fetchTokenInfo()\n                  }\n                }}\n                overlay={this.renderTokenInfo()} trigger={['hover']} placement=\"bottomCenter\">\n                <Icon type=\"info-circle\" style={{fontSize: '14px', color: '#646478', cursor: 'pointer'}} />\n              </Dropdown>\n            </Flex>\n            <Flex color={variation >= 0 ? 'success' : 'failure'} mt={'0px'} alignItems=\"center\" fontWeight={500}>\n              <Text fontSize={14}>{close.toFixed(pricePrecision)}</Text>\n              <Text width=\"60px\" ml={'10px'} fontSize={14}>{numeral(variation).format('+0.00%')}</Text>\n            </Flex>\n          </Box>\n          <Box px={15}>\n            <Dropdown overlay={this.renderUnits()} trigger={['hover']} placement=\"bottomCenter\" overlayClassName=\"nav-menu\">\n              <Flex mt={'3px'} alignItems=\"center\">\n                <Text color='#646478' mr={'5px'}><FormattedMessage id='tvchar.baseInfo.unit' />:</Text>\n                <Text mr={'5px'}>{this.state.unit}</Text>\n                <Icon type=\"caret-down\" />\n              </Flex>\n            </Dropdown>\n            <Text mt={'2px'} color='#FFFFFF'>{utils.asLegalMoney(close, quoteToken, this.state.unit)}</Text>\n          </Box>\n          <Box px={15}>\n            <Text color='#646478' mt={'3px'} mr={'5px'}><FormattedMessage id='tvchar.baseInfo.high' /></Text>\n            <Text color='#FFFFFF' mt={'2px'}>{high}</Text>\n          </Box>\n          <Box px={15}>\n            <Text color='#646478' mt={'3px'} mr={'5px'}><FormattedMessage id='tvchar.baseInfo.low' /></Text>\n            <Text color='#FFFFFF' mt={'2px'}>{low}</Text>\n          </Box>\n          <Box px={15}>\n            <Text color='#646478' mt={'3px'} mr={'5px'}><FormattedMessage id='tvchar.baseInfo.volumn' /></Text>\n            <Text color='#FFFFFF' mt={'2px'}>{volume} {quoteToken}</Text>\n          </Box>\n          <Box flex={1}></Box>\n        </Flex>\n\n        <Box sx={this.state.fullScreen ? {\n          position: 'fixed',\n          top: 0,\n          bottom: 0,\n          left: 0,\n          right: 0,\n          zIndex: 2\n        } : {}}>\n          { this.renderTvOps() }\n          {\n            renderIf(this.state.selectedView === views.TRADING_VIEW)(\n              <TVChartContainer style={{height: `calc(${this.props.height}px - 50px - 30px)`}}\n                locale={tvLocalMapping[persistData.locale]}\n                symbol={market}\n                lineType={this.state.lineType}\n                interval={this.state.interval}\n                showIndicatorsDialog={this.state.showIndicators}\n                showSettingDialog={this.state.showSetting}\n                visible={this.state.selectedView === views.TRADING_VIEW}\n                fullScreen={this.state.fullScreen}\n              />\n            )\n          }\n          {\n            renderIf(this.state.selectedView === views.DEPTH_VIEW)(\n              <DepthChartContainer style={{height: `calc(${this.props.height}px - 50px - 30px)`}}\n                symbol={market}\n                visible={this.state.selectedView === views.DEPTH_VIEW}\n                fullScreen={this.state.fullScreen}\n              />\n            )\n          }\n        </Box>\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ markets, trade, ticker, persistData }) => {\n  return {\n    markets,\n    trade,\n    ticker,\n    persistData\n  };\n};\n\nconst mapDispatchToProps = ({ markets }) => {\n  return {\n    fetchCurrentMarkets: markets.fetchCurrentMarkets\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TVChart);","import _ from 'lodash'\nimport React from 'react';\nimport numeral from 'numeral'\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Tooltip, Icon, Popover } from 'antd';\nimport { TabNav, CoinInput, BillPreCheck } from './Common'\nimport { TransferModal } from 'widgets/Dialog'\nimport utils, { notification } from 'utils'\n\nconst BigNumber = require('bignumber.js');\nconst percentPositins = [ 0.25, 0.5, 0.75, 1 ]\n@injectIntl\nclass PlaceOrder extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: 'limitPrice'\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  renderLimitBuyArea (baseMin, quoteMin, available) {\n    let { markets, intl } = this.props\n    let currentMarket = markets.currentMarket\n    if (!currentMarket) return <></>\n\n    let { baseToken, quoteToken, pricePrecision, amountPrecision, totalPrecision } = currentMarket\n    let { placeOrder: { buyPrice, buyAmount, buyTotal }, updatePlaceOrder, placeBuyOrder } = this.props\n    let signined = utils.checkLogined()\n\n    let quoteError = null\n    if (buyTotal) {\n      quoteMin = Number(quoteMin)\n      available = Number(available)\n      // 不能给buyTotal直接赋值，会导致无法再输入小数点。\n      // buyTotal = Number(buyTotal)\n      let total = Number(buyTotal)\n      if (total < quoteMin) {\n        quoteError = intl.formatMessage({id: 'placeOrder.hint.quoteLessThanMin'}, { min: quoteMin, quoteToken })\n      } else if (total > available) {\n        quoteError = intl.formatMessage({id: 'placeOrder.hint.moreThanAvalable'}, { available, token: quoteToken })\n      }\n    }\n\n    let baseError = null\n    if (buyAmount) {\n      baseMin = Number(baseMin)\n      // 不能给buyTotal直接赋值，会导致无法再输入小数点。\n      // buyTotal = Number(buyTotal)\n      let amount = Number(buyAmount)\n      if (amount < baseMin) {\n        baseError = intl.formatMessage({id: 'placeOrder.hint.baseLessThanMin'}, { min: baseMin, baseToken })\n      }\n    }\n\n    return (\n      <Flex flexDirection=\"column\" flex={1} px={13} pb={10}>\n        <Flex mt={'7px'} alignItems=\"center\">\n          <CoinInput\n            label={intl.formatMessage({id: \"placeOrder.input.label.buyPrice\"})}\n            precision={pricePrecision}\n            value={buyPrice}\n            approximate={`$ ${utils.asLegalMoney(buyPrice, quoteToken, 'USD')}`}\n            onChange={e => {\n              let price = e.target.value\n              let buyTotal = (new BigNumber(buyAmount || 0)).times(new BigNumber(price || 0))\n              updatePlaceOrder({\n                // 不能用 price，会导致输入框的 0 不能删除。\n                buyPrice: price,\n                buyTotal: buyTotal.toFixed(totalPrecision)\n              })\n            }}\n            unit={quoteToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex mt={'7px'} alignItems=\"center\">\n          <CoinInput\n            label={intl.formatMessage({id: \"placeOrder.input.label.buySize\"})}\n            precision={amountPrecision}\n            error={baseError}\n            value={buyAmount}\n            onChange={e => {\n              let amount = e.target.value\n              let total = (new BigNumber(amount || 0)).times(new BigNumber(buyPrice || 0))\n              updatePlaceOrder({\n                // 不能用 value，会导致输入框的 0 不能删除。\n                buyAmount: amount,\n                buyTotal: total.toFixed(totalPrecision),\n              })\n            }}\n            unit={baseToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex mt={'7px'} alignItems=\"center\">\n          <CoinInput\n            label={intl.formatMessage({id: \"placeOrder.input.label.total\"})}\n            precision={totalPrecision}\n            error={quoteError}\n            approximate={`$ ${utils.asLegalMoney(buyTotal, quoteToken, 'USD')}`}\n            unit={quoteToken}\n            value={buyTotal}\n            onChange={e => {\n              let total = e.target.value\n              let amount = buyPrice ? (new BigNumber(total || 0) / new BigNumber(buyPrice)) : 0\n              updatePlaceOrder({\n                buyAmount: total >= available ? _.floor(amount, amountPrecision) : _.ceil(amount, amountPrecision),\n                // 不能用 total，会导致输入框的 0 不能删除。\n                buyTotal: total\n              })\n            }}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex variant=\"flexCenter\" mt={11} justifyContent=\"space-between\" >\n        {\n          percentPositins.map(percent => (\n            <Text key={percent} width={'23%'} height={22} lineHeight={'22px'}\n              sx={{\n                bg: 'rgba(255, 255, 255, 0.05)',\n                color:\"hint\",\n                cursor: 'pointer',\n                textAlign: 'center',\n                borderRadius: '2px'\n              }}\n              onClick={() => {\n                let total = available * percent\n                let amount = buyPrice ? (new BigNumber(total || 0) / new BigNumber(buyPrice)) : 0\n                updatePlaceOrder({\n                  buyAmount: total >= available ? _.floor(amount, amountPrecision) : _.ceil(amount, amountPrecision),\n                  // 不能用 total，会导致输入框的 0 不能删除。\n                  buyTotal: total >= available ? _.floor(total, totalPrecision) : _.ceil(total, totalPrecision),\n                })\n              }}\n            >\n              {numeral(percent).format('0%')}\n            </Text>\n          ))\n        }\n        </Flex>\n        <BillPreCheck disabled={buyTotal && (!!baseError || !!quoteError)} onSuccess={() => {\n          placeBuyOrder()\n        }} depth={1}>\n          {/* <Popover content={error} trigger={error ? \"hover\" : '' }> */}\n            <Box mt={11} height={30} bg=\"success\" sx={{\n                borderRadius: '3px',\n                cursor: 'pointer'\n              }}\n              textAlign=\"center\" lineHeight=\"30px\" fontSize={2} fontWeight=\"bold\">\n              {signined ? `${intl.formatMessage({id: 'buy'})}${baseToken}` : `${intl.formatMessage({id: 'placeOrder.hint.loginAndTrade'})}`}\n            </Box>\n          {/* </Popover> */}\n        </BillPreCheck>\n      </Flex>\n    )\n  }\n\n  renderLimitSaleArea (baseMin, quoteMin, available) {\n    let { markets, intl } = this.props\n    let currentMarket = markets.currentMarket\n    if (!currentMarket) return <></>\n\n    let { baseToken, quoteToken, pricePrecision, amountPrecision, totalPrecision } = currentMarket\n    let { placeOrder: { sellPrice, sellAmount, sellTotal }, updatePlaceOrder, placeSellOrder } = this.props\n    let signined = utils.checkLogined()\n\n    let baseError = null\n    if (sellAmount) {\n      baseMin = Number(baseMin)\n      available = Number(available)\n      // 不能给 sellAmount 直接赋值，会导致无法再输入小数点。\n      // sellAmount = Number(sellAmount)\n      let amount = Number(sellAmount)\n      if (amount < baseMin) {\n        baseError = intl.formatMessage({id: 'placeOrder.hint.baseLessThanMin'}, { min: baseMin, baseToken })\n      } else if (amount > available) {\n        baseError = intl.formatMessage({id: 'placeOrder.hint.moreThanAvalable'}, { available, token: baseToken })\n      }\n    }\n\n    let quoteError = null\n    if (sellTotal) {\n      quoteMin = Number(quoteMin)\n      // 不能给buyTotal直接赋值，会导致无法再输入小数点。\n      // buyTotal = Number(buyTotal)\n      let total = Number(sellTotal)\n      if (total < quoteMin) {\n        quoteError = intl.formatMessage({id: 'placeOrder.hint.quoteLessThanMin'}, { min: quoteMin, quoteToken })\n      }\n    }\n\n    return (\n      <Flex flexDirection=\"column\" flex={1} px={13} pb={10}>\n        <Flex mt={'7px'} alignItems=\"center\">\n          <CoinInput\n            label={intl.formatMessage({id: \"placeOrder.input.label.sellPrice\"})}\n            precision={pricePrecision}\n            value={sellPrice}\n            approximate={`$ ${utils.asLegalMoney(sellPrice, quoteToken, 'USD')}`}\n            onChange={e => {\n              let price = e.target.value\n              let sellTotal = (new BigNumber(sellAmount || 0)).times(new BigNumber(price || 0))\n              updatePlaceOrder({\n                // 不能用 price，会导致输入框的 0 不能删除。\n                sellPrice: price,\n                sellTotal: sellTotal.toFixed(totalPrecision)\n              })\n            }}\n            unit={quoteToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex mt={'7px'} alignItems=\"center\">\n          <CoinInput\n            label={intl.formatMessage({id: \"placeOrder.input.label.sellSize\"})}\n            precision={amountPrecision}\n            error={baseError}\n            value={sellAmount}\n            onChange={e => {\n              let amount = e.target.value\n              let total = (new BigNumber(amount || 0)).times(new BigNumber(sellPrice || 0))\n              updatePlaceOrder({\n                // 不能用 amount，会导致输入框的 0 不能删除。\n                sellAmount: amount,\n                sellTotal: total.toFixed(totalPrecision),\n              })\n            }}\n            unit={baseToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex mt={'7px'} alignItems=\"center\">\n          <CoinInput\n            label={intl.formatMessage({id: \"placeOrder.input.label.total\"})}\n            precision={totalPrecision}\n            error={quoteError}\n            approximate={`$ ${utils.asLegalMoney(sellTotal, quoteToken, 'USD')}`}\n            unit={quoteToken}\n            value={sellTotal}\n            onChange={e => {\n              let total = e.target.value\n              let amount = sellPrice ? (new BigNumber(total || 0) / new BigNumber(sellPrice)) : 0\n              updatePlaceOrder({\n                sellAmount: total >= available ? _.floor(amount, amountPrecision) : _.ceil(amount, amountPrecision),\n                // 不能用 total，会导致输入框的 0 不能删除。\n                sellTotal: total\n              })\n            }}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex variant=\"flexCenter\" mt={11} justifyContent=\"space-between\" >\n        {\n          percentPositins.map(percent => (\n            <Text key={percent} width={'23%'} height={22} lineHeight={'22px'}\n              sx={{\n                bg: 'rgba(255, 255, 255, 0.05)',\n                color:\"hint\",\n                cursor: 'pointer',\n                textAlign: 'center',\n                borderRadius: '2px'\n              }}\n              onClick={() => {\n                let amount = available * percent\n                let total = (new BigNumber(amount || 0)).times(new BigNumber(sellPrice || 0))\n                updatePlaceOrder({\n                  // 不能用 amount，会导致输入框的 0 不能删除。\n                  sellAmount: _.floor(amount, amountPrecision),\n                  sellTotal: total.toFixed(totalPrecision),\n                })\n              }}\n            >\n            {numeral(percent).format('0%')}\n            </Text>\n          ))\n        }\n        </Flex>\n        {/* 有值，且有错误 */}\n        <BillPreCheck disabled={sellAmount && (!!baseError || !!quoteError)} onSuccess={() => placeSellOrder()} depth={1}>\n          {/* <Popover content={error} trigger={error ? \"hover\" : '' }> */}\n            <Box mt={11} height={30} bg=\"failure\" sx={{\n                borderRadius: '3px',\n                cursor: 'pointer'\n              }}\n              textAlign=\"center\" lineHeight=\"30px\" fontSize={2} fontWeight=\"bold\">\n              {signined ? `${intl.formatMessage({id: 'sell'})}${baseToken}` : `${intl.formatMessage({id: 'placeOrder.hint.loginAndTrade'})}`}\n            </Box>\n          {/* </Popover> */}\n        </BillPreCheck>\n      </Flex>\n    )\n  }\n\n  renderMarketBuyArea (available) {\n    let { markets, depth, currentPrecision } = this.props\n    let currentMarket = markets.currentMarket\n    if (!currentMarket) return <></>\n\n    let { baseToken, quoteToken } = currentMarket\n    let { placeOrder: { marketBuyTotal }, updatePlaceOrder, placeBuyOrder } = this.props\n\n    return (\n      <Flex flexDirection=\"column\" flex={1} px={13} pb={10} pt={'3px'}>\n        <Flex mt={'8px'} alignItems=\"center\">\n          <Text color=\"hint\" width={50}>买入价</Text>\n          <CoinInput\n            disabled={true}\n            value={'以市价上最优价格买入'}\n            unit={quoteToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex mt={'8px'} alignItems=\"center\">\n          <Text color=\"hint\" width={50}>交易额</Text>\n          <CoinInput\n            approximate={`$ 0.0`}\n            value={marketBuyTotal}\n            onChange={e => updatePlaceOrder({marketBuyTotal: e.target.value})}\n            unit={quoteToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex variant=\"flexCenter\" mt={9} ml={40} >\n        {\n          percentPositins.map(percent => (\n            <Flex key={percent} height={18} variant=\"flexCenter\" lineHeight={'18px'} px={'6px'} py={'2px'}\n              sx={{\n                // background: '#141e32',\n                // borderRadius: '2px',\n                color:\"hint\",\n                cursor: 'pointer'\n              }}\n              onClick={() => {\n                let marketBuyTotal = (available * percent).toFixed(6)\n                updatePlaceOrder({ marketBuyTotal })\n              }}\n            >\n            {numeral(percent).format('0%')}\n            </Flex>\n          ))\n        }\n        </Flex>\n        <BillPreCheck onSuccess={() => placeBuyOrder()} depth={1}>\n          <Box mt={9} ml={40} height={34} bg=\"success\" sx={{\n              borderRadius: '3px',\n              cursor: 'pointer'\n            }}\n            textAlign=\"center\" lineHeight=\"34px\" fontSize={2} fontWeight=\"bold\">\n            买入{baseToken}\n          </Box>\n        </BillPreCheck>\n      </Flex>\n    )\n  }\n\n  renderMarketSaleArea (available) {\n    let { markets, depth, currentPrecision } = this.props\n    let currentMarket = markets.currentMarket\n    if (!currentMarket) return <></>\n\n    let { baseToken, quoteToken } = currentMarket\n    let { placeOrder: { marketSellAmount }, updatePlaceOrder, placeSellOrder } = this.props\n\n    return (\n      <Flex flexDirection=\"column\" flex={1} px={13} pb={10} pt={'3px'}>\n        <Flex mt={'8px'} alignItems=\"center\">\n          <Text color=\"hint\" width={50}>卖出价</Text>\n          <CoinInput\n            disabled={true}\n            value={'以市价上最优价格卖出'}\n            onChange={e => updatePlaceOrder({sellPrice: e.target.value})}\n            unit={quoteToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex mt={'8px'} alignItems=\"center\">\n          <Text color=\"hint\" width={50}>卖出量</Text>\n          <CoinInput\n            value={marketSellAmount}\n            onChange={e => updatePlaceOrder({marketSellAmount: e.target.value})}\n            unit={baseToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex variant=\"flexCenter\" mt={9} ml={40} >\n        {\n          percentPositins.map(percent => (\n            <Text key={percent} height={18} lineHeight={'18px'}\n              sx={{\n                color:\"hint\",\n                cursor: 'pointer'\n              }}\n              onClick={() => {\n                let marketSellAmount = (available * percent).toFixed(6)\n                updatePlaceOrder({ marketSellAmount })\n              }}\n            >\n            {numeral(percent).format('0%')}\n            </Text>\n          ))\n        }\n        </Flex>\n        <BillPreCheck onSuccess={() => placeSellOrder()} depth={1}>\n          <Box mt={9} ml={40} height={34} bg=\"failure\" sx={{\n              borderRadius: '3px',\n              cursor: 'pointer'\n            }}\n            textAlign=\"center\" lineHeight=\"34px\" fontSize={2} fontWeight=\"bold\">\n            卖出{baseToken}\n          </Box>\n        </BillPreCheck>\n      </Flex>\n    )\n  }\n\n  getMinTradeValue (symbol) {\n    let { tokens } = this.props\n    let token = _.find(tokens.list, token => token.symbol.toLowerCase() === symbol.toLowerCase()) || {}\n    return token.minTradeValue || 0\n  }\n\n  render() {\n    let { markets: { currentMarket }, balance: { list: balances }, dexAccount: { passwordHash }, intl } = this.props\n    if (!currentMarket) return <></>\n\n    const tabs = [\n      { text: intl.formatMessage({id: 'placeOrder.tabs.limitPrice'}), value: 'limitPrice' },\n      // { text: intl.formatMessage({id: 'placeOrder.tabs.marketPrice'}), value: 'marketPrice' },\n    ]\n\n    let { baseToken, quoteToken, pricePrecision, amountPrecision } = currentMarket\n    let baseBalance = _.find(balances, balance => balance.token.symbol === baseToken)\n    let quoteBalance = _.find(balances, balance => balance.token.symbol === quoteToken)\n    let availBase = baseBalance ? baseBalance.availAmount : 0\n    let availQuote = quoteBalance ? quoteBalance.availAmount : 0\n\n    let baseMin = this.getMinTradeValue(baseToken)\n    let quoteMin = this.getMinTradeValue(quoteToken)\n\n    return (\n      <Box>\n        <TabNav tabs={tabs} onChange={tab => this.setState({activeTab: tab.value})}>\n          <Box flex={1}></Box>\n          <Text color=\"hint\"><FormattedMessage id=\"placeOrder.title.available\" /> {baseToken}: {availBase.toFixed(amountPrecision)}</Text>\n          <Text color=\"hint\" ml={20}><FormattedMessage id=\"placeOrder.title.available\" /> {quoteToken}: {availQuote.toFixed(pricePrecision)}</Text>\n          <Text mx={15} color=\"blue\" onClick={() => {\n            if (!passwordHash) {\n              notification.info({ message: intl.formatMessage({id: 'placeOrder.notify.needLogin'}) })\n              return\n            }\n            TransferModal()\n          }}\n            sx={{ cursor: 'pointer' }}\n          >\n            <FormattedMessage id=\"placeOrder.operations.transfer\" />\n          </Text>\n        </TabNav>\n        {\n          utils.renderIf(this.state.activeTab === 'limitPrice')(\n            <Flex bg=\"backgroundTint\" height={203}>\n              {this.renderLimitBuyArea(baseMin, quoteMin, availQuote)}\n              {this.renderLimitSaleArea(baseMin, quoteMin, availBase)}\n            </Flex>\n          )\n        }\n        {\n          utils.renderIf(this.state.activeTab === 'marketPrice')(\n            <Flex bg=\"backgroundTint\" height={203}>\n              {this.renderMarketBuyArea(availQuote)}\n              {this.renderMarketSaleArea(availBase)}\n            </Flex>\n          )\n        }\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ placeOrder, markets, balance, dexAccount, rate, tokens }) => {\n  return {\n    placeOrder,\n    markets,\n    balance,\n    dexAccount,\n    rate,\n    tokens\n  };\n};\n\nconst mapDispatchToProps = ({ placeOrder }) => {\n  return {\n    placeBuyOrder: placeOrder.placeBuyOrder,\n    placeSellOrder: placeOrder.placeSellOrder,\n    updatePlaceOrder: placeOrder.update\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PlaceOrder);","import _ from 'lodash'\nimport moment from 'moment'\nimport React from 'react';\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport { connect } from 'react-redux';\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Table, Tooltip, Divider, Checkbox, Menu, Dropdown, Icon } from 'antd';\nimport { TabNav } from './Common'\nimport { TransferModal } from 'widgets/Dialog'\nimport { ENUM_ORDER_STATUS } from 'utils/enum'\nimport utils, { notification } from 'utils'\nimport { Spin } from 'components'\n\nconst BigNumber = require('bignumber.js');\n\n@injectIntl\nclass MyOrder extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tabValue: 'current',\n      hideSmall: false,\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  onTabChange (tab) {\n    // 前两个 tab 的操作是一样的。\n    if (tab.value === 'current' || tab.value === 'history') {\n      this.props.updateFilterCond({\n        type: tab.value,\n        page: 1,\n        pageSize: 50\n      })\n      this.props.fetchOrders()\n    } else if (tab.value === 'balance') {\n      // 我的资产的 tab，拉一下最新的资产。\n      // 币币钱包的是推送的，不用获取。\n      this.props.fetchWalletBalances()\n    }\n    this.setState({tabValue: tab.value})\n  }\n\n  onChangeShowAll (e) {\n    // 避免 onchange 事件进一步冒泡到 tab 的同名事件。\n    e.stopPropagation()\n    this.props.updateFilterCond({\n      allMarket: e.target.checked,\n      page: 1,\n      pageSize: 50\n    })\n    this.props.fetchOrders()\n  }\n\n  genOrderColumns () {\n    let { intl, order, cancelAnOrders, fetchOrders } = this.props\n\n    let columns = [\n      {\n        align: 'left',\n        title: intl.formatMessage({id: 'timestamp'}),\n        dataIndex: 'createdAt',\n        width: 100,\n        render: (unused, row) => {\n          return (<Text>{moment(row.createdAt).format('MM-DD HH:mm')}</Text>)\n        }\n      },\n      {\n        align: 'left',\n        title: intl.formatMessage({id: 'exchangePair'}),\n        dataIndex: 'market',\n        width: 90,\n        render: (market, row) => {\n          let [baseSymbol, quoteSymbol] = market.split('-')\n          return (<Flex>{baseSymbol}<Text color=\"hint\">/{quoteSymbol}</Text></Flex>)\n        }\n      },\n      {\n        align: 'center',\n        title: intl.formatMessage({id: 'side'}),\n        dataIndex: 'side',\n        width: 30,\n        render: (unused, row) => {\n          return (\n            <Text color={row.side === 'BUY' ? \"success\" : \"failure\"}>\n              {/* 'BUY' */}\n              <FormattedMessage id={_.toLower(row.side)}/>\n            </Text>\n          )\n        }\n      },\n      {\n        align: 'right',\n        title: `${intl.formatMessage({id: 'myOrder.list.header.avgPrice'})} | ${intl.formatMessage({id: 'myOrder.list.header.price'})}`,\n        dataIndex: 'price',\n        width: 150,\n        render: (price, row) => (\n          <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n            {row.avgPrice}<Text px=\"2px\" color=\"#646478\">|</Text>{price}\n          </Flex>\n        )\n      },\n      {\n        align: 'right',\n        title: `${intl.formatMessage({id: 'myOrder.list.header.filledSize'})} | ${intl.formatMessage({id: 'myOrder.list.header.size'})}`,\n        dataIndex: 'filledSize',\n        width: 150,\n        render: (filledSize, row) => (\n          // <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n          //   <Text mr={'4px'}>{filledSize}</Text>\n          //   <Divider style={{position: 'unset', background: '#646478', margin: '0 2px'}} type=\"vertical\" />\n          //   <Text width={34} >{row.filled}</Text>\n          // </Flex>\n          <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n            {filledSize}<Text px=\"2px\" color=\"#646478\">|</Text>{row.size}\n          </Flex>\n        )\n      },\n      {\n        align: 'right',\n        title: intl.formatMessage({id: 'myOrder.list.header.filledVolume'}),\n        dataIndex: 'filledVolume',\n        width: 110,\n        render: filledVolume => (\n          <Text>{filledVolume}</Text>\n        )\n      },\n    ];\n\n    if (order.cond.type === 'current') {\n      columns.push({\n        align: 'right',\n        title: intl.formatMessage({id: 'operations'}),\n        dataIndex: '',\n        key: 'ops',\n        width: 80,\n        render: (unused, row) => (\n          <Text color={row.filled === '100%' ? 'hint' : 'blue'} sx={{ cursor: row.filled !== '100%' && 'pointer' }} onClick={async () => {\n            if (row.filled === '100%') return\n            await cancelAnOrders(row)\n            notification['success']({\n              message: intl.formatMessage({id: 'myOrder.notify.cancelSuccess'}),\n            })\n            fetchOrders()\n          }}>\n            <FormattedMessage id=\"myOrder.operations.cancel\" />\n          </Text>\n        )\n      })\n    } else {\n      columns.push({\n        align: 'right',\n        title: `状态`,\n        dataIndex: 'status',\n        key: 'ops',\n        width: 80,\n        render: (status, row) => (\n          <Text>\n            <FormattedMessage id={`enum.orderStatus.${status}`} />\n          </Text>\n        )\n      })\n    }\n    return columns\n  }\n\n  genBalanceColumns () {\n    let { intl, order, cancelAnOrders, fetchOrders } = this.props\n\n    let columns = [\n      {\n        title: intl.formatMessage({id: 'myOrder.list.header.coinType'}),\n        dataIndex: 'tokenId',\n        key: 'tokenId',\n        width: 140,\n        render: (unused, record) => {\n          return (\n            <Flex>\n              <Text>{record.token.symbol}</Text>\n              <Text color=\"#969696\">({record.token.name})</Text>\n            </Flex>\n          )\n        },\n      },\n      {\n        title: intl.formatMessage({id: 'myOrder.list.header.wallet'}),\n        dataIndex: 'walletAmount',\n        key: 'walletAmount',\n        width: 120,\n        render: (walletAmount, record) => {\n          return <Text>{utils.toTokenPrecision(walletAmount, record.token.symbol)}</Text>\n        },\n      },\n      {\n        title: intl.formatMessage({id: 'myOrder.list.header.availAmount'}),\n        dataIndex: 'availAmount',\n        key: 'availAmount',\n        width: 120,\n        render: (availAmount, record) => {\n          return <Text>{utils.toTokenPrecision(availAmount, record.token.symbol)}</Text>\n        },\n      },\n      {\n        title: intl.formatMessage({id: 'myOrder.list.header.amountLocked'}),\n        dataIndex: 'amountLocked',\n        key: 'amountLocked',\n        width: 120,\n        render: (amountLocked, record) => {\n          return <Text>{utils.toTokenPrecision(amountLocked, record.token.symbol)}</Text>\n        },\n      },\n      {\n        title: intl.formatMessage({id: 'myOrder.list.header.total'}),\n        dataIndex: 'total',\n        key: 'total',\n        width: 120,\n        render: (total, record) => {\n          return <Text>{utils.toTokenPrecision(total, record.token.symbol)}</Text>\n        },\n      },\n      {\n        align: 'right',\n        title: intl.formatMessage({id: 'operations'}),\n        dataIndex: '',\n        key: 'ops',\n        width: 120,\n        render: (unused, record) => (\n          <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n            <Text color=\"#0078FF\"\n              sx={{ cursor: 'pointer' }}\n              onClick={() => TransferModal({\n                initialSymbol: record.symbol,\n                initialType: 'deposit',\n              })}\n            >\n              <FormattedMessage id=\"deposit\" />\n            </Text>\n            <Divider type=\"vertical\" style={{background: 'rgba(255,255,255,0.2)'}} />\n            <Text color=\"#0078FF\"\n              sx={{ cursor: 'pointer' }}\n              onClick={() => TransferModal({\n                initialSymbol: record.token.symbol,\n                initialType: 'withdraw',\n              })}\n            >\n              <FormattedMessage id=\"withdraw\" />\n            </Text>\n          </Flex>\n        )\n      }\n    ];\n    return columns\n  }\n\n  genBalanceData () {\n    let { balance, walletBalance, intl } = this.props\n    let { hideSmall } = this.state\n\n    let merged = balance.list.map(item => {\n      let walletToken = _.find(walletBalance.list, b => b.symbol === item.token.symbol)\n      item.walletAmount = walletToken ? walletToken.amount : 0\n      item.total = item.walletAmount + item.totalAmount\n      return item\n    })\n\n    if (hideSmall) {\n      // 10usdt\n      merged = _.reject(merged, item => {\n        let usd = utils.asLegalMoney(Number(item.total), item.token.symbol)\n        return usd < 10\n      })\n    }\n    return merged\n  }\n\n  render() {\n    let { intl, order, cancelAllOrders } = this.props\n    let { tabValue } = this.state\n\n    const tabs = [\n      { text: intl.formatMessage({id: 'myOrder.tabs.current'}), value: 'current' },\n      { text: intl.formatMessage({id: 'myOrder.tabs.history'}), value: 'history' },\n      { text: intl.formatMessage({id: 'myOrder.tabs.balance'}), value: 'balance' },\n    ]\n\n    const filters = [\n      { text: intl.formatMessage({id: 'myOrder.filters.all'}), value: 'ALL' },\n      { text: intl.formatMessage({id: 'myOrder.filters.processed'}), value: 'PROCESSED' },\n      { text: intl.formatMessage({id: 'myOrder.filters.cancelled'}), value: 'CANCELLED' },\n    ]\n\n    // 组装列元数据\n    let columns = []\n    if (tabValue !== 'balance') {\n      columns = this.genOrderColumns()\n    } else {\n      columns = this.genBalanceColumns()\n    }\n\n    // 组装 table 数据\n    let tableData = tabValue === 'balance' ? this.genBalanceData() : order.list\n\n    return (\n      <Flex {...this.props} flexDirection=\"column\">\n        <TabNav tabs={tabs} onChange={tab => this.onTabChange(tab)}>\n          <Box flex={1}></Box>\n          {\n            utils.renderIf(tabValue !== 'balance')(\n              <Checkbox className=\"all-paire-type\"\n                checked={order.cond.allMarket}\n                onChange={e => this.onChangeShowAll(e)}\n              >\n                <FormattedMessage id=\"myOrder.operations.showAll\"/>\n              </Checkbox>\n            )\n          }\n          {\n            utils.renderIf(tabValue !== 'balance' && order.cond.type === 'current')(\n              <Text px={10} textAlign=\"right\" color=\"blue\" onClick={() => cancelAllOrders()}\n                sx={{ cursor: 'pointer' }}\n              >\n                <FormattedMessage id=\"myOrder.operations.cancelLatest\"/>\n              </Text>\n            )\n          }\n          {\n            utils.renderIf(tabValue !== 'balance' && order.cond.type === 'history')(\n              <Dropdown overlay={\n                  <Menu onClick={({key: index}) => {\n                    let historyStatus = filters[index].value\n                    this.props.updateFilterCond({\n                      historyStatus,\n                      page: 1,\n                      pageSize: 50\n                    })\n                    this.props.fetchOrders()\n                  }}>\n                  {\n                    filters.map((menu, index) => (\n                      <Menu.Item key={index}>\n                        <Text fontSize={[0, 0, 0]} color='hint'>{ menu.text }</Text>\n                      </Menu.Item>\n                    ))\n                  }\n                  </Menu>\n                }\n                placement=\"bottomCenter\" overlayClassName=\"nav-menu\"\n              >\n                <Flex width={`100px`} px={10} justifyContent=\"flex-end\" height={40} lineHeight={'40px'} alignItems=\"center\">\n                  {_.find(filters, {value: order.cond.historyStatus}).text}<Icon type=\"caret-down\" />\n                </Flex>\n              </Dropdown>\n            )\n          }\n          {\n            utils.renderIf(tabValue === 'balance')(\n              <Checkbox className=\"all-paire-type\"\n                checked={this.state.hideSmall}\n                onChange={e => {\n                  e.stopPropagation()\n                  this.setState({hideSmall: e.target.checked})\n                }}\n              >\n                <FormattedMessage id=\"mine.balance.operations.hideSmall\"/>\n              </Checkbox>\n            )\n          }\n        </TabNav>\n        <Flex bg=\"backgroundTint\" px={15} flex={1}>\n          <Spin spinning={order.loading}>\n            <Table rowKey=\"hash\" columns={columns} dataSource={tableData} align=\"right\"\n              style={{flex: 1}}\n              // tableLayout=\"auto\"\n              className=\"exchange-table\"\n              pagination={false}\n              scroll={{ y: this.props.height - 70 }}\n              // height={this.props.height - 50}\n              // // locale={{emptyText: intl.formatMessage({id: 'noData'})}}\n            />\n          </Spin>\n        </Flex>\n      </Flex>\n    )\n  }\n}\n\nconst mapStateToProps = ({ order, balance, walletBalance }) => {\n  return {\n    order,\n    balance,\n    walletBalance,\n  };\n};\n\nconst mapDispatchToProps = ({ order, walletBalance }) => {\n  return {\n    updateFilterCond: order.updateFilterCond,\n    fetchOrders: order.fetchOrders,\n    cancelAnOrders: order.cancelAnOrders,\n    cancelAllOrders: () => utils.withLoading(() => order.cancelAllOrders()),\n    fetchWalletBalances: walletBalance.fetchAllBalances,\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MyOrder);","import numeral from 'numeral';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Table, Dropdown, Menu, Icon, Popover } from 'antd'\nimport utils from 'utils'\nimport { Svg, Spin } from 'components'\nimport depthAllIcon from 'icons/depthAll.svg'\nimport depthSellIcon from 'icons/depthSell.svg'\nimport depthBuyIcon from 'icons/depthBuy.svg'\nconst BigNumber = require('bignumber.js');\n\nconst depthTypes = [\n  { key: 'all', icon: depthAllIcon },\n  { key: 'sell', icon: depthSellIcon },\n  { key: 'buy', icon: depthBuyIcon },\n]\n@injectIntl\nclass Depth extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeType: depthTypes[0],\n      hoverPrice: null,\n    }\n  }\n\n  componentDidMount() {\n  }\n  \n  componentWillUnmount() {\n  }\n\n  renderPrecisions () {\n    let precisions = this.props.precisions()\n    return (\n      <Menu onClick={({key}) => {\n        let { markets, setLevel } = this.props\n        let precision = Number(key)\n        let level = markets.currentMarket.pricePrecision - precision\n        setLevel(level)\n      }}>\n      {\n        precisions.map((precision) => (\n          <Menu.Item key={precision}>\n            <Text fontSize={[0, 0, 0]} color='hint'>{ precision }<FormattedMessage id=\"depth.operations.level\"/></Text>\n          </Menu.Item>\n        ))\n      }\n      </Menu>\n    )\n  }\n\n  render() {\n    let { height, markets, depth, trade: { latestPrice, variation }, currentPrecision, order, intl } = this.props\n    let currentMarket = markets.currentMarket\n    if (!currentMarket) return <></>\n\n    let { activeType } = this.state\n    let { key: depthType } = activeType\n    \n    let tableHeight = (height - (40 + 30 + 30)) / 2\n    let scrollHeight = depthType === 'all' ? tableHeight : tableHeight * 2\n\n    let {asks, bids} = depth\n    let max = _.maxBy([...asks, ...bids], item => Number(item.size))\n    let maxSize = max ? max.size : 100\n\n    const columns = [\n      {\n        align: 'left',\n        title: (col) => `${intl.formatMessage({id: 'price'})}(${currentMarket.quoteToken})`,\n        dataIndex: 'price',\n        width: 96,\n        render: (price, row) => (\n          <Text color={row.type === 'ask' ? \"failure\" : \"success\"}>{price}</Text>\n        )\n      },\n      {\n        align: 'right',\n        title: (col) => `${intl.formatMessage({id: 'size'})}(${currentMarket.baseToken})`,\n        dataIndex: 'size',\n        width: 100,\n        render: size => (\n          <Text>{size}</Text>\n        )\n      },\n      {\n        align: 'right',\n        title: (col) => `${intl.formatMessage({id: 'depth.list.header.volume'})}(${currentMarket.quoteToken})`,\n        dataIndex: 'volume',\n        width: 100,\n        render: volume => (\n          <Text>{volume}</Text>\n        )\n      },\n      {\n        align: 'right',\n        title: (col) => `我的持仓`,\n        key: 'myOrder',\n        width: 105,\n        render: ({price}) => {\n          let { processingList } = order\n          let sumSize = _.chain(processingList)\n            .filter({price})\n            .reduce((sum, o) => {\n              let unfilled = Number(o.size) - Number(o.filledSize)\n              sum += unfilled\n              return sum\n            }, 0)\n            .value()\n          return (\n            <Text>{sumSize.toFixed(currentMarket.amountPrecision)}</Text>\n          )\n        }\n      },\n      {\n        // dataIndex: 'size',\n        width: 0,\n        key: 'popover',\n        className: 'col-percentage',\n        render: (size, row) => {\n          const content = (\n            <Box width={200} bg=\"#32374B\" color=\"rgba(255,255,255,0.75)\">\n              <Flex justifyContent=\"space-between\">\n                <Box>均价:</Box>\n                <Box>≈{(row.sumVolume / row.sumSize).toFixed(currentMarket.pricePrecision)}</Box>\n              </Flex>\n              <Flex mt=\"8px\" justifyContent=\"space-between\">\n                <Box>合计{currentMarket.baseToken}:</Box>\n                <Box>{row.sumSize}</Box>\n              </Flex>\n              <Flex mt=\"8px\" justifyContent=\"space-between\">\n                <Box>合计{currentMarket.quoteToken}:</Box>\n                <Box>{row.sumVolume}</Box>\n              </Flex>\n            </Box>\n          )\n          return (\n            <Popover content={content} trigger={\"click\"} placement=\"left\" mouseEnterDelay={0} mouseLeaveDelay={0}\n              visible={row.price === this.state.hoverPrice}\n              overlayStyle={{}}\n              prefixCls=\"depth-popover ant-popover\"\n            >\n              <Box sx={{\n                position: \"absolute\",\n                left: '0',\n                right: '0',\n                height: '18px',\n                opacity: 0\n              }}>\n              </Box>\n            </Popover>\n          )\n        }\n      },\n      {\n        // dataIndex: 'size',\n        width: 0,\n        key: 'background',\n        className: 'col-percentage',\n        render: (size, row) => (\n          <Box sx={{\n            height: '18px',\n            [`border${row.type === 'ask' ? 'Top' : 'Bottom'}`]: row.price === this.state.hoverPrice ? '1px dashed rgba(50,55,75,1)' : null\n          }}>\n            <Box sx={{\n              position: \"absolute\",\n              right: '0',\n              width: numeral(row.size / maxSize).format('0%'),\n              height: '18px',\n            }}>\n              <Box bg={row.type === 'ask' ? \"#F0505A\" : \"#50BE8C\"} sx={{\n                // position: \"relative\",\n                // bottom: '9px',\n                height: '100%',\n                opacity: 0.15,\n              }}></Box>\n            </Box>\n          </Box>\n        )\n      },\n    ];\n\n    const onRowEvent = record => {\n      return {\n        onClick: event => {\n          let { type, price, sumSize } = record\n          let total = (new BigNumber(price).times(new BigNumber(sumSize))).toFixed(currentMarket.totalPrecision)\n          this.props.updatePlaceOrder({\n            buyPrice: record.price,\n            // buyAmount: type === 'ask' ? sumSize : null,\n            // buyTotal: type === 'ask' ? total : null,\n            buyAmount: sumSize,\n            buyTotal: total,\n            marketBuyTotal: null,\n          })\n          this.props.updatePlaceOrder({\n            sellPrice: record.price,\n            // sellAmount: type === 'bid' ? sumSize : null,\n            // sellTotal: type === 'bid' ? total : null,\n            sellAmount: sumSize,\n            sellTotal: total,\n            marketSellAmount: null,\n          })\n        },\n        onMouseEnter: event => {\n          this.setState({hoverPrice: record.price})\n        },\n        onMouseLeave: event => {\n          this.setState({hoverPrice: null})\n        },\n      }\n    }\n\n    return (\n      <Box width={this.props.width}>\n        <Flex px={14} height={40} alignItems=\"center\" justifyContent=\"flex-start\">\n          <Text fontSize={0} fontWeight=\"bolder\"><FormattedMessage id=\"depth.title\"/></Text>\n          <Flex ml={'5px'}>\n            {\n              depthTypes.map(type => (\n                <Flex key={type.key} width={16} height={14} mx={'4px'} variant=\"flexCenter\" sx={{\n                    borderRadius: '2px',\n                    border: `1px solid ${this.state.activeType === type ? '#0064FF' : '#32374b'}`,\n                    cursor: 'pointer',\n                  }}\n                  onClick={() => {\n                    this.setState({ activeType: type })\n                    this.props.scrollSellTable()\n                  }}\n                >\n                  <Image width={10} height={6} src={type.icon} />\n                </Flex>\n              ))\n            }\n          </Flex>\n          <Box flex={1}></Box>\n          <Dropdown overlay={this.renderPrecisions()} placement=\"bottomCenter\" overlayClassName=\"nav-menu\">\n            <Flex height={40} lineHeight={'40px'} alignItems=\"center\">\n              {currentPrecision()}<FormattedMessage id=\"depth.operations.level\"/>\n              <Icon type=\"caret-down\" />\n            </Flex>\n          </Dropdown>\n        </Flex>\n        <Flex height={30} alignItems=\"center\" px={14}>\n          <Box fontSize=\"12\" lineHeight={`20px`} color=\"#646478\" flex={1}>{`${intl.formatMessage({id: 'price'})}(${currentMarket.quoteToken})`}</Box>\n          <Box fontSize=\"12\" lineHeight={`20px`} color=\"#646478\" width={105} textAlign=\"right\">{`${intl.formatMessage({id: 'size'})}(${currentMarket.baseToken})`}</Box>\n          <Box fontSize=\"12\" lineHeight={`20px`} color=\"#646478\" width={105} textAlign=\"right\">{`${intl.formatMessage({id: 'depth.list.header.volume'})}(${currentMarket.quoteToken})`}</Box>\n          <Box fontSize=\"12\" lineHeight={`20px`} color=\"#646478\" width={105} textAlign=\"right\">{`我的持仓`}</Box>\n        </Flex>\n        {\n          utils.renderIf(depthType === 'all' || depthType === 'sell')(\n            <Box px={14}>\n              <Spin spinning={depth.loading}>\n                <Table rowKey=\"price\" px={14} columns={columns} dataSource={depth.asks} onRow={onRowEvent} align=\"right\"\n                  className=\"exchange-table sell-table\"\n                  pagination={false}\n                  scroll={{ y: scrollHeight }}\n                  style={{ height: scrollHeight }}\n                  showHeader={false}\n                  // locale={{emptyText: intl.formatMessage({id: 'noData'})}}\n                />\n              </Spin>\n            </Box>\n          )\n        }\n        <Flex px={14} height={30} fontWeight=\"bold\" bg=\"backgroundTint\" alignItems=\"center\">\n          <Text mr={'8px'} fontSize={'16px'} color={variation >= 0 ? 'success' : 'failure'}>{latestPrice}</Text>\n          <Svg color={variation >= 0 ? '#50BE8c' : '#F0505A'} icon={variation >= 0 ? 'icon-arrow-up' : 'icon-arrow-down'} size=\"25px\"></Svg>\n          <Text ml={'8px'} fontSize={'16px'} color=\"#3c3c50\">≈$ {utils.asLegalMoney(latestPrice, currentMarket.quoteToken, 'USD')}</Text>\n        </Flex>\n        {\n          utils.renderIf(depthType === 'all' || depthType === 'buy')(\n            <Box px={14}>\n              <Spin spinning={depth.loading}>\n                <Table rowKey=\"price\" px={14} columns={columns} dataSource={depth.bids} onRow={onRowEvent} align=\"right\" \n                  className=\"exchange-table\"\n                  pagination={false}\n                  scroll={{ y: scrollHeight }}\n                  showHeader={false}\n                  style={{ height: scrollHeight }}\n                  // locale={{emptyText: intl.formatMessage({id: 'noData'})}}\n                />\n              </Spin>\n            </Box>\n          )\n        }\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ markets, depth, trade, rate, order }) => {\n  return {\n    markets,\n    depth,\n    trade,\n    rate,\n    order,\n    precisions: () => {\n      let market = markets.currentMarket\n      if (!market) return []\n\n      let { pricePrecision, maxLevel } = market\n      return _.range(pricePrecision, pricePrecision - maxLevel)\n    },\n    currentPrecision: () => {\n      if (!markets.currentMarket) return 0\n      return markets.currentMarket.pricePrecision - depth.level\n    }\n  };\n};\n\nconst mapDispatchToProps = ({ depth, placeOrder }) => {\n  return {\n    setLevel: depth.setLevel,\n    scrollSellTable: depth.scrollSellTable,\n    updatePlaceOrder: placeOrder.update\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Depth);","import moment from 'moment'\nimport _ from 'lodash'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text,\n} from 'rebass'\nimport { Table, Input, Icon } from 'antd';\nimport awardIcon from 'icons/award.png';\nimport wedexLogoVertical from 'icons/wedexLogoVertical.png';\n\n@injectIntl\nclass Widget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n    })\n  }\n\n  render() {\n    let { appState: {awardInfo}, dexAccount, closeAward, markRead, intl } = this.props\n    if (!awardInfo.visible) return <></>\n    return (\n      <Flex variant=\"flexCenter\" sx={{\n        position: 'fixed',\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        margin: 'auto',\n        backgroundImage: `url(${awardIcon})`,\n        backgroundSize: 'contain',\n        backgroundPosition: 'center',\n        width: 375 * 1.4,\n        height: 515 * 1.4,\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        zIndex: 999\n      }} >\n        {/* <Image src={awardIcon} width={300} /> */}\n        <Image mt={262} src={wedexLogoVertical} size={45} />\n        <Text fontSize={14} mt={'8px'} color=\"black\" fontWeight={700}>\n          {intl.formatMessage({ id: 'modal.eggAward.congratulation' })}\n        </Text>\n        <Text fontSize={20} color=\"red\" fontWeight={700}>{awardInfo.amount}{awardInfo.unit}</Text>\n        <Flex variant=\"flexCenter\" color=\"hint\" sx={{\n          borderTop: '1px dashed #646478',\n          flexDirection: 'column'\n        }}>\n          <Text mt={2}>{intl.formatMessage({ id: 'modal.eggAward.congratulation' })}</Text>\n          <Text mt={0}>{`${_.take(dexAccount.address, 10).join('')}......${_.takeRight(dexAccount.address, 10).join('')}`}</Text>\n          <Text mt={0}>\n            {intl.formatMessage({ id: 'modal.eggAward.createdAt' })}:{moment(awardInfo.createdAt).format('YYYY-MM-DD HH:mm:ss')}\n          </Text>\n        </Flex>\n        <Box sx={{\n            position: 'absolute',\n            right: 100,\n            top: 100,\n            border: '1px solid #646478',\n            borderRadius: '50%',\n            size: 30,\n            // padding: '3px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            cursor: 'pointer'\n          }} onClick={async () => {\n            await markRead([awardInfo.id])\n            closeAward()\n          }}>\n          <Icon type=\"close\" style={{ fontSize: '15px', width: '15px', height: '15px'}}/>\n        </Box>\n      </Flex>\n    )\n  }\n}\n\nconst mapStateToProps = ({appState, dexAccount}) => {\n  return {\n    appState: appState,\n    dexAccount: dexAccount,\n  };\n};\n\nconst mapDispatchToProps = ({appState, award}) => {\n  return {\n    closeAward: appState.closeAward,\n    markRead: award.markRead\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget);","import React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport {\n  Trade,\n  TVChart,\n  PlaceOrder,\n  MyOrder,\n  Depth,\n  EggAward\n} from 'widgets'\nimport { BillPreCheck } from 'widgets/Common'\nimport utils from 'utils'\n\nconst TOP_NAV_HEIGHT = 50\nconst PLACE_ORDER_HEIGHT = 243\nconst DIVIDER_SIZE = 3\nconst TADEINGVIEW_MIN_HEIGHT = 285\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    // this.billPreCheck = React.createRef();\n    this.state = {\n      windowHeight: 747,\n      largeScreen: false\n    }\n  }\n\n  onWindowResize = function () {\n    const windowHeight = document.body.clientHeight\n    const windowWidth = document.body.clientWidth\n\n    this.setState({\n      windowHeight,\n      largeScreen: windowWidth >= 1920\n    })\n  }.bind(this)\n\n  componentDidMount() {\n    window.addEventListener('resize', this.onWindowResize);\n    this.onWindowResize()\n\n    this.billPreCheck.checkBrowser()\n  }\n  \n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onWindowResize);\n  }\n\n  render() {\n    let { windowHeight } = this.state\n    let bodyHeight = windowHeight - TOP_NAV_HEIGHT - 2 * DIVIDER_SIZE\n    let leftRemainHeight = bodyHeight - DIVIDER_SIZE\n    let rightRemainHeight = bodyHeight - DIVIDER_SIZE\n\n    return (\n      <Flex variant='exchange' width=\"100%\">\n        <Flex flex={1} flexDirection=\"column\">\n          <TVChart height={_.max([leftRemainHeight * 500 / (500 + 200), TADEINGVIEW_MIN_HEIGHT])} />\n          <Box as='hr' variant='divider.exchangeX' />\n          <MyOrder height={_.min([leftRemainHeight * 200 / (500 + 200), leftRemainHeight - TADEINGVIEW_MIN_HEIGHT])} />\n        </Flex>\n        <Box as='hr' variant='divider.exchangeY' />\n        <Flex width={425 + 300 + DIVIDER_SIZE} flexDirection='column'>\n          <Flex >\n            <Depth width={425} height={rightRemainHeight - PLACE_ORDER_HEIGHT} />\n            <Box as='hr' height={rightRemainHeight - PLACE_ORDER_HEIGHT} variant='divider.exchangeY' />\n            <Trade width={300} height={rightRemainHeight - PLACE_ORDER_HEIGHT} px={14} />\n          </Flex>\n          <Box as='hr' variant='divider.exchangeX' />\n          <PlaceOrder />\n        </Flex>\n        <BillPreCheck ref={ref => this.billPreCheck = ref}></BillPreCheck>\n        <EggAward />\n      </Flex>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Home);","import _ from 'lodash'\nimport numeral from 'numeral'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { TransferModal } from 'widgets/Dialog'\nimport utils from 'utils'\nimport { Spin } from 'components'\nimport api from 'api'\n\nimport Chart from 'bizcharts/lib/components/Chart';\nimport Geom from 'bizcharts/lib/components/Geom';\nimport Coord from 'bizcharts/lib/components/Coord';\n\nimport { Tabs, Table, Select, Checkbox, Menu, Dropdown, Divider } from 'antd';\nconst { TabPane } = Tabs;\nconst { Option } = Select;\n\nconst renderChart = _.memoize((overview) => {\n  return (\n    <Chart\n      width={200}\n      height={200}\n      data={overview}\n      padding={[0, 0, 0, 0]}\n      forceFit\n    >\n      <Coord type={\"theta\"} radius={1} innerRadius={0.6} />\n      <Geom\n        type=\"intervalStack\"\n        position=\"percent\"\n        // 不能以 count。因为会被按照 count 的大小排序，而此次是想固定的颜色排序。\n        color={['item', ['#0064FF', '#1890ff']]}\n      >\n      </Geom>\n    </Chart>\n  )\n}, overview => `${overview[0].count}-${overview[1].count}`)\n\n@injectIntl\nclass Widget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filters: {\n        tokenSymbol: '',\n        hideSmall: false,\n      },\n      allMarkets: [],\n      marketOptions: [],\n    }\n  }\n\n  async componentDidMount() {\n    let { markets } = this.props.markets\n\n    // this.props.fetchBalances()\n    this.props.fetchWalletBalances()\n    this.setState({ allMarkets: markets })\n  }\n\n  onChangeTab (key) {\n    if (key === 'dex') {\n      // 这里不用获取，有 socket 推送。\n      // this.props.fetchBalances()\n    } else {\n      this.props.fetchWalletBalances()\n    }\n  }\n\n  renderOverview () {\n    let { dexAccount, balance, walletBalance, intl } = this.props\n    let balanceTotal = _.reduce(balance.list, (total, item) => {\n      let usd = utils.asLegalMoney(Number(item.totalAmount), item.token.symbol, 'USD')\n      return total + Number(usd)\n    }, 0)\n    let walletBalanceTotal = _.reduce(walletBalance.list, (total, item) => {\n      let usd = utils.asLegalMoney(Number(item.amount), item.symbol, 'USD')\n      return total + Number(usd)\n    }, 0)\n    let total = balanceTotal + walletBalanceTotal\n\n    const overview = [\n      {\n        item: intl.formatMessage({id: 'mine.balance.tab.wallet'}),\n        count: walletBalanceTotal,\n        percent: total ? walletBalanceTotal / total * 100 : 0,\n      },\n      {\n        item: intl.formatMessage({id: 'mine.balance.tab.exchange'}),\n        count: balanceTotal,\n        percent: total ? balanceTotal / total * 100: 0,\n      },\n    ];\n    return (\n      <Flex>\n        <Box size={200} mr={60} mb={90}>\n          { renderChart(overview) }\n        </Box>\n        <Flex flexDirection=\"column\" flex={1}>\n          <Text color=\"#323232\" fontSize={20} fontWeight=\"bolder\">\n            <FormattedMessage id='mine.balance.overview.total' />\n          </Text>\n          <Flex mt={'5px'} alignItems=\"center\">\n            <Text color=\"#323232\" fontSize={30} fontWeight=\"bolder\">{utils.toTokenPrecision(total, 'USDT')} USD</Text>\n            <Text fontSize={20} ml={30} fontWeight=\"bolder\">≈{utils.asLegalMoney(total, 'USD', 'CNY')} CNY</Text>\n          </Flex>\n          <Text mt={'5px'} color=\"#323232\">\n            <FormattedMessage id='mine.balance.overview.addr' />: {dexAccount.address}\n          </Text>\n          <Flex mt={30} justifyContent=\"flex-start\">\n            <Box flex={1}>\n              <Flex alignItems=\"center\">\n                <Box size={14} bg=\"#0064FF\"></Box>\n                <Text ml={'6px'} color=\"#969696\">\n                  <FormattedMessage id='mine.balance.overview.walletTotal' />\n                </Text>\n              </Flex>\n              <Flex mt={'5px'} alignItems=\"center\">\n                <Text color=\"#323232\" fontSize={14} fontWeight=\"bold\">{utils.toTokenPrecision(walletBalanceTotal, 'USD')} USD</Text>\n                <Text fontSize={14} ml={13}>≈{utils.asLegalMoney(walletBalanceTotal, 'USD', 'CNY')} CNY</Text>\n              </Flex>\n            </Box>\n            <Box flex={1}>\n              <Flex alignItems=\"center\">\n                <Box size={14} bg=\"#1890ff\"></Box>\n                <Text ml={'6px'} color=\"#969696\">\n                  <FormattedMessage id='mine.balance.overview.exchangeTotal' />\n                </Text>\n              </Flex>\n              <Flex mt={'5px'} alignItems=\"center\">\n                <Text color=\"#323232\" fontSize={14} fontWeight=\"bold\">{utils.toTokenPrecision(balanceTotal, 'USD')} USD</Text>\n                <Text fontSize={14} ml={13}>≈{utils.asLegalMoney(balanceTotal, 'USD', 'CNY')} CNY</Text>\n              </Flex>\n            </Box>\n          </Flex>\n        </Flex>\n      </Flex>\n    )\n  }\n\n  renderFilters () {\n    // let { balance, walletBalance } = this.props\n    // let balanceSymbols = balance.list.map(b => b.token.symbol)\n    // let walletBalanceSymbols = walletBalance.list.map(b => b.symbol)\n\n    // let symbols = _.union(balanceSymbols, walletBalanceSymbols)\n    let { tokens: { list }, intl } = this.props\n    const symbols = list.map(token => token.symbol)\n\n    return (\n      <Flex alignItems=\"center\" style={{position: 'absolute', right: 0, zIndex: 1000}}>\n        <Checkbox style={{color: '#323232'}} onChange={({ target }) => {\n          this.setState(({ filters }) => {\n            filters.hideSmall = target.checked\n            return { filters }\n          })\n        }}>\n          <FormattedMessage id='mine.balance.operations.hideSmall' />\n        </Checkbox>\n        <Select\n          // size=\"small\"\n          placeholder={intl.formatMessage({id: 'mine.balance.operations.allToken'})}\n          allowClear\n          style={{ width: 140, color: '#323232' }}\n          onChange={tokenSymbol => {\n            this.setState(({ filters }) => {\n              filters.tokenSymbol = tokenSymbol\n              return { filters }\n            })\n          }}\n        >\n          {\n            symbols.map(symbol => (\n              <Option key={symbol} value={symbol}>{symbol}</Option>\n            ))\n          }\n        </Select>\n      </Flex>\n    )\n  }\n  \n  render() {\n    let { filters, allMarkets, marketOptions } = this.state\n    let { persistData: { locale }, history, balance, walletBalance, markets: marketsStore, setCurrentTab, setCurrentMarket, intl } = this.props\n    let balances = balance.list\n    let walletBalances = walletBalance.list\n\n    if (filters.tokenSymbol) {\n      balances = balances.filter(b => b.token.symbol === filters.tokenSymbol)\n      walletBalances = walletBalances.filter(b => b.symbol === filters.tokenSymbol)\n    }\n\n    if (filters.hideSmall) {\n      // 10usdt\n      balances = _.reject(balances, item => {\n        let usd = utils.asLegalMoney(Number(item.totalAmount), item.token.symbol)\n        return usd < 10\n      })\n      walletBalances = _.reject(walletBalances, item => {\n        let usd = utils.asLegalMoney(Number(item.amount), item.symbol)\n        return usd < 10\n      })\n    }\n\n    const walletColumns = [\n      {\n        title: intl.formatMessage({id: 'tokenName'}),\n        dataIndex: 'tokenId',\n        key: 'tokenId',\n        render: (unused, record) => {\n          return (\n            <Flex alignItems=\"center\">\n              <Image src={record.token.logo} size={30}/>\n              <Text ml=\"8px\">{record.symbol}</Text>\n              <Text color=\"#969696\">({record.name})</Text>\n            </Flex>\n          )\n        },\n      },\n      {\n        title: intl.formatMessage({id: 'mine.balance.wallet.list.header.amount'}),\n        dataIndex: 'amount',\n        key: 'amount',\n        render: (unused, record) => {\n          return <Text>{utils.toTokenPrecision(record.amount, record.symbol)}</Text>\n        },\n      },\n      {\n        align: 'right',\n        title: intl.formatMessage({id: 'operations'}),\n        dataIndex: '',\n        key: 'ops',\n        width: 200,\n        render: (unused, record) => (\n          <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n            <Text color=\"#0078FF\"\n              sx={{ cursor: 'pointer' }}\n              onClick={() => TransferModal({\n                initialSymbol: record.symbol,\n                initialType: 'deposit',\n              })}\n            >\n              \n              <FormattedMessage id=\"deposit\" />\n            </Text>\n            <Divider type=\"vertical\" />\n            <Text color=\"#0078FF\"\n              sx={{ cursor: 'pointer' }}\n              onClick={async () => {\n                history.push({ pathname: `/${locale}/mine/withdraw`, data: {\n                  initialSymbol: record.symbol,\n                  // initialSide: 'WITHDRAW',\n                }})\n              }}\n            >\n              <FormattedMessage id=\"mine.balance.operations.record\" />\n            </Text>\n          </Flex>\n        )\n      }\n    ]\n\n    const dexColumns = [\n      {\n        title: intl.formatMessage({id: 'tokenName'}),\n        dataIndex: 'tokenId',\n        key: 'tokenId',\n        width: 200,\n        render: (unused, record) => {\n          return (\n            <Flex alignItems=\"center\">\n              <Image src={record.token.logo} size={30}/>\n              <Text ml=\"8px\">{record.token.symbol}</Text>\n              <Text color=\"#969696\">({record.token.name})</Text>\n            </Flex>\n          )\n        },\n      },\n      {\n        title: intl.formatMessage({id: 'mine.balance.exchange.list.header.availAmount'}),\n        dataIndex: 'availAmount',\n        key: 'availAmount',\n        width: 200,\n        render: (availAmount, record) => {\n          return <Text>{utils.toTokenPrecision(availAmount, record.token.symbol)}</Text>\n        },\n      },\n      {\n        title: intl.formatMessage({id: 'mine.balance.exchange.list.header.amountLocked'}),\n        dataIndex: 'amountLocked',\n        key: 'amountLocked',\n        width: 200,\n        render: (amountLocked, record) => {\n          return <Text>{utils.toTokenPrecision(amountLocked, record.token.symbol)}</Text>\n        },\n      },\n      {\n        title: intl.formatMessage({id: 'mine.balance.exchange.list.header.totalAmount'}),\n        dataIndex: 'totalAmount',\n        key: 'totalAmount',\n        width: 200,\n        render: (totalAmount, record) => {\n          return <Text>{utils.toTokenPrecision(totalAmount, record.token.symbol)}</Text>\n        },\n      },\n      {\n        align: 'right',\n        title: intl.formatMessage({id: 'operations'}),\n        dataIndex: '',\n        key: 'ops',\n        width: 250,\n        render: (unused, record) => (\n          <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n            <Dropdown overlay={\n              <Menu onClick={({key: pair}) => {\n                let [base, quote] = pair.split('-')\n                setCurrentTab(quote)\n                let currentMarket = _.find(marketsStore.markets, {market: pair})\n                setCurrentMarket(currentMarket)\n                history.push(`/${locale}/trade/${currentMarket.market}`)\n              }}>\n                {\n                  marketOptions.map((menu) => (\n                    <Menu.Item key={menu.market}>\n                      <Text fontSize={[0, 0, 0]} color='hint'>{ menu.market }</Text>\n                    </Menu.Item>\n                  ))\n                }\n              </Menu>\n              }\n              placement=\"bottomCenter\" overlayClassName=\"nav-menu\"\n            >\n              <Text color=\"#0078FF\" sx={{ cursor: 'pointer' }} onMouseEnter={() => {\n                let markets = allMarkets.filter(market => market.baseToken === record.token.symbol || market.quoteToken === record.token.symbol)\n                this.setState({marketOptions: markets})\n              }}>\n                <FormattedMessage id=\"mine.balance.operations.trade\" />\n              </Text>\n            </Dropdown>\n            <Divider type=\"vertical\" />\n            <Text color=\"#0078FF\"\n              sx={{ cursor: 'pointer' }}\n              onClick={() => TransferModal({\n                initialSymbol: record.token.symbol,\n                initialType: 'withdraw',\n              })}\n            >\n              <FormattedMessage id=\"withdraw\" />\n            </Text>\n            <Divider type=\"vertical\" />\n            <Text color=\"#0078FF\"\n              sx={{ cursor: 'pointer' }}\n              onClick={async () => {\n                history.push({ pathname: `/${locale}/mine/deposit`, data: {\n                  initialSymbol: record.token.symbol,\n                  // initialSide: 'DEPOSIT',\n                }})\n              }}\n            >\n              <FormattedMessage id=\"mine.balance.operations.record\" />\n            </Text>\n          </Flex>\n        )\n      }\n    ]\n\n    return (\n      <>\n        { this.renderOverview() }\n        <Box style={{position: 'relative'}}>\n          { this.renderFilters() }\n          <Tabs className=\"balance-tab\" onChange={(key) => this.onChangeTab(key)} type=\"card\">\n            <TabPane tab={intl.formatMessage({id: 'mine.balance.tab.wallet'})} key=\"wallet\">\n              <Spin spinning={walletBalance.loading} color=\"#0064FF\">\n                <Table rowKey=\"symbol\" columns={walletColumns} dataSource={walletBalances}\n                  className=\"mine-table\"\n                  pagination={false}\n                  // locale={{emptyText: intl.formatMessage({id: 'noData'})}}\n                />\n              </Spin>\n            </TabPane>\n            <TabPane tab={intl.formatMessage({id: 'mine.balance.tab.exchange'})} key=\"dex\">\n              <Spin spinning={balance.loading} color=\"#0064FF\">\n                <Table rowKey=\"tokenId\" columns={dexColumns} dataSource={balances}\n                  className=\"mine-table\"\n                  pagination={false}\n                  // locale={{emptyText: intl.formatMessage({id: 'noData'})}}\n                />\n              </Spin>\n            </TabPane>\n          </Tabs>\n        </Box>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = ({ dexAccount, balance, walletBalance, rate, markets, tokens, persistData }) => {\n  return {\n    dexAccount,\n    balance,\n    walletBalance,\n    rate,\n    markets,\n    tokens,\n    persistData\n  };\n};\n\nconst mapDispatchToProps = ({ balance, walletBalance, transfer, markets }) => {\n  return {\n    fetchBalances: balance.fetchBalances,\n    fetchWalletBalances: walletBalance.fetchAllBalances,\n    setCurrentTab: markets.setCurrentTab,\n    setCurrentMarket: markets.setCurrentMarket,\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget))","import numeral from 'numeral';\nimport _ from 'lodash'\nimport moment from 'moment'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Spin } from 'components'\nimport { Table, Select, DatePicker } from 'antd';\nimport { ENUM_TX_STATUS } from 'utils/enum'\nimport utils from 'utils'\nconst { Option } = Select;\nconst { RangePicker } = DatePicker;\n\n@injectIntl\nclass Widget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filters: {\n        symbol: undefined,\n        side: undefined,\n        status: undefined\n      }\n    }\n  }\n\n  async componentDidMount() {\n    let { initialSide } = this.props\n    let { initialSymbol } = this.props.history.location.data || {}\n    if (initialSymbol) {\n      await this.onSymbolChanged(initialSymbol)\n    }\n    if (initialSide) {\n      await this.onSideChanged(initialSide)\n    }\n    this.props.fetchTransactions()\n  }\n\n  async componentWillReceiveProps(newProps) {\n    // 充值和提现，是同一个组件。因此不会触发 componentDidMount。\n    // 此处用 componentWillReceiveProps实现。\n    if (newProps.initialSide && newProps.initialSide !== this.props.initialSide) {\n      await this.onSideChanged(newProps.initialSide)\n      this.props.fetchTransactions()\n    }\n  }\n\n  async onSymbolChanged (symbol) {\n    this.setState(({ filters }) => {\n      filters.symbol = symbol\n      return { filters }\n    })\n    await this.props.updateFilterCond({ token: symbol })\n  }\n\n  async onSideChanged (side) {\n    this.setState(({ filters }) => {\n      filters.side = side\n      return { filters }\n    })\n\n    let types = side && (side === 'WITHDRAW' ? ['onchainWithdrawal'] : ['deposit'])\n    await this.props.updateFilterCond({ types })\n  }\n\n  async onStatusChanged (status) {\n    this.setState(({ filters }) => {\n      filters.status = status\n      return { filters }\n    })\n    await this.props.updateFilterCond({ statuses: [status] })\n  }\n\n  renderFilters () {\n    let { tokens: { list }, updateFilterCond, fetchTransactions, intl } = this.props\n    const symbols = list.map(token => token.symbol)\n\n    return (\n      <Flex justifyContent=\"flex-end\" flex={1}>\n        <Select\n          placeholder={intl.formatMessage({id: 'filters.allToken'})}\n          allowClear\n          style={{ width: 140, marginRight: '20px', color: '#323232' }}\n          value={this.state.filters.symbol}\n          onChange={symbol => {\n            this.onSymbolChanged(symbol)\n            fetchTransactions()\n          }}\n        >\n          {\n            symbols.map(symbol => (\n              <Option key={symbol} value={symbol}>{symbol}</Option>\n            ))\n          }\n        </Select>\n        {/* <Select\n          placeholder={intl.formatMessage({id: 'filters.allType'})}\n          allowClear\n          style={{ width: 180, color: '#323232', marginLeft: '20px', marginRight: '20px' }}\n          value={this.state.filters.side}\n          onChange={async (side) => {\n            this.onSideChanged(side)\n            fetchTransactions()\n          }}\n        >\n          <Option value={'DEPOSIT'}><FormattedMessage id=\"deposit\" /></Option>\n          <Option value={'WITHDRAW'}><FormattedMessage id=\"withdraw\" /></Option>\n        </Select> */}\n        <Select\n          placeholder={intl.formatMessage({id: 'filters.allStatus'})}\n          allowClear\n          style={{ width: 140, color: '#323232', marginRight: '20px' }}\n          onChange={async (status) => {\n            this.onStatusChanged(status)\n            fetchTransactions()\n          }}\n        >\n          {\n            _.map(ENUM_TX_STATUS.getOptions(), status => (\n              <Option key={status.value} value={status.value}>\n                <FormattedMessage id={`enum.txStatus.${status.value}`} />\n              </Option>\n            ))\n          }\n        </Select>\n        <RangePicker placeholder={[\n            intl.formatMessage({id: 'startDate'}),\n            intl.formatMessage({id: 'endDate'})\n          ]}\n          onChange={async range => {\n            let [start, end] = range\n            start = start && start.startOf('day').toDate().valueOf()\n            end = end && end.endOf('day').toDate().valueOf()\n\n            console.info({start, end})\n            await updateFilterCond({\n              start,\n              end\n            })\n            fetchTransactions()\n          }}\n        />\n      </Flex>\n    )\n  }\n\n  render() {\n    let { transfer, intl } = this.props\n    // TODO: 此处 render 为啥老被刷新？\n    \n    let transfers = transfer.list.map(transfer => {\n      let { symbol, amount, realAmount, feeAmount } = transfer\n      return {\n        ...transfer,\n        amount: utils.fromWEI(symbol, amount),\n        realAmount: utils.fromWEI(symbol, realAmount),\n        feeAmount: utils.fromWEI('ETH', feeAmount)\n      }\n    })\n\n    const transferColumns = [\n      {\n        title: intl.formatMessage({id: 'tokenName'}),\n        dataIndex: 'symbol',\n        key: 'symbol',\n        width: 90,\n        render: (symbol, record) => {\n          return (\n            <Flex>\n              <Text>{symbol}</Text>\n            </Flex>\n          )\n        },\n      },\n      {\n        title: intl.formatMessage({id: 'timestamp'}),\n        dataIndex: 'timestamp',\n        key: 'timestamp',\n        width: 250,\n        render: (timestamp, row) => {\n          return (<Text>{moment(timestamp).format('YYYY-MM-DD HH:mm:ss')}</Text>)\n        }\n      },\n      {\n        title: intl.formatMessage({id: 'type'}),\n        dataIndex: 'txType',\n        key: 'txType',\n        width: 150,\n        render: (txType, row) => {\n          return (<Text>{intl.formatMessage({id: txType === 'deposit' ? 'deposit' : 'withdraw'})}</Text>)\n        }\n      },\n      {\n        title: intl.formatMessage({id: 'amount'}),\n        dataIndex: 'realAmount',\n        key: 'realAmount',\n        width: 150,\n        render: (realAmount, row) => (\n          <Text>{numeral(realAmount).format('0,0.[00000000]')}</Text>\n        )\n      },\n      {\n        title: intl.formatMessage({id: 'fee'}),\n        dataIndex: 'feeAmount',\n        key: 'feeAmount',\n        width: 150,\n        render: (feeAmount, row) => (\n          <Text>{numeral(feeAmount).format('0,0.[00000000]')} ETH</Text>\n        )\n      },\n      {\n        title: intl.formatMessage({id: 'status'}),\n        dataIndex: 'status',\n        key: 'status',\n        width: 50,\n        render: (status, row) => (\n          <Text><FormattedMessage id={`enum.txStatus.${status}`} /></Text>\n        )\n      },\n      {\n        title: intl.formatMessage({id: 'mine.transfer.list.header.hash'}),\n        align: 'right',\n        dataIndex: '',\n        key: 'ops',\n        width: 200,\n        render: (status, row) => (\n          <Flex justifyContent='flex-end'>\n            <Text color=\"#0078FF\"\n              sx={{ cursor: 'pointer' }}\n              onClick={async () => {\n                window.open(`https://cn.etherscan.com/tx/${row.txHash}`, '_blank')\n              }}\n            >\n              {`${_.take(row.txHash, 7).join('')}...${_.takeRight(row.txHash, 7).join('')}`}\n            </Text>\n          </Flex>\n        )\n      },\n      \n    ];\n\n    return (\n      <Box>\n        { this.renderFilters() }\n        <Spin spinning={transfer.loading} color=\"#0064FF\">\n          <Table rowKey=\"txHash\" columns={transferColumns} dataSource={transfers}\n            className=\"mine-table\"\n            pagination={false}\n            style={{ minHeight: '450px' }}\n            // locale={{emptyText: intl.formatMessage({id: 'noData'})}}\n          />\n        </Spin>\n        {/* <Pagination ref={pagination => this.pagination = pagination} fetchData={this.fetchData} onFetched={this.onDataFetched}></Pagination> */}\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ transfer, markets, tokens }) => {\n  return {\n    transfer,\n    markets,\n    tokens\n  };\n};\n\nconst mapDispatchToProps = ({ transfer }) => {\n  return {\n    fetchTransactions: transfer.fetchTransactions,\n    updateFilterCond: transfer.updateFilterCond,\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget))","import numeral from 'numeral';\nimport _ from 'lodash'\nimport moment from 'moment'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Pagination } from 'components';\nimport { Table, Select, DatePicker, Divider } from 'antd';\nimport utils from 'utils'\nimport api from 'api'\nimport { ENUM_ORDER_STATUS } from 'utils/enum'\nconst { Option } = Select;\nconst { RangePicker } = DatePicker;\n\n@injectIntl\nclass Widget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n      filters: {\n        market: undefined,\n        start: undefined,\n        end: undefined,\n        side: undefined,\n        status: undefined\n      }\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  fetchData = async function (pageParams) {\n    let { dexAccount: { accountId, apiKey } } = this.props\n    let { filters: { market, side, start, end, status } } = this.state\n    let { offset, limit } = utils.formatPageParams(pageParams)\n\n    let resp = await api.getOrders({\n      accountId,\n      apiKey,\n      offset,\n      limit,\n      market,\n      side,\n      start,\n      end,\n      statuses: status ? [status] : []\n    })\n    let { totalNum, orders } = resp || {}\n\n    orders = orders || []\n    return {\n      // TODO: 目前没有总数\n      count: totalNum || 0,\n      rows: orders\n    }\n  }.bind(this)\n  \n  onDataFetched = function (list) {\n    console.info({list})\n    this.setState({list})\n  }.bind(this)\n\n  renderFilters () {\n    let { markets: marketsStore, intl } = this.props\n    let markets = marketsStore.markets.map(item => item.market)\n    return (\n      <Flex justifyContent=\"flex-end\" flex={1}>\n        <Select\n          placeholder={intl.formatMessage({id: 'filters.allPair'})}\n          allowClear\n          style={{ width: 140, color: '#323232', marginRight: '20px' }}\n          onChange={async (market) => {\n            console.info({market})\n            await this.setState(({ filters }) => {\n              filters.market = market\n              return { filters }\n            })\n            this.pagination.reset()\n          }}\n        >\n          {\n            markets.map(market => (\n              <Option key={market} value={market}>{market}</Option>\n            ))\n          }\n        </Select>\n        <Select\n          placeholder={intl.formatMessage({id: 'filters.allType'})}\n          allowClear\n          style={{ width: 140, color: '#323232', marginRight: '20px' }}\n          onChange={async (side) => {\n            console.info({side})\n            await this.setState(({ filters }) => {\n              filters.side = side\n              return { filters }\n            })\n            this.pagination.reset()\n          }}\n        >\n          <Option value={'BUY'}><FormattedMessage id=\"buy\" /></Option>\n          <Option value={'SELL'}><FormattedMessage id=\"sell\" /></Option>\n        </Select>\n        <Select\n          placeholder={intl.formatMessage({id: 'filters.allStatus'})}\n          allowClear\n          style={{ width: 140, color: '#323232', marginRight: '20px' }}\n          onChange={async (status) => {\n            console.info({status})\n            await this.setState(({ filters }) => {\n              filters.status = status\n              return { filters }\n            })\n            this.pagination.reset()\n          }}\n        >\n          {\n            _.map(ENUM_ORDER_STATUS.getOptions(), status => (\n              <Option key={status.value} value={status.value}>\n                <FormattedMessage id={`enum.orderStatus.${status.value}`} />\n              </Option>\n            ))\n          }\n        </Select>\n        <RangePicker placeholder={[\n          intl.formatMessage({id: 'startDate'}),\n          intl.formatMessage({id: 'endDate'})\n        ]}\n        onChange={async range => {\n          let [start, end] = range\n          start = start && start.startOf('day').toDate().valueOf()\n          end = end && end.endOf('day').toDate().valueOf()\n\n          console.info({start, end})\n          await this.setState(({ filters }) => {\n            filters.start = start\n            filters.end = end\n            return { filters }\n          })\n          this.pagination.reset()\n        }} />\n      </Flex>\n    )\n  }\n\n  render() {\n    let { list } = this.state\n    let { intl } = this.props\n\n    const columns = [\n      {\n        align: 'left',\n        title: intl.formatMessage({id: 'timestamp'}),\n        dataIndex: 'createdAt',\n        width: 90,\n        render: (unused, row) => {\n          return (<Text>{moment(row.createdAt).format('MM-DD HH:mm')}</Text>)\n        }\n      },\n      {\n        align: 'left',\n        title: intl.formatMessage({id: 'exchangePair'}),\n        dataIndex: 'market',\n        width: 80,\n        render: (market, row) => {\n          let [baseSymbol, quoteSymbol] = market.split('-')\n          return (<Flex>{baseSymbol}<Text color=\"hint\">/{quoteSymbol}</Text></Flex>)\n        }\n      },\n      {\n        align: 'left',\n        title: intl.formatMessage({id: 'type'}),\n        dataIndex: 'side',\n        width: 30,\n        render: (unused, row) => {\n          return (<Text><FormattedMessage id={row.side === 'BUY' ? \"buy\" : \"sell\"} /></Text>)\n        }\n      },\n      {\n        align: 'right',\n        title: `${intl.formatMessage({id: 'myOrder.list.header.avgPrice'})} | ${intl.formatMessage({id: 'myOrder.list.header.price'})}`,\n        dataIndex: 'price',\n        width: 150,\n        render: (price, row) => (\n          <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n            {row.avgPrice}<Text px=\"2px\" color=\"#646478\">|</Text>{price}\n          </Flex>\n        )\n      },\n      {\n        align: 'right',\n        title: `${intl.formatMessage({id: 'myOrder.list.header.filledSize'})} | ${intl.formatMessage({id: 'myOrder.list.header.size'})}`,\n        dataIndex: 'filledSize',\n        width: 150,\n        render: (filledSize, row) => (\n          // <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n          //   <Text mr={'4px'}>{filledSize}</Text>\n          //   <Divider style={{position: 'unset', background: '#646478', margin: '0 2px'}} type=\"vertical\" />\n          //   <Text width={34} >{row.filled}</Text>\n          // </Flex>\n          <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n            {filledSize}<Text px=\"2px\" color=\"#646478\">|</Text>{row.size}\n          </Flex>\n        )\n      },\n      {\n        align: 'right',\n        title: intl.formatMessage({id: 'myOrder.list.header.filledVolume'}),\n        dataIndex: 'filledVolume',\n        width: 110,\n        render: filledVolume => (\n          <Text>{filledVolume}</Text>\n        )\n      },\n\n      // {\n      //   align: 'right',\n      //   title: intl.formatMessage({id: 'size'}),\n      //   dataIndex: 'filledSize',\n      //   width: 60,\n      //   render: (filledSize, row) => {\n      //     let isBuy = (row.side === 'BUY')\n      //     return (\n      //       <Text color={isBuy ? \"success\" : \"failure\"}>{isBuy ? '+' : '-'}{filledSize}</Text>\n      //     )\n      //   }\n      // },\n      // {\n      //   align: 'right',\n      //   title: intl.formatMessage({id: 'price'}),\n      //   dataIndex: 'price',\n      //   width: 100,\n      //   render: (price, row) => (\n      //     <Text>{price}</Text>\n      //   )\n      // },\n      // {\n      //   align: 'right',\n      //   title: intl.formatMessage({id: 'mine.order.list.header.volume'}),\n      //   dataIndex: 'volume',\n      //   width: 150,\n      //   render: (volume, row) => (\n      //     <Flex alignItems=\"center\" justifyContent=\"flex-end\" flexWrap=\"no-wrap\">\n      //       <Text mr=\"5px\">{volume}</Text>\n      //       <Divider style={{position: 'unset', background: '#646478', margin: '0 5px'}} type=\"vertical\" />\n      //       <Text width={34} style={{ whiteSpace: 'nowrap'}}>{row.filled}</Text>\n      //     </Flex>\n      //   )\n      // },\n      // {\n      //   align: 'right',\n      //   title: `已成交`,\n      //   dataIndex: 'filledSize',\n      //   width: 180,\n      //   render: (filledSize, row) => (\n      //     <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n      //       <Text mr={'4px'}>{filledSize}</Text>\n      //     </Flex>\n      //   )\n      // },\n      {\n        align: 'right',\n        title: intl.formatMessage({id: 'fee'}),\n        dataIndex: 'filledFee',\n        width: 110,\n        render: (filledFee, row) => {\n          let [baseSymbol, quoteSymbol] = row.market.split('-')\n          return (\n            <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n              <Text mr={'4px'}>{filledFee} {row.side === 'BUY' ? baseSymbol : quoteSymbol }</Text>\n            </Flex>\n          )\n        }\n      },\n      {\n        align: 'right',\n        title: intl.formatMessage({id: 'status'}),\n        dataIndex: 'status',\n        key: 'status',\n        width: 80,\n        render: (status, row) => (\n          <Text><FormattedMessage id={`enum.orderStatus.${status}`} /></Text>\n        )\n      },\n    ];\n\n    return (\n      <Box>\n        { this.renderFilters() }\n        <Table rowKey=\"hash\" columns={columns} dataSource={list}\n          className=\"mine-table\"\n          pagination={false}\n          style={{ minHeight: '450px' }}\n          // locale={{emptyText: intl.formatMessage({id: 'noData'})}}\n        />\n        <Pagination ref={pagination => this.pagination = pagination} fetchData={this.fetchData} onFetched={this.onDataFetched}></Pagination>\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ dexAccount, markets }) => {\n  return {\n    dexAccount,\n    markets\n  };\n};\n\nconst mapDispatchToProps = ({ order }) => {\n  return {\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget))","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Divider, Table } from 'antd';\nimport { Account } from 'librarys/lightcone_v3'\n\n@injectIntl\nclass Widget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  render() {\n    let { dexAccount, metaMask, intl } = this.props\n    let { installed, enable, startConnecting } = metaMask\n    let { address, accountId, apiKey, passwordHash } = dexAccount\n\n    if (startConnecting || !installed || !enable || !address || !passwordHash) return <></>\n\n    // TODO: 优化。window.wallet可能没有初始化。初始化的时机是用户登录时(在 initAccountFromMetaMask 函数，也可考虑从此函数中分拆出来，无论如何让window.wallet初始化)，而没登录直接在缓存中加载，会有此问题。\n    // if (!window.wallet) {\n    //   window.wallet = ethereum.account.fromMetaMask(\n    //     window.web3,\n    //     address,\n    //     address\n    //   )\n    // }\n    let exchangeAccount = new Account(window.wallet)\n    const keyPair = exchangeAccount.generateKeyPair(passwordHash)\n\n    let infos = [\n      { label: intl.formatMessage({id: 'mine.apikey.label.accountId'}), value: accountId },\n      { label: intl.formatMessage({id: 'mine.apikey.label.addr'}), value: address },\n      { label: intl.formatMessage({id: 'mine.apikey.label.apiSk'}), value: apiKey },\n      { label: intl.formatMessage({id: 'mine.apikey.label.pkX'}), value: keyPair.publicKeyX },\n      { label: intl.formatMessage({id: 'mine.apikey.label.pkY'}), value: keyPair.publicKeyY },\n      { label: intl.formatMessage({id: 'mine.apikey.label.sk'}), value: keyPair.secretKey },\n    ]\n\n    return (\n      <Box {...this.props}>\n        <Text mb={'14px'} color=\"#323232\" fontSize={16} fontWeight=\"bold\">API KEY</Text>\n        <Divider/>\n        <Box>\n        {\n          infos.map(info => (\n            <Flex key={info.label} height={50}>\n              <Text fontSize={14} width={100} color=\"#969696\">{info.label}:</Text>\n              <Text fontSize={14} color=\"#323232\">{info.value}</Text>\n            </Flex>\n          ))\n        }\n        </Box>\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ dexAccount, metaMask }) => {\n  return {\n    dexAccount,\n    metaMask\n  };\n};\n\nconst mapDispatchToProps = ({ metaMask }) => {\n  return {\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget))","import _ from 'lodash'\nimport moment from 'moment'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Pagination, Spin } from 'components';\nimport api from 'api'\n\nimport { Tabs, Table, Select, Checkbox } from 'antd';\nconst { TabPane } = Tabs;\nconst { Option } = Select;\n\n@injectIntl\nclass Widget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      list: []\n    }\n  }\n\n  componentDidMount() {\n    // this.props.fetchBalances()\n    // this.props.fetchWalletBalances()\n  }\n\n  onChangeTab (key) {\n    if (key === 'mine') {\n    } else {\n    }\n  }\n\n  fetchData = async function (pageParams) {\n    this.setState({ loading: true })\n    let { dexAccount } = this.props\n    let resp = await api.getUserBillEggPrizeList({\n      // address: '0x2bbfe5650e9876fb313d6b32352c6dc5966a7b68',\n      address: dexAccount.address,\n      ...pageParams,\n      sort: 'billTime',\n      sortDirection: 'desc',\n      // TODO: delete\n      startDate: '2020-01-02 18:00:00'\n    })\n    this.setState({ loading: false })\n    return resp.data\n  }.bind(this)\n  \n  onDataFetched = function (list) {\n    console.info({list})\n    this.setState({list})\n  }.bind(this)\n\n  render() {\n    let { list } = this.state\n    let { intl } = this.props\n\n    const columns = [\n      {\n        title: intl.formatMessage({id: 'timestamp'}),\n        dataIndex: 'billTime',\n        key: 'billTime',\n        width: 150,\n        render: (billTime, record) => {\n          return (\n            <Flex>\n              <Text>{moment(billTime).format('YYYY-MM-DD HH:mm:ss')}</Text>\n            </Flex>\n          )\n        },\n      },\n      {\n        title: intl.formatMessage({id: 'mine.award.egg.list.header.winner'}),\n        dataIndex: 'winnerWalletAddr',\n        key: 'winnerWalletAddr',\n        width: 300\n      },\n      {\n        title: intl.formatMessage({id: 'mine.award.egg.list.header.billEggName'}),\n        dataIndex: 'billEggName',\n        key: 'billEggName',\n        width: 250,\n      },\n      \n      {\n        align: 'center',\n        title: intl.formatMessage({id: 'mine.award.egg.list.header.amount'}),\n        dataIndex: 'money',\n        key: 'money',\n        width: 100\n      },\n      {\n        align: 'center',\n        title: intl.formatMessage({id: 'tokenName'}),\n        dataIndex: 'unit',\n        key: 'unit',\n        width: 100\n      },\n      \n    ]\n\n    return (\n      <>\n        <Box style={{position: 'relative'}}>\n          <Tabs className=\"balance-tab\" onChange={(key) => this.onChangeTab(key)} type=\"card\">\n            <TabPane tab={intl.formatMessage({id: 'mine.award.egg.tab.my'})} key=\"mine\">\n              <Spin spinning={this.state.loading} color=\"#0064FF\">\n                <Table rowKey=\"id\" columns={columns} dataSource={list}\n                  className=\"mine-table\"\n                  pagination={false}\n                  // locale={{emptyText: intl.formatMessage({id: 'noData'})}}\n                />\n              </Spin>\n              <Pagination autoload={true} ref={pagination => this.pagination = pagination} fetchData={this.fetchData} onFetched={this.onDataFetched}></Pagination>\n            </TabPane>\n            {/* <TabPane tab=\"全部中奖详情\" key=\"all\">\n              <Table rowKey=\"id\" columns={columns} dataSource={balances}\n                className=\"mine-table\"\n                pagination={false}\n                // locale={{emptyText: intl.formatMessage({id: 'noData'})}}\n              />\n            </TabPane> */}\n          </Tabs>\n          {/* <Pagination ref={pagination => this.pagination = pagination} fetchData={this.fetchData} onFetched={this.onDataFetched}></Pagination> */}\n        </Box>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = ({ dexAccount, balance, walletBalance }) => {\n  return {\n    dexAccount,\n    balance,\n    walletBalance\n  };\n};\n\nconst mapDispatchToProps = ({ balance, walletBalance, transfer }) => {\n  return {\n    fetchBalances: balance.fetchBalances,\n    fetchWalletBalances: walletBalance.fetchAllBalances,\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget))","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport Balance from './Balance';\nimport Transfer from './Transfer';\nimport Order from './Order';\nimport Apikey from './Apikey';\nimport Award from './Award';\nimport { UpsertPasswordModal } from 'widgets/Dialog'\n\nconst tabs = [\n  { key: 'balance', render: () => <Balance/> },\n  { key: 'deposit', render: () => <Transfer initialSide=\"DEPOSIT\"/> },\n  { key: 'withdraw', render: () => <Transfer initialSide=\"WITHDRAW\"/> },\n  { key: 'order', render: () => <Order/> },\n  { key: 'apikey', render: () => <Apikey/> },\n  { key: 'award', render: () => <Award/> },\n  { key: 'password' },\n]\n@injectIntl\nclass Mine extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: tabs[0].key\n    }\n  }\n\n  componentDidMount() {\n    console.info(this.props.location)\n    let { tab } = this.props.match.params\n    this.setState({activeTab: tab})\n  }\n\n  componentWillReceiveProps(newProps) {\n    let { tab: oldTab } = this.props.match.params\n    let { tab: newTab } = newProps.match.params\n    if (oldTab !== newTab) {\n      this.setState({activeTab: newTab})\n    }\n  }\n\n  renderContent () {\n    let {activeTab} = this.state\n    let tab = _.find(tabs, { key: activeTab })\n    return tab.render && tab.render()\n  }\n\n  render() {\n    let { intl, persistData: { locale } } = this.props\n\n    return (\n      <Flex pt={90} variant={'mine'} fontSize={14}>\n        <Flex flexDirection=\"column\" sx={{\n          position: \"relative\",\n          borderLeft: '1px solid #F0F0F0',\n          borderTop: '1px solid #F0F0F0',\n        }}>\n          <Flex sx={{\n            position: \"absolute\",\n            left: 0,\n            top: \"-65px\",\n            alignItems: 'center',\n            color: '#0078FF',\n            cursor: 'pointer'\n          }} onClick={() => this.props.history.push(`/`)}>\n            <Text mr=\"5px\" fontSize=\"18px\">{\"<\"}</Text>\n            <Text sx={{ borderBottom: \"1px solid #0078FF\" }}>{intl.formatMessage({id: 'mine.nav.back'})}</Text>\n          </Flex>\n        {\n          tabs.map(tab => (\n            <Box key={tab.key} variant=\"flexCenter\" width={150} height={50} lineHeight={'50px'} sx={{\n                bg: tab.key === this.state.activeTab ? '#eff7ff' : 'white',\n                color: tab.key === this.state.activeTab ? '#0078FF' : 'black',\n                cursor: 'pointer',\n                borderRight: '1px solid #F0F0F0',\n                borderBottom: '1px solid #F0F0F0',\n                textAlign: 'center',\n              }} onClick={async () => {\n                if (tab.key === 'password') {\n                  await UpsertPasswordModal()\n                  return\n                }\n                this.props.history.push(`/${locale}/mine/${tab.key}`)\n              }}\n            >\n              <FormattedMessage id={`mine.nav.${tab.key}`} />\n            </Box>\n          ))\n        }\n        </Flex>\n        <Box width={1100} ml={60} mb={20}>\n        {\n          this.renderContent()\n        }\n        </Box>\n      </Flex>\n    )\n  }\n}\n\nconst mapStateToProps = ({ persistData }) => {\n  return {\n    persistData\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Mine))","import moment from 'moment';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Pagination, Spin } from 'components';\nimport { Table, Carousel } from 'antd';\nimport utils from 'utils'\nimport api from 'api'\nimport { ENUM_LANGUAGE_TYPE } from 'utils/enum'\n\nconst mapStateToProps = ({ persistData, appState }) => {\n  return { persistData, appState }\n};\nconst mapDispatchToProps = ({ depth, persistData }) => {\n  return {\n  }\n};\n\n@withRouter\n@injectIntl\n@connect(mapStateToProps, mapDispatchToProps)\nexport default class ActivityList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      recommended: [],\n      list: []\n    }\n  }\n\n  componentDidMount() {\n    this.fetchRecommendedData()\n  }\n\n  fetchRecommendedData = async function () {\n    let { persistData: { channelName, locale } } = this.props\n    let lang = ENUM_LANGUAGE_TYPE[locale].getValue()\n    let resp = await api.getArticleListRecommended({\n      channelName,\n      lang,\n    })\n    this.setState({ recommended: resp.data.rows })\n  }\n\n  fetchData = async function (pageParams) {\n    this.setState({ loading: true })\n    let { persistData: { channelName, locale } } = this.props\n    let lang = ENUM_LANGUAGE_TYPE[locale].getValue()\n    let resp = await api.getArticleList({\n      channelName,\n      lang,\n      ...pageParams\n    })\n    this.setState({ loading: false })\n    return resp.data\n  }.bind(this)\n  \n  onDataFetched = function (list) {\n    this.setState({list})\n  }.bind(this)\n\n  render() {\n    let { recommended, list } = this.state\n    let { history, persistData: { locale } } = this.props\n\n    const statusMapping = {\n      initiate: { bg: 'rgba(230,230,230,1)', color: '#969696' },\n      underway: { bg: 'rgba(255,190,0,1)', color: '#fff' },\n      finished: { bg: 'rgba(230,230,230,1)', color: '#969696' },\n    }\n\n    return (\n      <Flex bg=\"white\" fontSize={14} sx={{\n        minHeight: `calc(100vh - ${50 + 3}px)`,\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'center'\n      }}>\n        <Carousel autoplay={true} style={{height: 422}}>\n        {\n          _.map(recommended, item => {\n            let { poster } = item\n            return (\n              <Box key={item.id} sx={{\n                height: 422,\n                backgroundImage: `url(${poster})`,\n                backgroundSize: 'cover',\n                backgroundPosition: 'center',\n              }} onClick={() => {\n                history.push(`/${locale}/activities/${item.id}`);\n              }}>\n              </Box>\n            )\n          })\n        }\n        </Carousel>\n        <Spin spinning={this.state.loading} color=\"#0064FF\">\n          <Flex mb={40} alignItems='center' flexDirection=\"column\">\n            <Flex mt={40} mb={40} maxWidth={1260} justifyContent=\"flex-start\" sx={{\n              flexWrap: 'wrap'\n            }}>\n            {\n              _.map(list, item => {\n                let { title, poster, startDate, endDate, abstract } = item\n                let status = 'initiate'\n                let now = moment()\n                if (now.isAfter(moment(endDate).endOf('day'))) {\n                  status = 'finished'\n                } else if (now.isAfter(moment(startDate).startOf('day'))) {\n                  status = 'underway'\n                }\n                let statusInfo = statusMapping[status]\n                return (\n                  <Box key={item.id} mx={20} mb={40} sx={{\n                    width: 380,\n                    border: '1px solid rgba(0,0,0,0.1)',\n                    cursor: 'pointer'\n                  }} onClick={() => {\n                    history.push(`/${locale}/activities/${item.id}`);\n                  }}>\n                    <Flex sx={{\n                      width: '100%',\n                      height: 210,\n                      flexDirection: 'column',\n                      justifyContent: 'flex-start',\n                      backgroundImage: `url(${poster})`,\n                      backgroundSize: 'cover',\n                      backgroundPosition: 'center',\n                    }}>\n                      <Box px={'15px'} py={'4px'} mt={'8px'} bg={statusInfo.bg} color={statusInfo.color} sx={{\n                        borderRadius: '0px 20px 20px 0px',\n                        width: 'fit-content',\n                        fontWeight: 'bolder'\n                      }}>\n                        {statusInfo.text}\n                        <FormattedMessage id={`activity.status.${status}`}></FormattedMessage>\n                      </Box>\n                      {/* <Text mt={'100px'} width=\"100%\" textAlign=\"center\">活动时间：{startDate}-{endDate}</Text> */}\n                    </Flex>\n                    <Text mt={10} mx={15} fontSize={16} color=\"#323232\" fontWeight=\"bolder\" className=\"text-ellipsis\">{title}</Text>\n                    <Text mt={'4px'} mb={'6px'} mx={15} fontSize={12} color=\"#969696\" className=\"text-ellipsis\">{abstract}</Text>\n                  </Box>\n                )\n              })\n            }\n            </Flex>\n            <Pagination autoload={true} ref={pagination => this.pagination = pagination} fetchData={this.fetchData} onFetched={this.onDataFetched}></Pagination>\n          </Flex>\n        </Spin>\n      </Flex>\n    )\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport utils from 'utils'\nimport api from 'api'\n\nconst mapStateToProps = ({ persistData, appState }) => {\n  return { persistData, appState }\n};\nconst mapDispatchToProps = ({ depth, persistData }) => {\n  return {\n  }\n};\n\n@withRouter\n@connect(mapStateToProps, mapDispatchToProps)\nexport default class ActivityList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activity: {}\n    }\n  }\n\n  componentDidMount() {\n    let { id: activityId } = this.props.match.params\n    this.fetchActivity(activityId)\n  }\n\n  fetchActivity = async function (activityId) {\n    let resp = await api.getArticle(activityId)\n    this.setState({ activity: resp.data })\n  }\n\n  render() {\n    let { activity } = this.state\n    return (\n      <Flex bg=\"white\" fontSize={14} sx={{\n        minHeight: `calc(100vh - ${50 + 3}px)`,\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        alignItems: 'center',\n        color: '#000'\n      }}>\n        <Text mt={40} fontSize={20} color=\"#323232\" fontWeight=\"bold\">{activity.title}</Text>\n        <Box mt={40} maxWidth=\"1000px\">\n          <div dangerouslySetInnerHTML={{__html: activity.content}}></div>\n        </Box>\n      </Flex>\n    )\n  }\n}\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router';\nimport { connect } from 'react-redux';\nimport { injectIntl, FormattedMessage  } from 'react-intl'\nimport { Icon, ConfigProvider } from 'antd';\nimport {\n  Flex,\n  Text,\n  Box\n} from 'rebass'\n// import NavBarLevel1 from 'components/nav-bar/NavBarLevel1';\nimport TopNav from 'widgets/TopNav';\nimport Home from 'views/Home';\nimport Mine from 'views/mine/Mine';\nimport ActivityList from 'views/ActivityList';\nimport Activity from 'views/Activity';\nimport { notification } from 'utils'\n\nconst mapState = ({ persistData, appState }) => {\n  return {\n    persistData,\n    maintainInfo: appState.maintainInfo,\n    notification: appState.notification\n  }\n}\nconst mapDispatch = ({ }) => {\n  return {\n  }\n}\n\n@connect(mapState, mapDispatch)\n@injectIntl\nexport default class NumericInput extends React.Component {\n\n  componentWillReceiveProps(newProps) {\n    let { intl } = this.props\n    if (\n      // 不能加此判断，会导致进行两次相同的操作，第二次无效\n      // // newProps.notification.message !== this.props.notification.message && \n      // newProps.notification.message &&\n      // // 其他的都不变化，那能进入此函数，肯定是 notification 变化了\n      // newProps.ready === this.props.ready &&\n      // newProps.loading === this.props.loading &&\n      // newProps.selectedTab === this.props.selectedTab &&\n      // newProps.showMarketDrawer === this.props.showMarketDrawer\n\n      // 这种写法，即使内部的 message 不变，notification 这个引用本身会变。最简洁。\n      newProps.notification !== this.props.notification\n    ) {\n      let { type, message, ...otherProps } = newProps.notification\n      // 国际化只能在组件中。虽然有如下的方式，但是有内存泄露的风险。\n      // https://github.com/formatjs/react-intl/blob/master/docs/API.md#createintl\n      notification[type]({\n        message: intl.formatMessage({id: message}),\n        ...otherProps\n      })\n    }\n  }\n\n  render() {\n    let { intl, maintainInfo } = this.props\n\n    if (maintainInfo.closed) return (\n      <Flex variant=\"flexCenter\" sx={{\n        position: 'fixed',\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        margin: 'auto',\n        flexDirection: 'column',\n        justifyContent: 'center',\n        zIndex: 999\n      }} >\n        <Box sx={{\n          backgroundImage: `url(${maintainInfo.image})`,\n          backgroundSize: 'contain',\n          backgroundPosition: 'center',\n          backgroundRepeat: 'no-repeat',\n          width: 60,\n          height: 60,\n        }}>\n        </Box>\n        <Text mt={30} color=\"#78788C\" fontSize={1}>\n          <FormattedMessage id=\"maintain.text\" />\n        </Text>\n      </Flex>\n    )\n\n    const customizeRenderEmpty = () => (\n      <Box mt={20} sx={{ textAlign: 'center' }}>\n        <Icon type=\"exception\" style={{ fontSize: 35 }} />\n        <Text mt={'5px'}>{intl.formatMessage({id: 'noData'})}</Text>\n      </Box>\n    )\n\n    let { locale, market } = this.props.persistData\n    return (\n      <ConfigProvider renderEmpty={customizeRenderEmpty}>\n        {/* <NavBarLevel1 /> */}\n        <TopNav />\n        {/* Routes must be also defined in server.js */}\n        {/* basename 并没有什么卵用，只是对于 Link 组件的跳转，默认加上前缀 */}\n        <Switch basename={locale}>\n          <Route exact path=\"/\" render={() => <Redirect to={`/cn/trade/${market}`} />} />\n          <Route\n            exact\n            path=\"/trade\"\n            render={() => <Redirect to={`/cn/trade/${market}`} />}\n          />\n          <Route exact path=\"/:locale/trade/:market\" component={Home} />\n          <Route exact path=\"/:locale/mine/:tab\" component={Mine} />\n          <Route exact path=\"/:locale/activities\" component={ActivityList} />\n          <Route exact path=\"/:locale/activities/:id\" component={Activity} />\n        </Switch>\n      </ConfigProvider>\n\n    )\n  }\n}\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { ConnectedRouter } from 'connected-react-router';\nimport Routes from './routes';\nimport { connect } from 'react-redux';\nimport { IntlProvider } from 'react-intl'\nimport { messages } from './locales'\nimport { Spin } from 'antd';\nimport {\n  Box\n} from 'rebass'\nimport './App.less';\n\nconst App = ({ history, ready, loading, locale }) => {\n  // 需等待 persist/REHYDRATE 完成\n  if (!ready) return (\n    <Box pt=\"30%\" textAlign=\"center\">\n      <Spin size=\"large\" />\n    </Box>\n  )\n\n  return (\n      <IntlProvider locale={locale} key={locale} messages={messages[locale]}>\n        <Spin className=\"body-loading\" spinning={loading} size=\"large\" style={{height: '100vh', maxHeight: 'unset', zIndex:1001}}>\n          <ConnectedRouter history={history}>\n            <Routes />\n          </ConnectedRouter>\n        </Spin>\n      </IntlProvider>\n  )\n};\n\nApp.propTypes = {\n  history: PropTypes.object\n};\n\nconst mapState = ({ appState, persistData }) => {\n  return {\n    ready: appState.ready,\n    loading: appState.loading,\n    locale: persistData.locale,\n  }\n}\n\nconst mapDispatch = ({ metaMask, markets, socket }) => {\n  return {\n    fetchMarkets: markets.fetchMarkets,\n    startSocket: socket.start\n  };\n};\n\nexport default connect(mapState, mapDispatch)(App)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","var topNavHeight = [50, 50, 50]\nvar tableHeaderHeight = [30, 30, 30]\nvar topNavDividerHeight = 3\nvar exchangeDividerHeight = 3\nexport default {\n  // breakpoints: ['40em', '52em', '64em'],\n  // TODO: 需改为 1920\n  breakpoints: ['1366px', '1919px'],\n  space: [\n    0,\n    4,\n    8,\n    16,\n    32,\n    64,\n    128,\n    256,\n    512\n  ],\n  fonts: {\n    body: 'system-ui, sans-serif',\n    heading: 'inherit',\n    monospace: 'Menlo, monospace'\n  },\n  fontSizes: [\n    12,\n    14,\n    16,\n    20,\n    24,\n    32,\n    48,\n    64,\n    96\n  ],\n  fontWeights: {\n    body: 400,\n    heading: 700,\n    bold: 700\n  },\n  lineHeights: {\n    body: 1.5,\n    heading: 1.125\n  },\n  colors: {\n    text: '#000',\n    background: '#0A0F1E',\n    backgroundTint: '#0F1428',\n    primary: '#07c',\n    secondary: '#30c',\n    muted: '#f6f6f6',\n    hint: '#646478',\n    blue: '#0064FF',\n    success: '#50BE8c',\n    failure: '#F0505A',\n  },\n  styles: {\n    root: {\n      fontFamily: 'body',\n      lineHeight: 'body',\n      fontWeight: 'body'\n    },\n    h1: {\n      color: 'text',\n      fontFamily: 'heading',\n      lineHeight: 'heading',\n      fontWeight: 'heading',\n      fontSize: 5\n    },\n    h2: {\n      color: 'text',\n      fontFamily: 'heading',\n      lineHeight: 'heading',\n      fontWeight: 'heading',\n      fontSize: 4\n    },\n    h3: {\n      color: 'text',\n      fontFamily: 'heading',\n      lineHeight: 'heading',\n      fontWeight: 'heading',\n      fontSize: 3\n    },\n    h4: {\n      color: 'text',\n      fontFamily: 'heading',\n      lineHeight: 'heading',\n      fontWeight: 'heading',\n      fontSize: 2\n    },\n    h5: {\n      color: 'text',\n      fontFamily: 'heading',\n      lineHeight: 'heading',\n      fontWeight: 'heading',\n      fontSize: 1\n    },\n    h6: {\n      color: 'text',\n      fontFamily: 'heading',\n      lineHeight: 'heading',\n      fontWeight: 'heading',\n      fontSize: 0\n    },\n    p: {\n      color: 'text',\n      fontFamily: 'body',\n      fontWeight: 'body',\n      lineHeight: 'body'\n    },\n    a: {\n      color: 'primary'\n    },\n    pre: {\n      fontFamily: 'monospace',\n      overflowX: 'auto',\n      code: {\n        color: 'inherit'\n      }\n    },\n    code: {\n      fontFamily: 'monospace',\n      fontSize: 'inherit'\n    },\n    table: {\n      width: '100%',\n      borderCollapse: 'separate',\n      borderSpacing: 0\n    },\n    th: {\n      textAlign: 'left',\n      borderBottomStyle: 'solid'\n    },\n    td: {\n      textAlign: 'left',\n      borderBottomStyle: 'solid'\n    },\n    img: {\n      maxWidth: '100%'\n    }\n  },\n  shadows: {\n    small: '0 0 4px rgba(0, 0, 0, .125)',\n    large: '0 0 24px rgba(0, 0, 0, .125)'\n  },\n  variants: {\n    divider: {\n      topNav: {\n        bg: 'black',\n        border: 0,\n        height: topNavDividerHeight\n      },\n      exchangeX: {\n        bg: 'black',\n        border: 0,\n        width: '100%',\n        height: exchangeDividerHeight\n      },\n      exchangeY: {\n        bg: 'black',\n        border: 0,\n        width: exchangeDividerHeight,\n        height: '100%'\n      }\n    },\n    topNav: {\n      height: topNavHeight,\n      alignItems: 'center',\n    },\n    exchange: {\n      position: 'fixed',\n      top: topNavHeight.map(height => `${height + topNavDividerHeight}px`),\n      bottom: 0,\n      borderBottom: `${topNavDividerHeight * 1}px solid black`,\n      overflow: 'hidden'\n    },\n    mine: {\n      minHeight: topNavHeight.map(height => `calc(100vh - ${height + topNavDividerHeight}px)`),\n      bg: 'white',\n      justifyContent: \"center\",\n      alignItems: \"flex-start\"\n    },\n    noScrollbar: {\n      '::-webkit-scrollbar': {\n        display: 'none'\n      }\n    },\n    flexCenter: {\n      justifyContent: \"space-around\",\n      alignItems: \"center\"\n    },\n    clickable: {\n      cursor: 'pointer'\n    }\n  },\n  text: {\n  },\n  buttons: {\n    primary: {\n      color: 'white',\n      bg: 'primary',\n    }\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { AppContainer } from 'react-hot-loader';\nimport { Provider } from 'react-redux';\n\nimport './index.less';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// import configureStore, { history } from 'redux/configureStore';\nimport {history, store, reloadSaga} from 'store'\n\nimport theme from './theme'\nimport { ThemeProvider } from 'emotion-theming'\n\n// loadTheme({\n//   palette: {\n//     themePrimary: '#303030',\n//     themeLighterAlt: '#eff6fc',\n//     themeLighter: '#deecf9',\n//     themeLight: '#c7e0f4',\n//     themeTertiary: '#71afe5',\n//     themeSecondary: '#2b88d8',\n//     themeDarkAlt: '#106ebe',\n//     themeDark: '#005a9e',\n//     themeDarker: '#004578',\n//     neutralLighterAlt: '#f8f8f8',\n//     neutralLighter: '#272727', // Used in dropdown item when it's hovered.\n//     neutralLight: '#252525', // Used in dropdown item selected\n//     neutralQuaternaryAlt: '#dadada',\n//     neutralQuaternary: '#d0d0d0',\n//     neutralTertiaryAlt: '#c8c8c8',\n//     neutralTertiary: '#c2c2c2',\n//     neutralSecondary: '#858585',\n//     neutralPrimaryAlt: '#4b4b4b',\n//     neutralPrimary: '#333333',\n//     neutralDark: '#eeeeee',\n//     black: '#1d1d1d',\n//     white: '#ffffff'\n//   }\n// });\n\n// const store = configureStore();\nconst render = () => {\n  ReactDOM.render(\n    <AppContainer>\n      <Provider store={store}>\n        <ThemeProvider theme={theme}>\n          <App history={history} />\n        </ThemeProvider>\n      </Provider>\n    </AppContainer>,\n    document.getElementById('root')\n  );\n};\n\nrender();\n\n// Hot reloading\nif (module.hot) {\n  // Reload components\n  module.hot.accept('./App', () => {\n    render();\n  });\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import ethUtil from \"ethereumjs-util\";\nimport BigNumber from \"bignumber.js\";\nimport BN from \"bn.js\";\n\nBigNumber.config({\n  EXPONENTIAL_AT: 20,\n  RANGE: [-100000, 10000000],\n  ROUNDING_MODE: 1\n});\n\n/**\n *\n * @param mixed Buffer|number|string (hex string must be with '0x' prefix)\n * @returns {Buffer}\n */\nexport function toBuffer(mixed) {\n  if (mixed instanceof Buffer) {\n    return mixed;\n  } else {\n    return ethUtil.toBuffer(mixed);\n  }\n}\n\n/**\n *\n * @param mixed number | BigNumber |  BN  | Buffer | string\n * @returns {string}\n */\nexport function toHex(mixed) {\n  if (\n    typeof mixed === \"number\" ||\n    mixed instanceof BigNumber ||\n    mixed instanceof BN\n  ) {\n    return addHexPrefix(mixed.toString(16));\n  }\n\n  if (mixed instanceof Buffer) {\n    return addHexPrefix(mixed.toString(\"hex\"));\n  }\n\n  if (typeof mixed === \"string\") {\n    const regex = new RegExp(/^0x[0-9a-fA-F]*$/);\n    return regex.test(mixed)\n      ? mixed\n      : addHexPrefix(toBuffer(mixed).toString(\"hex\"));\n  }\n  throw new Error(\"Unsupported type\");\n}\n\n/**\n *\n * @param mixed number | BigNumber |  BN  | Buffer | string\n * @returns {number}\n */\nexport function toNumber(mixed) {\n  if (typeof mixed === \"number\") {\n    return mixed;\n  }\n\n  if (mixed instanceof BigNumber || mixed instanceof BN) {\n    return mixed.toNumber();\n  }\n\n  if (typeof mixed === \"string\") {\n    return Number(mixed);\n  }\n\n  throw new Error(\"Unsupported type\");\n}\n\n/**\n *\n * @param mixed number | BigNumber |  BN  | Buffer | string\n * @returns {BigNumber}\n */\nexport function toBig(mixed) {\n  if (mixed instanceof BigNumber) {\n    return mixed;\n  }\n\n  if (typeof mixed === \"number\") {\n    return new BigNumber(mixed.toString());\n  }\n\n  if (typeof mixed === \"string\") {\n    return new BigNumber(mixed);\n  }\n\n  throw new Error(\"Unsupported type\");\n}\n\n/**\n *\n * @param mixed number | BigNumber |  BN  | Buffer | string\n * @returns {BN}\n */\nexport function toBN(mixed) {\n  return mixed instanceof BN ? mixed : new BN(toBig(mixed).toString(10), 10);\n}\n\n/**\n *\n * @param mixed number | BigNumber |  BN  | Buffer | string\n * @returns {BN}\n */\nexport function fromGWEI(value) {\n  return toBig(value).times(1e9).decimalPlaces(0);\n}\n\n/**\n *\n * @param mixed number | BigNumber |  BN  | Buffer | string\n * @returns {BN}\n */\nexport function toGWEI(valueInWEI) {\n  // 必须先.decimalPlaces(0)，因为 wei 是不能带小数的。\n  return toBig(valueInWEI).decimalPlaces(0).div(1e9);\n}\n\n/**\n * Returns formatted hex string of a given private key\n * @param mixed Buffer| string\n * @returns {string}\n */\nexport function formatKey(mixed) {\n  if (mixed instanceof Buffer) {\n    return mixed.toString(\"hex\");\n  }\n\n  if (typeof mixed === \"string\") {\n    return mixed.startsWith(\"0x\") ? mixed.slice(2) : mixed;\n  }\n  throw new Error(\"Unsupported type\");\n}\n\n/**\n * Returns hex string of a given address\n * @param mixed Buffer | string\n * @returns {string}\n */\nexport function formatAddress(mixed) {\n  if (mixed instanceof Buffer) {\n    return ethUtil.toChecksumAddress(\"0x\" + mixed.toString(\"hex\"));\n  }\n\n  if (typeof mixed === \"string\") {\n    return ethUtil.toChecksumAddress(\n      mixed.startsWith(\"0x\") ? mixed : \"0x\" + mixed\n    );\n  }\n  throw new Error(\"Unsupported type\");\n}\n\n/**\n * Returns hex string with '0x' prefix\n * @param input\n * @returns {string}\n */\nexport function addHexPrefix(input) {\n  if (typeof input === \"string\") {\n    return input.startsWith(\"0x\") ? input : \"0x\" + input;\n  }\n  throw new Error(\"Unsupported type\");\n}\n\n/**\n * Returns hex string without '0x' prefix\n * @param input string\n * @returns {string}\n */\nexport function clearHexPrefix(input) {\n  if (typeof input === \"string\") {\n    return input.startsWith(\"0x\") ? input.slice(2) : input;\n  }\n  throw new Error(\"Unsupported type\");\n}\n\n/**\n *\n * @param hex\n * @returns {string}\n */\nexport function padLeftEven(hex) {\n  return hex.length % 2 !== 0 ? `0${hex}` : hex;\n}\n\n/**\n * Returns symbol of a given kind of currency\n * @param settingsCurrency\n * @returns {*}\n */\nexport function getDisplaySymbol(settingsCurrency) {\n  switch (settingsCurrency) {\n    case \"CNY\":\n      return \"￥\";\n    case \"USD\":\n      return \"$\";\n    default:\n      return \"\";\n  }\n}\n\n/**\n * Returns number in string with a given precision\n * @param number number | BigNumber\n * @param precision number\n * @param ceil bool  round up\n * @returns {string}\n */\nexport function toFixed(number, precision, ceil) {\n  precision = precision || 0;\n  ceil = ceil || false;\n  if (number instanceof BigNumber) {\n    const rm = ceil ? 0 : 1;\n    return number.toFixed(precision, rm);\n  }\n\n  if (typeof number === \"number\") {\n    return ceil\n      ? (\n          Math.ceil(number * Number(\"1e\" + precision)) /\n          Number(\"1e\" + precision)\n        ).toFixed(precision)\n      : (\n          Math.floor(number * Number(\"1e\" + precision)) /\n          Number(\"1e\" + precision)\n        ).toFixed(precision);\n  }\n\n  throw new Error(\"Unsupported type\");\n}\n\nexport default {};\n","import { hashPersonalMessage, keccak } from \"ethereumjs-util\";\nimport formatter, { toBig, toHex } from \"./formatter\";\n\n/**\n * trim head space and tail space\n * @param str string\n */\nexport function trim(str) {\n  return str.replace(/(^\\s+)|(\\s+$)/g, \"\");\n}\n\n/**\n * trim all spaces\n * @param str\n */\nexport function trimAll(str) {\n  return trim(str).replace(/\\s/g, \"\");\n}\n\nexport function keccakHash(str) {\n  return toHex(keccak(str));\n}\n\nexport function calculateGas(gasPrice, gasLimit) {\n  return toBig(gasPrice)\n    .times(gasLimit)\n    .div(1e9);\n}\n\nexport default {\n  hashPersonalMessage,\n  ...formatter,\n  trim,\n  trimAll,\n  keccakHash,\n  calculateGas\n};\n","import validator from \"./validator\";\nimport Response from \"../common/response\";\nimport code from \"../common/code\";\nimport { addHexPrefix, toHex, toNumber } from \"../common/formatter\";\nimport { hashPersonalMessage, sha3 } from \"ethereumjs-util\";\nimport EthTransaction from \"ethereumjs-tx\";\n\n/**\n * @description sign hash\n * @param web3\n * @param account\n * @param hash\n * @returns {Promise.<*>}\n */\nexport async function sign(web3, account, hash) {\n  try {\n    validator.validate({ value: account, type: \"ETH_ADDRESS\" });\n  } catch (e) {\n    return Promise.resolve(\n      new Response(code.PARAM_INVALID.code, code.PARAM_INVALID.msg)\n    );\n  }\n\n  return new Promise(resolve => {\n    web3.eth.sign(account, hash, function(err, result) {\n      if (!err) {\n        const r = result.slice(0, 66);\n        const s = addHexPrefix(result.slice(66, 130));\n        const v = toNumber(addHexPrefix(result.slice(130, 132)));\n        resolve({ result: { r, s, v } });\n      } else {\n        const errorMsg = err.message.substring(0, err.message.indexOf(\" at \"));\n        resolve({ error: { message: errorMsg } });\n      }\n    });\n  });\n}\n\n/**\n * @description sign message\n * @param web3\n * @param account\n * @param message\n * @returns {Promise}\n */\nexport function signMessage(web3, account, message) {\n  const hash = toHex(hashPersonalMessage(sha3(message)));\n  return sign(web3, account, hash);\n}\n\n/**\n * @description Signs ethereum tx\n * @param web3\n * @param account\n * @param rawTx\n * @returns {Promise.<*>}\n */\nexport async function signEthereumTx(web3, account, rawTx) {\n  try {\n    validator.validate({ value: rawTx, type: \"TX\" });\n  } catch (e) {\n    return Promise.resolve(\n      new Response(code.PARAM_INVALID.code, code.PARAM_INVALID.msg)\n    );\n  }\n  try {\n    const ethTx = new EthTransaction(rawTx);\n    const hash = toHex(ethTx.hash(false));\n    const response = await sign(web3, account, hash);\n    if (!response[\"error\"]) {\n      const signature = response[\"result\"];\n      signature.v += ethTx._chainId * 2 + 8;\n      Object.assign(ethTx, signature);\n      return { result: toHex(ethTx.serialize()) };\n    } else {\n      return response;\n    }\n  } catch (e) {\n    console.log(\"Failed to sign EthereumTx\");\n    console.log(e);\n    return e;\n  }\n}\n\n/**\n * @description Sends ethereum tx through MetaMask\n * @param web3\n * @param tx\n * @returns {*}\n */\nexport function sendTransaction(web3, tx) {\n  try {\n    validator.validate({ type: \"TX\", value: tx });\n  } catch (e) {\n    return Promise.resolve(\n      new Response(code.PARAM_INVALID.code, code.PARAM_INVALID.msg)\n    );\n  }\n\n  return new Promise(resolve => {\n    web3.eth.sendTransaction(tx, function(err, transactionHash) {\n      if (!err) {\n        resolve({ result: transactionHash });\n      } else {\n        const errorMsg = err.message.substring(0, err.message.indexOf(\" at \"));\n        resolve({ error: { message: errorMsg } });\n      }\n    });\n  });\n}\n","import { fromEthSale, fromPrivateKey, fromV1, fromV3 } from \"ethereumjs-wallet\";\nimport { clearHexPrefix } from \"../common/formatter\";\n\n/**\n * Returns private key of given keystore\n * @param keystore string\n * @param password string\n * @returns {Buffer}\n */\nexport function decryptKeystoreToPkey(keystore, password) {\n  let wallet;\n  const parsed = JSON.parse(keystore);\n  switch (determineKeystoreType(keystore)) {\n    case \"presale\":\n      wallet = decryptPresaleToPrivKey(keystore, password);\n      break;\n    case \"v1-unencrypted\":\n      wallet = Buffer.from(parsed.private, \"hex\");\n      break;\n    case \"v1-encrypted\":\n      wallet = decryptMewV1ToPrivKey(keystore, password);\n      break;\n    case \"v2-unencrypted\":\n      wallet = Buffer.from(parsed.privKey, \"hex\");\n      break;\n    case \"v2-v3-utc\":\n      wallet = decryptUtcKeystoreToPkey(keystore, password);\n      break;\n    default:\n      throw new Error(\"unrecognized type of keystore\");\n  }\n  return wallet;\n}\n\n/**\n * Returns keystore of a given ethereum private key with password\n * @param privateKey\n * @param password\n * @returns {{version, id, address, crypto}}  keystore\n */\nexport function pkeyToKeystore(privateKey, password) {\n  return fromPrivateKey(privateKey).toV3(password, { c: 1024, n: 1024 });\n}\n\n/**\n * Returns ethereum private key of given v3 keystore\n * @param keystore string\n * @param password string\n * @returns {Buffer}\n */\nexport function decryptUtcKeystoreToPkey(keystore, password) {\n  return fromV3(keystore, password, true).getPrivateKey();\n}\n\n/**\n * Returns type of a given keystore\n * @param keystore string\n * @returns {string}\n */\nexport function determineKeystoreType(keystore) {\n  const parsed = JSON.parse(keystore);\n  if (parsed.encseed) {\n    return \"presale\";\n  } else if (parsed.Crypto || parsed.crypto) {\n    return \"v2-v3-utc\";\n  } else if (parsed.hash && parsed.locked === true) {\n    return \"v1-encrypted\";\n  } else if (parsed.hash && parsed.locked === false) {\n    return \"v1-unencrypted\";\n  } else if (parsed.publisher === \"MyEtherWallet\") {\n    return \"v2-unencrypted\";\n  } else {\n    throw new Error(\"Invalid keystore\");\n  }\n}\n\n/**\n * Returns ethereum  private key of given presale keystore\n * @param keystore string\n * @param password string\n * @returns {Buffer}\n */\nexport function decryptPresaleToPrivKey(keystore, password) {\n  return fromEthSale(keystore, password).getPrivateKey();\n}\n\n/**\n * Returns ethereum  private key of given v1 keystore\n * @param keystore string\n * @param password string\n * @returns {Buffer}\n */\nexport function decryptMewV1ToPrivKey(keystore, password) {\n  return fromV1(keystore, password).getPrivateKey();\n}\n\n/**\n * Checks whether a password is required to decrypt the given keystore\n * @param keystore string\n * @returns {boolean}\n */\nexport function isKeystorePassRequired(keystore) {\n  switch (determineKeystoreType(keystore)) {\n    case \"presale\":\n      return true;\n    case \"v1-unencrypted\":\n      return false;\n    case \"v1-encrypted\":\n      return true;\n    case \"v2-unencrypted\":\n      return false;\n    case \"v2-v3-utc\":\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Returns V3 format fileName\n * @param address\n * @returns {string}\n */\nexport function getFileName(address) {\n  const ts = new Date();\n  return [\n    \"UTC--\",\n    ts.toJSON().replace(/:/g, \"-\"),\n    \"--\",\n    clearHexPrefix(address),\n    \".json\"\n  ].join(\"\");\n}\n","// Taken from\n// https://github.com/iden3/circomlib\n\nconst bn128 = require(\"snarkjs\").bn128;\nconst bigInt = require(\"snarkjs\").bigInt;\nconst blake2b = require(\"blake2b\");\nconst assert = require(\"assert\");\n\nconst F = bn128.Fr;\nconst SEED = \"poseidon\";\nconst NROUNDSF = 8;\nconst NROUNDSP = 57;\nconst T = 6;\n\nfunction getPseudoRandom(seed, n) {\n  const res = [];\n  let input = Buffer.from(seed);\n  let h = blake2b(32)\n    .update(input)\n    .digest();\n  while (res.length < n) {\n    const n = F.affine(bigInt.leBuff2int(h));\n    res.push(n);\n    h = blake2b(32)\n      .update(h)\n      .digest();\n  }\n\n  return res;\n}\n\nfunction allDifferent(v) {\n  for (let i = 0; i < v.length; i++) {\n    if (v[i].isZero()) return false;\n    for (let j = i + 1; j < v.length; j++) {\n      if (v[i].equals(v[j])) return false;\n    }\n  }\n  return true;\n}\n\nexport function getMatrix(t, seed, nRounds) {\n  if (typeof seed === \"undefined\") seed = SEED;\n  if (typeof nRounds === \"undefined\") nRounds = NROUNDSF + NROUNDSP;\n  if (typeof t === \"undefined\") t = T;\n  let nonce = \"0000\";\n  let cmatrix = getPseudoRandom(seed + \"_matrix_\" + nonce, t * 2);\n  while (!allDifferent(cmatrix)) {\n    nonce = Number(nonce) + 1 + \"\";\n    while (nonce.length < 4) nonce = \"0\" + nonce;\n    cmatrix = getPseudoRandom(seed + \"_matrix_\" + nonce, t * 2);\n  }\n\n  const M = new Array(t);\n  for (let i = 0; i < t; i++) {\n    M[i] = new Array(t);\n    for (let j = 0; j < t; j++) {\n      M[i][j] = F.affine(F.inverse(F.sub(cmatrix[i], cmatrix[t + j])));\n    }\n  }\n  return M;\n}\n\nexport function getConstants(t, seed, nRounds) {\n  if (typeof seed === \"undefined\") seed = SEED;\n  if (typeof nRounds === \"undefined\") nRounds = NROUNDSF + NROUNDSP;\n  if (typeof t === \"undefined\") t = T;\n  return getPseudoRandom(seed + \"_constants\", nRounds);\n}\n\nfunction ark(state, c) {\n  for (let j = 0; j < state.length; j++) {\n    state[j] = F.add(state[j], c);\n  }\n}\n\nfunction sigma(a) {\n  return F.mul(a, F.square(F.square(a, a)));\n}\n\nfunction mix(state, M) {\n  const newState = new Array(state.length);\n  for (let i = 0; i < state.length; i++) {\n    newState[i] = F.zero;\n    for (let j = 0; j < state.length; j++) {\n      newState[i] = F.add(newState[i], F.mul(M[i][j], state[j]));\n    }\n  }\n  for (let i = 0; i < state.length; i++) state[i] = newState[i];\n}\n\nexport function createHash(t, nRoundsF, nRoundsP, seed?) {\n  if (typeof seed === \"undefined\") seed = SEED;\n  if (typeof nRoundsF === \"undefined\") nRoundsF = NROUNDSF;\n  if (typeof nRoundsP === \"undefined\") nRoundsP = NROUNDSP;\n  if (typeof t === \"undefined\") t = T;\n\n  assert(nRoundsF % 2 == 0);\n  const C = getConstants(t, seed, nRoundsF + nRoundsP);\n  const M = getMatrix(t, seed, nRoundsF + nRoundsP);\n  return function(inputs) {\n    let state = [];\n    assert(inputs.length < t);\n    assert(inputs.length > 0);\n    for (let i = 0; i < inputs.length; i++) state[i] = bigInt(inputs[i]);\n    for (let i = inputs.length; i < t; i++) state[i] = F.zero;\n\n    for (let i = 0; i < nRoundsF + nRoundsP; i++) {\n      ark(state, C[i]);\n      if (i < nRoundsF / 2 || i >= nRoundsF / 2 + nRoundsP) {\n        for (let j = 0; j < t; j++) state[j] = sigma(state[j]);\n      } else {\n        state[0] = sigma(state[0]);\n      }\n      mix(state, M);\n    }\n    return F.affine(state[0]);\n  };\n}\n","import { mnemonicToSeed, validateMnemonic } from \"bip39\";\nimport { fromMasterSeed } from \"hdkey\";\n\n/**\n * Decrypt mnemonic into ethereum private key\n * @param mnemonic string\n * @param password string\n * @param dpath string\n */\nexport function mnemonictoPrivatekey(mnemonic, dpath, password) {\n  if (dpath) {\n    mnemonic = mnemonic.trim();\n    if (!validateMnemonic(mnemonic)) {\n      throw new Error(\"Invalid mnemonic\");\n    }\n    const seed = mnemonicToSeed(mnemonic, password);\n    const derived = fromMasterSeed(seed).derive(dpath);\n    return derived.privateKey;\n  } else {\n    throw new Error(\"dpath can't be null\");\n  }\n}\n\n/**\n * Valid mnemonic\n * @param phrase string\n * @returns {bool}\n */\nexport function isValidateMnemonic(phrase) {\n  return validateMnemonic(phrase);\n}\n","export default [\n  {\n    symbol: \"ETH\",\n    title: \"Ethereum\",\n    icon: true\n  },\n  {\n    symbol: \"WETH\",\n    title: \"WETH\",\n    icon: true\n  },\n  {\n    symbol: \"LRC\",\n    title: \"Loopring\",\n    icon: true\n  },\n  {\n    symbol: \"EOS\",\n    title: \"EOS\",\n    icon: true\n  },\n  {\n    symbol: \"QTUM\",\n    title: \"QTUM\",\n    icon: true\n  },\n  {\n    symbol: \"BNB\",\n    title: \"Binance\",\n    icon: true\n  },\n  {\n    symbol: \"ZRX\",\n    title: \"0x\",\n    icon: true\n  },\n  {\n    symbol: \"XRP\",\n    title: \"Ripple\",\n    icon: true\n  },\n  {\n    symbol: \"SNT\",\n    icon: true\n  },\n  {\n    symbol: \"AE\",\n    icon: true\n  },\n  {\n    symbol: \"TRX\",\n    tile: \"TRON\",\n    icon: true\n  },\n  {\n    symbol: \"RDN\",\n    title: \"Raiden Network\"\n  },\n  {\n    symbol: \"BTM\"\n  },\n  {\n    symbol: \"MCO\"\n  },\n  {\n    symbol: \"PPT\"\n  },\n  {\n    symbol: \"SWT\"\n  },\n  {\n    symbol: \"NMR\"\n  },\n  {\n    symbol: \"MTL\"\n  },\n  {\n    symbol: \"REX\"\n  },\n  {\n    symbol: \"SNGLS\"\n  },\n  {\n    symbol: \"OMG\"\n  },\n  {\n    symbol: \"SAN\"\n  },\n  {\n    symbol: \"ANT\"\n  },\n  {\n    symbol: \"ATM\"\n  },\n  {\n    symbol: \"DNT\"\n  },\n  {\n    symbol: \"STORJ\"\n  },\n  {\n    symbol: \"HMQ\"\n  },\n  {\n    symbol: \"TAAS\"\n  },\n  {\n    symbol: \"MGO\"\n  },\n  {\n    symbol: \"AST\"\n  },\n  {\n    symbol: \"LUN\"\n  },\n  {\n    symbol: \"1ST\"\n  },\n  {\n    symbol: \"REQ\"\n  },\n\n  {\n    symbol: \"FUN\"\n  },\n  {\n    symbol: \"XAUR\"\n  },\n  {\n    symbol: \"PAY\"\n  },\n  {\n    symbol: \"SALT\"\n  },\n  {\n    symbol: \"CFI\"\n  },\n  {\n    symbol: \"WINGS\"\n  },\n  {\n    symbol: \"GNT\"\n  },\n  {\n    symbol: \"TKN\"\n  },\n  {\n    symbol: \"GUP\"\n  },\n  {\n    symbol: \"BAT\"\n  },\n  {\n    symbol: \"RCN\"\n  },\n  {\n    symbol: \"KNC\"\n  },\n  {\n    symbol: \"PPP\"\n  },\n  {\n    symbol: \"MLN\"\n  },\n  {\n    symbol: \"REP\"\n  },\n  {\n    symbol: \"NET\"\n  },\n  {\n    symbol: \"WTC\"\n  },\n  {\n    symbol: \"MANA\"\n  },\n  {\n    symbol: \"CVC\"\n  },\n  {\n    symbol: \"ICN\"\n  },\n  {\n    symbol: \"RDN\"\n  },\n  {\n    symbol: \"ETHOS\"\n  },\n  {\n    symbol: \"POWR\"\n  },\n  {\n    symbol: \"BNT\"\n  },\n  {\n    symbol: \"PLU\"\n  },\n  {\n    symbol: \"EDG\"\n  },\n  {\n    symbol: \"ENG\"\n  },\n  {\n    symbol: \"KIN\"\n  },\n  {\n    symbol: \"GNO\"\n  },\n  {\n    symbol: \"LINK\"\n  },\n  {\n    symbol: \"RLC\"\n  },\n  {\n    symbol: \"QSP\"\n  },\n  {\n    symbol: \"IND\"\n  },\n  {\n    symbol: \"TRST\"\n  },\n  {\n    symbol: \"CAT\"\n  }\n];\n","import tokens from \"./tokens\";\n\nimport configs from \"./config.json\";\nimport wallets from \"./dpath.json\";\n\nexport { tokens, configs, wallets };\n","export {\n  default as UpOutline\n} from \"@ant-design/icons/lib/outline/UpOutline\";\nexport {\n  default as DownOutline\n} from \"@ant-design/icons/lib/outline/DownOutline\";\nexport {\n  default as CloseOutline\n} from \"@ant-design/icons/lib/outline/CloseOutline\";\nexport {\n  default as CheckOutline\n} from \"@ant-design/icons/lib/outline/CheckOutline\";\n\nexport {\n  default as RightOutline\n} from \"@ant-design/icons/lib/outline/RightOutline\";\nexport {\n  default as LeftOutline\n} from \"@ant-design/icons/lib/outline/LeftOutline\";\n\nexport {\n  default as CheckCircleOutline\n} from \"@ant-design/icons/lib/outline/CheckCircleOutline\";\nexport {\n  default as InfoCircleOutline\n} from \"@ant-design/icons/lib/outline/InfoCircleOutline\";\nexport {\n  default as ExclamationCircleOutline\n} from \"@ant-design/icons/lib/outline/ExclamationCircleOutline\";\nexport {\n  default as CloseCircleOutline\n} from \"@ant-design/icons/lib/outline/CloseCircleOutline\";\nexport {\n  default as CloseCircleFill\n} from \"@ant-design/icons/lib/fill/CloseCircleFill\";\nexport {\n  default as SearchOutline\n} from \"@ant-design/icons/lib/outline/SearchOutline\";\n\nexport {\n  default as CaretUpFill\n} from \"@ant-design/icons/lib/fill/CaretUpFill\";\nexport {\n  default as CaretDownFill\n} from \"@ant-design/icons/lib/fill/CaretDownFill\";\nexport {\n  default as CaretDownOutline\n} from \"@ant-design/icons/lib/outline/CaretDownOutline\";\n\n// export {\n//   default as EyeInvisibleFill\n// } from \"@ant-design/icons/lib/fill/EyeInvisibleFill\";\n// export {\n//   default as EyeFill\n// } from \"@ant-design/icons/lib/fill/EyeFill\";\nexport {\n  default as EyeInvisibleOutline\n} from \"@ant-design/icons/lib/outline/EyeInvisibleOutline\";\nexport {\n  default as EyeOutline\n} from \"@ant-design/icons/lib/outline/EyeOutline\";\n\nexport {\n  default as StarFill\n} from \"@ant-design/icons/lib/fill/StarFill\";\nexport {\n  default as LoadingOutline\n} from \"@ant-design/icons/lib/outline/LoadingOutline\";\nexport {\n  default as ExceptionOutline\n} from \"@ant-design/icons/lib/outline/ExceptionOutline\";","import basicSchemas from \"../common/schemas\";\n\nlet standSchemas = {\n  BASIC_TX: {\n    to: {\n      ...basicSchemas.ADDRESS\n    },\n    value: {\n      ...basicSchemas.ETH_DATA\n    },\n    gasLimit: {\n      type: \"string\",\n      pattern: /^0x[0-9a-fA-F]{1,64}$/g\n    },\n    gasPrice: {\n      type: \"string\",\n      pattern: /^0x[0-9a-fA-F]{1,64}$/g\n    },\n    chainId: {\n      type: \"number\"\n    },\n    nonce: {\n      type: \"string\",\n      required: true,\n      pattern: /^0x[0-9a-fA-F]{1,64}$/g\n    },\n    data: {\n      type: \"string\",\n      required: true,\n      pattern: /^0x[0-9a-fA-F]*$/g\n    }\n  },\n  TX: {\n    to: {\n      ...basicSchemas.ADDRESS\n    },\n    value: {\n      ...basicSchemas.ETH_DATA\n    },\n    gasLimit: {\n      ...basicSchemas.ETH_DATA\n    },\n    gasPrice: {\n      ...basicSchemas.ETH_DATA\n    },\n    chainId: {\n      type: \"number\",\n      required: true\n    },\n    nonce: {\n      ...basicSchemas.ETH_DATA\n    },\n    data: {\n      type: \"string\",\n      required: true,\n      pattern: /^0x[0-9a-fA-F]*$/g\n    },\n    signed: {\n      type: \"string\"\n    }\n  },\n  BASIC_TOKEN: {\n    address: {\n      ...basicSchemas.ADDRESS\n    },\n    symbol: {\n      type: \"string\"\n    },\n    name: {\n      type: \"string\"\n    },\n    digits: {\n      type: \"number\"\n    },\n    unit: {\n      type: \"string\"\n    },\n    website: {\n      type: \"url\"\n    },\n    allowance: {\n      type: \"number\"\n    },\n    precision: {\n      type: \"number\"\n    },\n    minTradeValue: {\n      type: \"number\"\n    }\n  },\n  TOKEN: {\n    address: {\n      ...basicSchemas.ADDRESS\n    },\n    symbol: {\n      type: \"string\",\n      required: true\n    },\n    name: {\n      type: \"string\",\n      required: true\n    },\n    digits: {\n      type: \"number\",\n      required: true\n    },\n    unit: {\n      type: \"string\",\n      required: true\n    },\n    website: {\n      type: \"url\"\n    },\n    allowance: {\n      type: \"number\",\n      required: true\n    },\n    precision: {\n      type: \"number\",\n      required: true\n    },\n    minTradeValue: {\n      type: \"number\",\n      required: true\n    }\n  }\n};\n\n// Hack: What is standSchemas?\nexport default standSchemas;\n","import Schema from \"async-validator\";\nimport basicSchemas from \"../common/schemas\";\nimport transactionSchmas from \"./schemas\";\n\nconst schemas = {\n  basic: {\n    ...basicSchemas\n  },\n  transaction: {\n    ...transactionSchmas\n  }\n};\n\nlet handleErrors = (errors, fields) => {\n  let msgs = errors.map(err => err.message).join();\n  throw new Error(`data type invalid: ${msgs} \\n`);\n};\n\nlet validate = payload => {\n  let { type, value, onError, onSuccess } = payload;\n  let source = {};\n  let schema = {};\n\n  // fix bug: if value undefined or null\n  if (typeof value === \"undefined\") {\n    throw new Error(`data type invalid: ${type} should not be undefined`);\n  }\n  if (value === null) {\n    throw new Error(`data type invalid: ${type} should not be null`);\n  }\n\n  if (schemas[\"basic\"][type]) {\n    // validate one field , schema & source must just has one field\n    schema[type] = schemas[\"basic\"][type];\n    source[type] = value;\n  }\n  if (schemas[\"transaction\"][type]) {\n    // validate multiple fileds , schema & source must has multiple fields\n    schema[type] = {\n      type: \"object\",\n      required: true,\n      fields: schemas[\"transaction\"][type]\n    };\n    source[type] = value;\n  }\n\n  // TODO: if schema empty\n  let validator = new Schema(schema);\n  validator.validate(source, (errors, fields) => {\n    if (errors) {\n      console.log(\"validate start source\", source);\n      console.log(\"validate start schema\", schema);\n      if (onError) {\n        onError(errors, fields);\n      } else {\n        handleErrors(errors, fields);\n      }\n    } else {\n      if (onSuccess) {\n        onSuccess();\n      }\n    }\n  });\n};\n\nexport default {\n  validate\n};\n","// @ts-ignore\n/* ts-disable */\nimport validator from \"./validator\";\nimport {\n  addHexPrefix,\n  formatAddress,\n  formatKey,\n  toBuffer,\n  toHex,\n  toNumber\n} from \"../common/formatter\";\nimport { decryptKeystoreToPkey, pkeyToKeystore } from \"./keystore\";\nimport {\n  ecsign,\n  hashPersonalMessage,\n  privateToAddress,\n  privateToPublic,\n  publicToAddress,\n  sha3\n} from \"ethereumjs-util\";\nimport { mnemonictoPrivatekey } from \"./mnemonic\";\nimport { generateMnemonic } from \"bip39\";\nimport { trimAll } from \"../common/utils\";\nimport HDKey from \"hdkey\";\nimport EthTransaction from \"ethereumjs-tx\";\nimport * as MetaMask from \"./metaMask\";\nimport Wallet from \"ethereumjs-wallet\";\n\nimport wallets from \"../config/wallets.json\";\nconst LoopringWallet = wallets.find(\n  wallet => trimAll(wallet.name).toLowerCase() === \"loopringwallet\"\n);\nexport const path = LoopringWallet.dpath;\n\nexport function createWallet() {\n  return Wallet.generate();\n}\n\n/**\n * @description Returns the ethereum address  of a given private key\n * @param privateKey\n * @returns {string}\n */\nexport function privateKeytoAddress(privateKey) {\n  try {\n    if (typeof privateKey === \"string\") {\n      validator.validate({ value: privateKey, type: \"ETH_KEY\" });\n      privateKey = toBuffer(addHexPrefix(privateKey));\n    } else {\n      validator.validate({ value: privateKey, type: \"PRIVATE_KEY_BUFFER\" });\n    }\n  } catch (e) {\n    throw new Error(\"Invalid private key\");\n  }\n  return formatAddress(privateToAddress(privateKey));\n}\n\n/**\n * @description Returns the ethereum address of a given public key.\n * Accepts \"Ethereum public keys\" and SEC1 encoded keys.\n * @param publicKey Buffer | string\n * @param sanitize bool [sanitize=false] Accept public keys in other formats\n * @returns {string}\n */\nexport function publicKeytoAddress(publicKey, sanitize) {\n  publicKey = toBuffer(publicKey);\n  return formatAddress(publicToAddress(publicKey, sanitize));\n}\n\n/**\n *\n * @param publicKey\n * @param chainCode\n * @param pageSize\n * @param pageNum\n * @returns {<Array>}\n */\nexport function getAddresses({ publicKey, chainCode, pageSize, pageNum }) {\n  const addresses = [];\n  const hdk = new HDKey();\n  hdk.publicKey =\n    publicKey instanceof Buffer ? publicKey : toBuffer(addHexPrefix(publicKey));\n  hdk.chainCode =\n    chainCode instanceof Buffer ? chainCode : toBuffer(addHexPrefix(chainCode));\n  for (let i = 0; i < pageSize; i++) {\n    const dkey = hdk.derive(`m/${i + pageSize * pageNum}`);\n    addresses.push(publicKeytoAddress(dkey.publicKey, true));\n  }\n  return addresses;\n}\n\n/**\n * @description Returns the ethereum public key of a given private key.\n * @param privateKey Buffer | string\n * @returns {string}\n */\nexport function privateKeytoPublic(privateKey) {\n  try {\n    if (typeof privateKey === \"string\") {\n      validator.validate({ value: privateKey, type: \"ETH_KEY\" });\n      privateKey = toBuffer(addHexPrefix(privateKey));\n    } else {\n      validator.validate({ value: privateKey, type: \"PRIVATE_KEY_BUFFER\" });\n    }\n  } catch (e) {\n    throw new Error(\"Invalid private key\");\n  }\n  return formatKey(privateToPublic(privateKey));\n}\n\n/**\n * @description Returns WalletAccount of given mnemonic, dpath and password\n * @param mnemonic string\n * @param dpath string\n * @param password string\n * @returns {WalletAccount}\n */\nexport function fromMnemonic(mnemonic, dpath, password) {\n  const privateKey = mnemonictoPrivatekey(mnemonic, dpath, password);\n  return fromPrivateKey(privateKey);\n}\n\n/**\n * @description Returns WalletAccount of a given private key\n * @param privateKey string | buffer\n * @returns {WalletAccount}\n */\nexport function fromPrivateKey(privateKey) {\n  return new PrivateKeyAccount(privateKey);\n}\n\n/**\n * @description Returns WalletAccount of the given keystore\n * @param keystore string\n * @param password string\n * @returns {WalletAccount}\n */\nexport function fromKeystore(keystore, password) {\n  const privateKey = decryptKeystoreToPkey(keystore, password);\n  return fromPrivateKey(privateKey);\n}\n\nexport function fromMetaMask(web3, account, address) {\n  return new MetaMaskAccount(web3, account, address);\n}\n\n/**\n * @description generate mnemonic\n * @param strength\n * @returns {*}\n */\nexport function createMnemonic(strength) {\n  return generateMnemonic(strength || 256);\n}\n\n// Hack: Failed to import in react web app\nexport class WalletAccount {\n  // Hack: to use in typescript\n  getAddress() {\n    return \"1\";\n  }\n\n  // /**\n  //  * @description sign\n  //  * @param hash\n  //  */\n  // sign(hash) {\n  //     throw Error('unimplemented');\n  // }\n\n  // /**\n  //  * @description Returns serialized signed ethereum tx\n  //  * @param rawTx\n  //  * @returns {string}\n  //  */\n  signEthereumTx(rawTx) {\n    throw Error(\"unimplemented\");\n  }\n\n  // /**\n  //  * @description Returns given order along with r, s, v\n  //  * @param order\n  //  */\n  // signOrder(order) {\n  //     throw Error('unimplemented');\n  // }\n\n  // /**\n  //  * @description Calculates an Ethereum specific signature with: sign(keccak256(\"\\x19Ethereum Signed Message:\\n\" + len(message) + message))).\n  //  * @param message string\n  //  */\n  // signMessage(message) {\n  //     throw Error('unimplemented');\n  // }\n\n  async sendTransaction(ethNode, signedTx) {\n    const response = await ethNode.sendRawTransaction(signedTx);\n    console.log(\"WalletAccount sendTransaction: \", response);\n    return response;\n  }\n}\n\nexport class PrivateKeyAccount extends WalletAccount {\n  privateKey: any;\n\n  /**\n   * @property\n   * @param privateKey string | Buffer\n   */\n  constructor(privateKey) {\n    super();\n    try {\n      if (typeof privateKey === \"string\") {\n        validator.validate({ value: privateKey, type: \"ETH_KEY\" });\n        privateKey = toBuffer(addHexPrefix(privateKey));\n      } else {\n        validator.validate({ value: privateKey, type: \"PRIVATE_KEY_BUFFER\" });\n      }\n    } catch (e) {\n      throw new Error(\"Invalid private key\");\n    }\n    this.privateKey = privateKey;\n  }\n\n  /**\n   * @description Returns V3 type keystore of this account\n   * @param password\n   * @returns {{version, id, address, crypto}}\n   */\n  toV3Keystore(password) {\n    return pkeyToKeystore(this.privateKey, password);\n  }\n\n  /**\n   * Returns ethereum public key of this account\n   * @returns {string}\n   */\n  getPublicKey() {\n    return privateKeytoPublic(this.privateKey);\n  }\n\n  getAddress() {\n    return privateKeytoAddress(this.privateKey);\n  }\n\n  sign(hash) {\n    hash = toBuffer(hash);\n    const signature = ecsign(hash, this.privateKey);\n    const v = toNumber(signature.v);\n    const r = toHex(signature.r);\n    const s = toHex(signature.s);\n    return { r, s, v };\n  }\n\n  signMessage(message) {\n    const hash = sha3(message);\n    const finalHash = hashPersonalMessage(hash);\n    return this.sign(finalHash);\n  }\n\n  signEthereumTx(rawTx) {\n    validator.validate({ type: \"TX\", value: rawTx });\n    const ethTx = new EthTransaction(rawTx);\n    ethTx.sign(this.privateKey);\n    return toHex(ethTx.serialize());\n  }\n}\n\nexport class MetaMaskAccount extends WalletAccount {\n  web3: any;\n  account: any;\n  address: string;\n\n  constructor(web3, account, address) {\n    super();\n    this.web3 = web3;\n    this.account = account;\n    this.address = address;\n  }\n\n  getAddress() {\n    return this.address;\n  }\n\n  async sign(hash) {\n    const result = await MetaMask.sign(this.web3, this.account, hash);\n    if (!result[\"error\"]) {\n      return result[\"result\"];\n    } else {\n      // SDK shouldn't throw any error\n      throw new Error(result[\"error\"][\"message\"]);\n    }\n  }\n\n  async signMessage(message) {\n    const result = await MetaMask.signMessage(this.web3, this.account, message);\n    if (!result[\"error\"]) {\n      return result[\"result\"];\n    } else {\n      // SDK shouldn't throw any error\n      throw new Error(result[\"error\"][\"message\"]);\n    }\n  }\n\n  async signEthereumTx(rawTx) {\n    const result = await MetaMask.signEthereumTx(\n      this.web3,\n      this.account,\n      rawTx\n    );\n    if (!result[\"error\"]) {\n      return result[\"result\"];\n    } else {\n      // SDK shouldn't throw any error\n      throw new Error(result[\"error\"][\"message\"]);\n    }\n  }\n\n  async sendTransaction(unused, rawTx) {\n    // 如果不填gasprice，则默认是 1Gwei\n\n    // 要用provider 的形式。\n    // react_devtools_backend.js:6 MetaMask: web3 will be deprecated in the near future in favor of the ethereumProvider\n    // https://github.com/MetaMask/faq/blob/master/detecting_metamask.md#deprecation-of-global-web3js\n    // rawTx.gasPrice = await this.web3.eth.getGasPrice(console.log)\n    // console.info(rawTx.gasPrice)\n\n    // dkey 的gasPrice格式还是没改成 gas。dkey 本来是标准的，但是适配成了中继不标准的。\n    let formatedTx = {\n      from: this.account,\n      to: rawTx.to,\n      value: rawTx.value,\n      gas: rawTx.gasLimit,\n      gasPrice: rawTx.gasPrice,\n      data: rawTx.data,\n      nonce: rawTx.nonce,\n      chain: rawTx.chainId\n    }\n    console.info({tx: formatedTx})\n    const result = await MetaMask.sendTransaction(\n      this.web3,\n      formatedTx\n    );\n    if (!result[\"error\"]) {\n      return result[\"result\"];\n    } else {\n      // SDK shouldn't throw any error\n      throw new Error(result[\"error\"][\"message\"]);\n    }\n  }\n}\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/wedexLogo.6266a393.svg\";","/* eslint-disable */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e(t.TradingView={})}(this,function(t){\"use strict\";var e=Object.assign||function(t){for(var e,o=arguments,i=1,n=arguments.length;i<n;i++)for(var s in e=o[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t};function o(t,i){var n=e({},t);for(var s in i)\"object\"!=typeof t[s]||null===t[s]||Array.isArray(t[s])?void 0!==i[s]&&(n[s]=i[s]):n[s]=o(t[s],i[s]);return n}var i={mobile:{disabled_features:[\"left_toolbar\",\"header_widget\",\"timeframes_toolbar\",\"edit_buttons_in_legend\",\"context_menus\",\"control_bar\",\"border_around_the_chart\"],enabled_features:[]}},n={width:800,height:500,symbol:\"AA\",interval:\"D\",timezone:\"Etc/UTC\",container_id:\"\",library_path:\"\",locale:\"en\",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{\"mainSeriesProperties.showCountdown\":!1},studies_overrides:{},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:\"5y\",resolution:\"W\"},{text:\"1y\",resolution:\"W\"},{text:\"6m\",resolution:\"120\"},{text:\"3m\",resolution:\"60\"},{text:\"1m\",resolution:\"30\"},{text:\"5d\",resolution:\"5\"},{text:\"1d\",resolution:\"1\"}],client_id:\"0\",user_id:\"0\",charts_storage_api_version:\"1.0\",favorites:{intervals:[],chartTypes:[]}};function s(){return\"1.14 (internal id 36c29828 @ 2019-09-24 10:39:54.259301)\"}var r=function(){function t(t){if(this._id=\"tradingview_\"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error(\"Datafeed is not defined\");if(this._options=o(n,t),t.preset){var e=i[t.preset];e?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(e.disabled_features):this._options.disabled_features=e.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(e.enabled_features):this._options.enabled_features=e.enabled_features):console.warn(\"Unknown preset: `\"+t.preset+\"`\")}\"Dark\"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:\"#131722\"}),this._create()}return t.prototype.onChartReady=function(t){this._ready?t.call(this):this._readyHandlers.push(t)},t.prototype.headerReady=function(){var t=this;return this._innerWindowLoaded.then(function(){return t._innerWindow().headerReady()})},t.prototype.onGrayedObjectClicked=function(t){this._innerAPI().onGrayedObjectClicked(t)},t.prototype.onShortcut=function(t,e){this._innerWindow().createShortcutAction(t,e)},t.prototype.subscribe=function(t,e){this._innerAPI().subscribe(t,e)},t.prototype.unsubscribe=function(t,e){this._innerAPI().unsubscribe(t,e)},t.prototype.chart=function(t){return this._innerAPI().chart(t)},t.prototype.setLanguage=function(t){this.remove(),this._options.locale=t,this._create()},t.prototype.setSymbol=function(t,e,o){this._innerAPI().changeSymbol(t,e+\"\",o)},t.prototype.remove=function(){window.removeEventListener(\"resize\",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},t.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},t.prototype.selectLineTool=function(t){this._innerAPI().selectLineTool(t)},t.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},t.prototype.save=function(t){this._innerAPI().saveChart(t)},t.prototype.load=function(t,e){this._innerAPI().loadChart({json:t,extendedData:e})},t.prototype.getSavedCharts=function(t){this._innerAPI().getSavedCharts(t)},t.prototype.loadChartFromServer=function(t){this._innerAPI().loadChartFromServer(t)},t.prototype.saveChartToServer=function(t,e,o,i){this._innerAPI().saveChartToServer(t,e,o,i)},t.prototype.removeChartFromServer=function(t,e){this._innerAPI().removeChartFromServer(t,e)},t.prototype.onContextMenu=function(t){this._innerAPI().onContextMenu(t)},t.prototype.createButton=function(t){return this._innerWindow().createButton(t)},t.prototype.showNoticeDialog=function(t){this._innerAPI().showNoticeDialog(t)},t.prototype.showConfirmDialog=function(t){this._innerAPI().showConfirmDialog(t)},t.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},t.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},t.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},t.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},t.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},t.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},t.prototype.addCustomCSSFile=function(t){this._innerWindow().addCustomCSSFile(t)},t.prototype.applyOverrides=function(t){this._options=o(this._options,{overrides:t}),this._innerWindow().applyOverrides(t)},t.prototype.applyStudiesOverrides=function(t){this._innerWindow().applyStudiesOverrides(t)},t.prototype.watchList=function(){return this._innerAPI().watchlist()},t.prototype.activeChart=function(){return this._innerAPI().activeChart()},t.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},t.prototype.layout=function(){return this._innerAPI().layout()},t.prototype.setLayout=function(t){this._innerAPI().setLayout(t)},t.prototype.layoutName=function(){return this._innerAPI().layoutName()},t.prototype.changeTheme=function(t){this._innerWindow().changeTheme(t)},t.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},t.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},t.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},t.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},t.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},t.prototype._innerWindow=function(){return this._iFrame.contentWindow},t.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+\"px\")},t.prototype._create=function(){var t=this,e=this._render(),o=document.getElementById(this._options.container_id);if(null===o)throw new Error(\"There is no such element - #\"+this._options.container_id);o.innerHTML=e,this._iFrame=o.querySelector(\"#\"+this._id);var i=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(i.style.width=\"100%\",this._options.fullscreen||(i.style.height=\"100%\")),window.addEventListener(\"resize\",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise(function(t){var e=function(){i.removeEventListener(\"load\",e,!1),t()};i.addEventListener(\"load\",e,!1)}),this._innerWindowLoaded.then(function(){t._innerWindow().widgetReady(function(){t._ready=!0;for(var e=0,o=t._readyHandlers;e<o.length;e++){var i=o[e];try{i.call(t)}catch(t){console.error(t)}}t._innerWindow().initializationFinished()})})},t.prototype._render=function(){var t=window;t[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,customIndicatorsUrl:this._options.indicators_file_name},this._options.saved_data&&(t[this._id].chartContent={json:this._options.saved_data});var e=(this._options.library_path||\"\")+\"static/\"+encodeURIComponent(this._options.locale)+\"-tv-chart.36c29828de05fa4d10c3.html#symbol=\"+encodeURIComponent(this._options.symbol)+\"&interval=\"+encodeURIComponent(this._options.interval)+(this._options.timeframe?\"&timeframe=\"+encodeURIComponent(this._options.timeframe):\"\")+(this._options.toolbar_bg?\"&toolbarbg=\"+encodeURIComponent(this._options.toolbar_bg.replace(\"#\",\"\")):\"\")+(this._options.studies_access?\"&studiesAccess=\"+encodeURIComponent(JSON.stringify(this._options.studies_access)):\"\")+\"&widgetbar=\"+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?\"&drawingsAccess=\"+encodeURIComponent(JSON.stringify(this._options.drawings_access)):\"\")+\"&timeFrames=\"+encodeURIComponent(JSON.stringify(this._options.time_frames))+\"&locale=\"+encodeURIComponent(this._options.locale)+\"&uid=\"+encodeURIComponent(this._id)+\"&clientId=\"+encodeURIComponent(String(this._options.client_id))+\"&userId=\"+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?\"&chartsStorageUrl=\"+encodeURIComponent(this._options.charts_storage_url):\"\")+(this._options.charts_storage_api_version?\"&chartsStorageVer=\"+encodeURIComponent(this._options.charts_storage_api_version):\"\")+(this._options.custom_css_url?\"&customCSS=\"+encodeURIComponent(this._options.custom_css_url):\"\")+(this._options.auto_save_delay?\"&autoSaveDelay=\"+encodeURIComponent(String(this._options.auto_save_delay)):\"\")+\"&debug=\"+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?\"&snapshotUrl=\"+encodeURIComponent(this._options.snapshot_url):\"\")+(this._options.timezone?\"&timezone=\"+encodeURIComponent(this._options.timezone):\"\")+(this._options.study_count_limit?\"&studyCountLimit=\"+encodeURIComponent(String(this._options.study_count_limit)):\"\")+(this._options.symbol_search_request_delay?\"&ssreqdelay=\"+encodeURIComponent(String(this._options.symbol_search_request_delay)):\"\")+(this._options.theme?\"&theme=\"+encodeURIComponent(String(this._options.theme)):\"\");return'<iframe id=\"'+this._id+'\" name=\"'+this._id+'\"  src=\"'+e+'\"'+(this._options.autosize||this._options.fullscreen?\"\":' width=\"'+this._options.width+'\" height=\"'+this._options.height+'\"')+' frameborder=\"0\" allowTransparency=\"true\" scrolling=\"no\" allowfullscreen style=\"display:block;\"></iframe>'},t}();window.TradingView=window.TradingView||{},window.TradingView.version=s,t.version=s,t.widget=r,Object.defineProperty(t,\"__esModule\",{value:!0})});\n","module.exports = __webpack_public_path__ + \"static/media/fullscreen.5f4ffc05.svg\";","module.exports = __webpack_public_path__ + \"static/media/chartTechnic.41ca9c0b.svg\";","module.exports = __webpack_public_path__ + \"static/media/chartSetting.e7a2fb3e.svg\";","module.exports = __webpack_public_path__ + \"static/media/depthAll.66afdc64.svg\";","module.exports = __webpack_public_path__ + \"static/media/depthSell.58406931.svg\";","module.exports = __webpack_public_path__ + \"static/media/depthBuy.efcbc04e.svg\";","module.exports = __webpack_public_path__ + \"static/media/award.86f95a8e.png\";","module.exports = __webpack_public_path__ + \"static/media/wedexLogoVertical.d319b12f.png\";","export default {\n  SUCC: { code: 0, msg: \"success\" },\n  PARAM_INVALID: { code: 1001, msg: \"parameter invalid\" }\n};\n","// Taken and modified from\n// https://github.com/iden3/circomlib\nimport { Bitstream } from \"./bitstream\";\nimport { KeyPair, Signature } from \"../../model/types\";\n\nconst createBlakeHash = require(\"blake-hash\");\nconst bigInt = require(\"snarkjs\").bigInt;\nconst babyJub = require(\"./babyjub\");\nconst poseidon = require(\"./poseidon\");\n\nexport class EdDSA {\n  // public static generateKeyPair(seed: string) {\n  //   let randomNumber = Bitstream.hashCode(seed);\n  //   let secretKey = bigInt(randomNumber.toString(10));\n  //   secretKey = secretKey.mod(babyJub.subOrder);\n  //   const publicKey = babyJub.mulPointEscalar(babyJub.Base8, secretKey);\n\n  //   const keyPair: KeyPair = {\n  //     publicKeyX: publicKey[0].toString(10),\n  //     publicKeyY: publicKey[1].toString(10),\n  //     secretKey: secretKey.toString(10)\n  //   };\n  //   return keyPair;\n  // }\n\n  public static generateKeyPair(seed) {\n    const secretKey = bigInt.leBuff2int(seed).mod(babyJub.subOrder);\n    const publicKey = babyJub.mulPointEscalar(babyJub.Base8, secretKey);\n    return {\n      publicKeyX: publicKey[0].toString(10),\n      publicKeyY: publicKey[1].toString(10),\n      secretKey: secretKey.toString(10),\n    }\n  }\n\n  public static sign(strKey: string, msg: string) {\n    const key = bigInt(strKey);\n    const prv = bigInt.leInt2Buff(key, 32);\n\n    const h1 = createBlakeHash(\"blake512\")\n      .update(prv)\n      .digest();\n    const msgBuff = bigInt.leInt2Buff(bigInt(msg), 32);\n    const rBuff = createBlakeHash(\"blake512\")\n      .update(Buffer.concat([h1.slice(32, 64), msgBuff]))\n      .digest();\n    let r = bigInt.leBuff2int(rBuff);\n    r = r.mod(babyJub.subOrder);\n\n    const A = babyJub.mulPointEscalar(babyJub.Base8, key);\n    const R8 = babyJub.mulPointEscalar(babyJub.Base8, r);\n\n    const hasher = poseidon.createHash(6, 6, 52);\n    const hm = hasher([R8[0], R8[1], A[0], A[1], msg]);\n    const S = r.add(hm.mul(key)).mod(babyJub.subOrder);\n\n    const signature: Signature = {\n      Rx: R8[0].toString(),\n      Ry: R8[1].toString(),\n      s: S.toString()\n    };\n    return signature;\n  }\n\n  public static verify(msg: string, sig: Signature, pubKey: string[]) {\n    const A = [bigInt(pubKey[0]), bigInt(pubKey[1])];\n    const R = [bigInt(sig.Rx), bigInt(sig.Ry)];\n    const S = bigInt(sig.s);\n\n    // Check parameters\n    if (!babyJub.inCurve(R)) return false;\n    if (!babyJub.inCurve(A)) return false;\n    if (S >= babyJub.subOrder) return false;\n\n    const hasher = poseidon.createHash(6, 6, 52);\n    const hm = hasher([R[0], R[1], A[0], A[1], bigInt(msg)]);\n\n    const Pleft = babyJub.mulPointEscalar(babyJub.Base8, S);\n    let Pright = babyJub.mulPointEscalar(A, hm);\n    Pright = babyJub.addPoint(R, Pright);\n\n    if (!Pleft[0].equals(Pright[0])) return false;\n    if (!Pleft[1].equals(Pright[1])) return false;\n\n    return true;\n  }\n}\n","// Schema Help： https://github.com/yiminghe/async-validator\n// required: value should be not empty eg: null, undefined, ''\n\nlet basicSchemas = {\n  STRING: {\n    type: \"string\",\n    required: true\n  },\n  OPTION_NUMBER: {\n    validator: (rule, value, cb) => {\n      if (value) {\n        if (typeof value === \"number\") {\n          cb();\n        } else {\n          cb(\"page number valid\");\n        }\n      } else {\n        cb();\n      }\n    }\n  },\n  URL: {\n    type: \"url\",\n    required: true\n  },\n  ADDRESS: {\n    type: \"string\",\n    required: true,\n    pattern: /^0x[0-9a-fA-F]{40}$/g\n  },\n  HEX: {\n    type: \"string\",\n    required: true,\n    pattern: /^0x[0-9a-fA-F]*$/g\n  },\n  ETH_DATA: {\n    type: \"string\",\n    required: true,\n    pattern: /^0x[0-9a-fA-F]{1,64}$/g\n  },\n  QUANTITY: {\n    type: \"string\",\n    required: true\n  },\n  PRIVATE_KEY: {\n    type: \"string\",\n    required: true,\n    len: 64\n  },\n  TX_HASH: {\n    type: \"string\",\n    required: true,\n    pattern: /^0x[0-9a-fA-F]{64}$/g\n  },\n  ABI_METHOD: {\n    type: \"enum\",\n    required: true,\n    enum: [\n      \"cancelOrder\",\n      \"cancelAllOrders\",\n      \"cancelOrdersByTokenPairs\",\n      \"approve\",\n      \"deposit\",\n      \"withdraw\",\n      \"transfer\",\n      \"balanceOf\",\n      \"allowance\",\n      \"symbol\",\n      \"name\",\n      \"decimals\",\n      \"bind\",\n      \"unbind\",\n      \"getBindingAddress\"\n    ]\n  },\n  RPC_TAG: {\n    type: \"enum\",\n    required: true,\n    enum: [\"latest\", \"earliest\", \"pending\"]\n  },\n  TIMESTAMP: {\n    type: \"string\"\n  },\n  PROJECT_ID: {\n    type: \"number\",\n    required: true,\n    min: 1\n  },\n  LOOPRING_TOKEN: {\n    type: \"enum\",\n    required: true,\n    enum: [\"LRC\", \"LRN\", \"LRQ\"]\n  },\n  PRIVATE_KEY_BUFFER: {\n    validator: (rule, value, cb) => {\n      if (value instanceof Buffer && value.length === 32) {\n        cb();\n      } else {\n        cb(\"private_key must be buffer\");\n      }\n    }\n  },\n  CURRENCY: {\n    type: \"string\",\n    required: true,\n    enum: [\"USD\", \"CNY\"]\n  },\n  DEFAULT_BLOCK: {\n    type: \"string\",\n    required: true,\n    enum: [\"earliest\", \"latest\", \"pending\"]\n  },\n  CANCEL_ORDER_TYPE: {\n    type: \"enum\",\n    required: true,\n    enum: [1, 2, 3, 4]\n  }\n};\n\nexport default basicSchemas;\n","import { bigInt, bn128 } from \"snarkjs\";\n\nexport let Base8 = [\n  bigInt(\n    \"16540640123574156134436876038791482806971768689494387082833631921987005038935\"\n  ),\n  bigInt(\n    \"20819045374670962167435360035096875258406992893633759881276124905556507972311\"\n  )\n];\nexport let order = bigInt(\n  \"21888242871839275222246405745257275088614511777268538073601725287587578984328\"\n);\nexport let subOrder = order.shr(3);\nexport let p = bn128.r;\n\nexport function addPoint(a, b) {\n  const q = bn128.r;\n  const cta = bigInt(\"168700\");\n  const d = bigInt(\"168696\");\n  const res = [];\n\n  res[0] = bigInt(\n    bigInt(a[0])\n      .mul(b[1])\n      .add(bigInt(b[0]).mul(a[1]))\n      .mul(\n        bigInt(\n          bigInt(\"1\").add(\n            d\n              .mul(a[0])\n              .mul(b[0])\n              .mul(a[1])\n              .mul(b[1])\n          )\n        ).inverse(q)\n      )\n  ).affine(q);\n  res[1] = bigInt(\n    bigInt(a[1])\n      .mul(b[1])\n      .sub(cta.mul(a[0]).mul(b[0]))\n      .mul(\n        bigInt(\n          bigInt(\"1\").sub(\n            d\n              .mul(a[0])\n              .mul(b[0])\n              .mul(a[1])\n              .mul(b[1])\n          )\n        ).inverse(q)\n      )\n  ).affine(q);\n\n  return res;\n}\n\nexport function mulPointEscalar(base, e) {\n  let res = [bigInt(\"0\"), bigInt(\"1\")];\n  let rem = bigInt(e);\n  let exp = base;\n\n  while (!rem.isZero()) {\n    if (rem.isOdd()) {\n      res = addPoint(res, exp);\n    }\n    exp = addPoint(exp, exp);\n    rem = rem.shr(1);\n  }\n\n  return res;\n}\n\nexport function inSubgroup(P) {\n  if (!inCurve(P)) return false;\n  const res = mulPointEscalar(P, subOrder);\n  return res[0].equals(bigInt(0)) && res[1].equals(bigInt(1));\n}\n\nexport function inCurve(P) {\n  const F = bn128.Fr;\n\n  const a = bigInt(\"168700\");\n  const d = bigInt(\"168696\");\n\n  const x2 = F.square(P[0]);\n  const y2 = F.square(P[1]);\n\n  if (!F.equals(F.add(F.mul(a, x2), y2), F.add(F.one, F.mul(F.mul(x2, y2), d))))\n    return false;\n\n  return true;\n}\n\nexport function packPoint(P) {\n  const buff = bigInt.leInt2Buff(P[1], 32);\n  if (P[0].greater(p.shr(1))) {\n    buff[31] = buff[31] | 0x80;\n  }\n  return buff;\n}\n\nexport function unpackPoint(_buff) {\n  const F = bn128.Fr;\n\n  const buff = Buffer.from(_buff);\n  let sign = false;\n  const P = new Array(2);\n  if (buff[31] & 0x80) {\n    sign = true;\n    buff[31] = buff[31] & 0x7f;\n  }\n  P[1] = bigInt.leBuff2int(buff);\n  if (P[1].greaterOrEquals(p)) return null;\n\n  const a = bigInt(\"168700\");\n  const d = bigInt(\"168696\");\n\n  const y2 = F.square(P[1]);\n\n  let x = F.sqrt(F.div(F.sub(F.one, y2), F.sub(a, F.mul(d, y2))));\n\n  if (x == null) return null;\n\n  if (sign) x = F.neg(x);\n\n  P[0] = F.affine(x);\n\n  return P;\n}\n\nexport default {\n  addPoint,\n  mulPointEscalar,\n  inCurve,\n  inSubgroup,\n  packPoint,\n  unpackPoint,\n  Base8,\n  order,\n  subOrder,\n  p,\n}"],"sourceRoot":""}