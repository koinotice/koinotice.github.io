{"version":3,"sources":["librarys/lightcone_v3/lib/wallet/common/response.ts","colors.js","appLayout.js","components/my-orders/MyOrdersOverview.js","librarys/lightcone_v3/lib/wallet/common/request.ts","librarys/lightcone_v3/lib/wallet/common/validator.ts","librarys/lightcone_v3/lib/wallet/common/index.ts","librarys/lightcone_v3/lib/wallet/ethereum/contracts/AbiFunction.ts","librarys/lightcone_v3/lib/wallet/ethereum/contracts/Contract.ts","librarys/lightcone_v3/lib/wallet/ethereum/contracts/Contracts.ts","librarys/lightcone_v3/lib/wallet/ethereum/contracts/index.ts","librarys/lightcone_v3/lib/wallet/ethereum/utils.ts","librarys/lightcone_v3/lib/wallet/ethereum/eth.ts","librarys/lightcone_v3/lib/wallet/ethereum/wallet.ts","librarys/lightcone_v3/lib/wallet/ethereum/index.ts","librarys/lightcone_v3/lib/wallet/config/index.ts","librarys/lightcone_v3/lib/wallet/ethereum/transaction.ts","librarys/lightcone_v3/model/types.ts","librarys/lightcone_v3/sign/exchange.ts","librarys/lightcone_v3/wallet/account.ts","components/my-orders/MyOrderTable.js","components/my-orders/MyDepositTable.js","components/my-orders/MyWithdrawalTable.js","components/my-orders/MyOrdersDetailView.js","components/my-orders/MyOrders.js","config/appConfig.js","api/LightconeAPI.js","redux/actions/ModalManager.js","components/my-balances/MyBalancesOverview.js","redux/actions/DexAccount.js","components/my-balances/MyBalanceTable.js","components/my-balances/MyBalancesDetailView.js","components/my-balances/MyBalances.js","components/referral/ReferralDetailView.js","components/referral/Referral.js","widgets/Common/TabNav.js","sagas/StartupSagas.js","api/wedexApi.js","api/index.js","utils/enum.js","sagas/index.js","store/models/appState.js","store/models/metaMask.js","store/models/dexAccount.js","store/models/depth.js","store/models/trade.js","store/models/candleStick.js","store/models/markets.js","store/models/tokens.js","store/models/placeOrder.js","store/models/balance.js","store/models/walletBalance.js","store/models/order.js","store/models/transfer.js","store/models/socket.js","store/models/rate.js","store/models/award.js","store/index.js","store/models/index.js","utils/index.js","widgets/Common/CoinInput.js","widgets/Dialog/funcfyDialog.js","widgets/Dialog/BrowserInvalidModal.js","widgets/Dialog/SignInModal.js","widgets/Dialog/UpsertPasswordModal.js","widgets/Dialog/TransferModal.js","components/PromisefyConfirm.js","widgets/Common/BillPreCheck.js","widgets/Common/FormErrorInfo.js","widgets/TopNav.js","widgets/Pair.js","widgets/Trade.js","widgets/TVChartContainer/api/index.js","widgets/TVChartContainer/index.js","widgets/TVChart.js","widgets/PlaceOrder.js","widgets/MyOrder.js","components/Pagination/index.js","components/Svg.js","widgets/Depth.js","widgets/EggAward.js","views/Home.js","views/mine/Balance.js","views/mine/Transfer.js","views/mine/Order.js","views/mine/Apikey.js","views/mine/Award.js","views/mine/Mine.js","routes/index.js","App.js","serviceWorker.js","theme.js","index.js","librarys/lightcone_v3/lib/wallet/common/formatter.ts","librarys/lightcone_v3/lib/wallet/common/utils.ts","librarys/lightcone_v3/lib/wallet/ethereum/metaMask.ts","librarys/lightcone_v3/lib/wallet/ethereum/keystore.ts","librarys/lightcone_v3/lib/sign/poseidon.ts","librarys/lightcone_v3/lib/wallet/ethereum/mnemonic.ts","librarys/lightcone_v3/lib/wallet/config/tokens.ts","librarys/lightcone_v3/lib/wallet/config/data.ts","icons.js","librarys/lightcone_v3/lib/wallet/ethereum/schemas.ts","librarys/lightcone_v3/lib/wallet/ethereum/validator.ts","librarys/lightcone_v3/lib/wallet/ethereum/walletAccount.ts","librarys/lightcone_v3/lib/sign/bitstream.ts","icons/switchSide.png","metamask.png","icons/wedexLogo.svg","charting_library/charting_library.min.js","icons/depthAll.svg","icons/depthSell.svg","icons/depthBuy.svg","icons/award.png","icons/wedexLogoVertical.png","librarys/lightcone_v3/lib/wallet/common/code.ts","librarys/lightcone_v3/lib/wallet/common/schemas.ts","librarys/lightcone_v3/lib/sign/babyjub.ts","librarys/lightcone_v3/lib/sign/eddsa.ts"],"names":["Response","errorCode","errorMsg","this","code","message","data","MyOrdersOverview","style","paddingTop","paddingLeft","paddingRight","paddingBottom","lineHeight","height","color","colors","fontWeight","fontSize","userSelect","marginTop","props","myOrders","length","React","Component","connect","state","layoutManager","dispatch","headers","checkStatus","response","status","error","Error","statusText","id","crypto","randomBytes","toString","request","host","options","timeOut","requestPromise","Promise","resolve","body","JSON","stringify","fetch","then","res","json","catch","e","timeoutPromise","reject","setTimeout","race","schemas","basic","basicSchemas","validate","payload","type","value","onError","onSuccess","source","schema","Schema","errors","fields","console","log","msgs","map","err","join","handleErrors","formatter","validator","utils","abi","require","AbiFunction","inputs","name","outputs","constant","inputTypes","outputTypes","methodAbiHash","toHex","methodID","abiInputs","parseInputs","clearHexPrefix","rawEncode","parseOutputs","rawDecode","toBuffer","encoded","addHexPrefix","undefined","output","BN","ethereumjs_abi","Contract","abiFunctions","funAbi","filter","reduce","acc","item","key","methodHash","method","abiFunction","encodeInputs","decodeOutputs","encode","methodId","slice","decodeEncodedInputs","WETH","wethAbi","ERC20Token","erc20Abi","AirdropContract","airdropAbi","ExchangeContract","exchangeAbi","Contracts","updateHost","newValue","getTransactionCount","address","tag","a","params","getGasPrice","estimateGas","tx","getAccountBalance","getTransactionByhash","hash","getTransactionRecipt","isValidEthAddress","getHash","sha3","Eth","PARAM_INVALID","msg","signedTx","sendRawTransaction","txHash","call","getWallet","wallets","localStorage","wallet","parse","find","toLowerCase","getNonce","toNumber","nonce","localNonce","Math","max","account","keystore","mnemonic","metamask","eth","setWallet","otherWallets","w","push","isInWhiteList","storeUnlockedAddress","unlockType","unlockedType","unlockedAddress","getUnlockedAddress","getUnlockedType","clearUnlockedAddress","fm","config","configs","fees","txs","whiteList","add","getTokenBySymbol","symbol","getTokens","token","tokens","getMarketBySymbol","baseToken","quoteToken","getMarkets","market","pricePrecision","getMarketsByTokenR","markets","getTokenByAddress","getMarketByPair","pair","pairArr","split","getGasLimitByType","getFeeByType","fee","isinWhiteList","getChainId","chainId","getExchangeId","exchangeId","getLabel","label","getMaxFeeBips","maxFeeBips","isSupportedMarket","m","toUpperCase","getTokenSupportedMarkets","leftMarket","getMarketsByTokenL","rightMarket","getWalletAddress","walletAddress","getExchangeAddress","exchangeAddress","getMaxAmountInWEI","maxAmount","getWallets","fromWEI","valueInWEI","precision","toBig","div","digits","toFixed","toWEI","times","Transaction","rawTx","raw","signed","EthTransaction","privateKey","walletType","path","complete","ethTx","sign","serialize","setChainId","setGasLimit","setGasPrice","KeyPair","publicKeyX","publicKeyY","secretKey","DexAccount","accountId","keyPair","WithdrawalRequest","tokenId","amount","amountInBN","tokenF","tokenFId","amountF","amountFInBN","signature","OrderRequest","owner","tokenS","tokenB","tokenSId","tokenBId","amountS","amountB","amountSInBN","amountBInBN","orderId","allOrNone","validSince","validUntil","buy","feeBips","rebateBips","signatureRx","signatureRy","signatureS","CancelRequest","orderToken","orderTokenId","GetAPIKeyRequest","SignAPIKeyRequest","FlexCancelRequest","orderHash","clientOrderId","SignFlexCancelRequest","assert","exchange","currentWalletAccount","seed","EdDSA","generateKeyPair","password","gasPrice","permission","getAddress","createAccountAndDeposit","publicX","publicY","ethereum","pubKeyX","pubKeyY","tokenAddress","to","feeInWEI","gasLimit","gasInWEI","plus","withdrawal","feeToken","startsWith","signWithdrawal","Poseidon","hasher","success","verify","order","Rx","Ry","s","tokenBuy","tokenSell","signOrder","floor","random","setupOrder","cancel","signCancel","sha256","Account","_spender","_value","signEthereumTx","verifyPassword","createOrUpdateAccountResposne","createOrUpdateAccount","signedEthereumTx","deposit","withdraw","submitWithdrawal","submitOrder","submitCancel","signGetApiKey","submitFlexCancel","MyOrderTable","tableTitleStyle","marginBottom","columns","title","dataIndex","width","i","size","filledFee","Number","side","price","date","Moment","timestamp","format","appLayout","borderWidth","borderStyle","dataSource","pagination","pageSize","scroll","y","BigNumber","MyDepositTable","transactions","transaction","txType","dividedBy","feeAmount","MyWithdrawalTable","ButtonGroup","Group","MyOrdersDetailView","selectedKey","tableComponent","unselectedButtonStyle","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","backgroundColor","marginRight","selectedButtonStyle","borderRadius","className","onClick","setState","Sider","Content","MyOrders","hasSider","borderRightStyle","borderRightWidth","borderColor","display","position","borderLeftStyle","relay","serverUrl","wsUrl","relayUrl","pollingIntervalRatio","wedex","ratioRecommendedGasPrice","appConfig","SHOW_DEPOSIT","SHOW_WITHDRAW","MyBalancesOverview","depositModalVisible","withdrawModalVisible","buttons","dexAccount","submitButtonStyle","submitBuyButtonStyle","submitSellButtonStyle","window","keyPairCipherText","block","showDepositModal","disabled","metaMask","isDesiredNetwork","showWithdrawModal","balances","show","MyBalanceTable","total","available","percentage","balance","totalAmount","asset","quality","MyBalancesDetailView","iconStyle","verticalAlign","MyBalances","ReferralDetailView","margin","textAlign","maxWidth","Referral","Pair","activeTab","tabs","tab","onChange","restProps","alignItems","justifyContent","sx","bg","cursor","setActive","text","children","startup","api","action","fetchMarkets","fetchTokens","appState","connectToMetaMask","loadAccount","setImmediateInterval","checkAccountOvertime","socket","checkHeartBeat","start","srvApi","axios","create","baseURL","setWalletAddr","addr","getUserBillEggPrizeList","restParams","get","postUserReadBillEggPrizeList","post","withoutThrow","func","notification","String","duration","parseResponse","resultInfo","errorData","errorMessage","_parseResponse","description","relayApi","responseData","limit","level","depth","bids","updatedBids","bid","updatedBid","volume","count","sizeInNumber","asks","updatedAsks","ask","updatedAsk","offset","apiKey","statuses","end","orders","updatedOrders","formatOrders","totalNum","skip","sendDeposit","getBalances","getOrders","cancelOrders","getEthBalance","getTokenBalance","sendWithdrawTransaction","getTrade","lightconeGetAccount","getDepth","getCandlestick","getApiKey","getTickers","getPrice","getTransactions","sendApprove","getOrderId","submitOrderToLightcone","getRecommendedGasPrice","getAllowance","wedexApi","XEnumItem","meta","getValue","XEnum","enumDict","enumItems","Object","values","keys","forEach","itemValue","_","getText","exist","ele","excludeIndex","specKey","includes","ENUM_ACCOUNT_STATUS","UNSIGNED","UNCREATED","CREATED","LOGGED_IN","CREATING","LOCKED","ENUM_ORDER_STATUS","PROCESSING","PROCESSED","CANCELLING","CANCELLED","EXPIRED","ENUM_TX_STATUS","RECEIVED","FAILED","ENUM_INTERVAL_TYPE","MIN_1","MIN_5","MIN_15","MIN_30","HOUR_1","HOUR_2","HOUR_4","HOUR_12","DAY_1","WEEK_1","onLocationChange","root","safeWrap","args","info","pathname","location","select","waitFor","toText","put","all","takeLatest","ready","loading","awardInfo","visible","unit","createdAt","reducers","update","showEggAward","closeAward","detect","startConnecting","isDesiredBrowser","installed","enable","updateMetaMask","effects","browser","valid","isMetaMask","autoRefreshOnNetworkChange","desireNetwork","networkVersion","fromMetaMask","web3","on","accounts","switchAccount","getAccount","initAccountFromMetaMask","initState","passwordHash","rememberMeStartTime","rememberMeMinutes","canceledOrders","clearAccountInfo","updateAccount","moment","isAfter","rootState","relayAccount","isFreeze","startFetchBalance","checkAccountCreated","interval","setInterval","checkPassword","genApiKey","clearInterval","scrollSellTableToBottom","tableDom","document","getElementsByClassName","tableBodyDom","scrollTop","scrollHeight","formatFromWEI","resp","currentMarket","baseSymbol","quoteSymbol","amountPrecision","totalPrecision","incrementalVersion","fetchDepth","marketPair","orderBy","subscribe","setLevel","scrollSellTable","incrementalUpdate","depthState","startVersion","endVersion","expectVersion","newData","chain","unionBy","trades","trade","toUpper","list","latestPrice","lastPrice","variation","page","updateVariation","fetchTrade","tradeState","concat","modified","dayInfo","tvSubscribers","fetchDayInfo","candleStick","candles","pick","subscribeBars","subscribeUID","onRealtimeCallback","resolution","symbolInfo","topic","newSub","lastBar","realtimeCb","unsubscribeBars","subscriberUID","sub","subscriber","newCancle","time","high","low","open","close","stars","currentTab","currentMarkets","cond","sort","sortDirection","updateFilterCond","updateMarketsTicker","tickers","formatTicker","ticker","latest","currentMatched","quoteTokens","uniq","defaultTab","setCurrentTab","setCurrentMarket","startFetchMarketInfo","fetchOrders","placeOrder","initialize","ws","readyState","reload","onSocketReady","starMarket","xorBy","fetchCurrentMarkets","pairs","buyPrice","buyAmount","buyTotal","sellPrice","sellAmount","sellTotal","marketBuyTotal","marketSellAmount","placeAnOrder","isBuy","exchangeAccount","tradingPrivKey","tokenSConfig","Date","getTime","signedEtheruemTx","channelId","placeBuyOrder","result","withLoading","placeSellOrder","formatBalances","frozenAmount","availAmount","fetchBalances","formatPageParams","newBalance","b","appendBalance","blance","fetchBalance","tokenSymbol","fetchAllBalances","walletBalance","historyStatus","allMarket","orderState","o","cancelAnOrders","cancelAllOrders","orderStore","promises","checkAllowance","depositAmout","allowance","txCount","types","fetchTransactions","transfer","realAmount","toTokenPrecision","approveTxCount","approveZero","approveMax","depositTo","onchainWithdrawal","lastPingTime","alert","WebSocket","onmessage","event","onMessage","onerror","onopen","polling","send","op","subInfo","rate","fetchRate","award","checkAward","now","isBefore","CNY","USD","legal","CNYRates","usdt","USDRates","sagaMiddleware","latestAward","billSn","read","newAward","rows","money","markRead","ids","history","createHashHistory","middleware","createContext","loggerMiddleware","createLogger","collapsed","createSagaMiddleware","historyMiddleware","routerMiddleware","initMiddleware","enhancers","applyMiddleware","store","init","models","redux","router","connectRouter","plugins","persistPlugin","createRematchPersist","whitelist","storage","asyncLocalStorage","version","initPlugin","run","rootSaga","renderIf","predicate","elemOrThunk","isFunction","handler","getState","genPasswordHash","lightConeUtils","keccakHash","ms","promisefy","asyncFunc","preArgs","callback","getPrecision","num","parts","asLegalMoney","rateTable","from","updatedOrder","baseTokenSymbol","quoteTokenSymbol","filledSize","filledVolume","filledInNumber","filled","InputGroup","min","approximate","useState","focused","setFocused","content","trigger","overlayStyle","compact","webkitBoxShadow","onKeyPress","test","target","currentTarget","selectionStart","selectionEnd","valueAsNumber","isNumber","isNaN","preventDefault","onBlur","onFocus","minWidth","flex","padding","pointerEvents","border","funcfy","createElement","ReactDOM","render","onDestory","unmountComponentAtNode","parentNode","removeChild","errorInfos","Widget","checkInput","form","getFieldProps","getFieldsError","flatten","validateFields","remember","loginSunccess","onSucess","modalTitle","equals","getFieldDecorator","getFieldsValue","noLabelLayout","wrapperCol","span","maskClosable","onOk","onCancel","onFail","footer","pt","pb","mx","onSubmit","submit","Item","labelCol","hasFeedback","rules","required","pattern","Password","mt","FormErrorInfo","items","UpsertPasswordModal","ml","htmlType","WrappedForm","connectedWidget","forwardRef","gasLimitInWEI","createAccountFee","recommendedGasEth","fetchWalletBalances","gasPriceInWEI","gasEth","confirmPassword","ethAvail","getEthAvail","common","toGWEI","ethBalance","ethAmount","gasEthForShow","formItemLayout","rule","getFieldValue","initialValue","marks","step","Option","buttonItemLayout","initialSymbol","initialType","balanceStore","walletBalanceStore","setVisible","setSymbol","setType","transferAmount","setTransferAmount","setRecommendedGasEth","setGasEth","useEffect","gas","balancesSymbols","walletBalancesSymbols","symbolOptions","union","walletEthAvail","getWalletEthAvail","withdrawFee","getAvailable","ethAvailable","defaultValue","src","switchSideIcon","right","top","InnerModal","renderContent","otherProps","ref","signIn","checkBrowser","PromisefyConfirm","bodyStyle","px","checkNetwork","invalidText","checkAddress","loadMetamask","checkSignedIn","SignInModal","useImperativeHandle","check","line","TopNav","activitis","link","billPreCheck","menus","mine","changePassword","clearStore","activity","newWindow","genMenu","subMenus","index","menu","signined","accountCreating","overlay","placement","overlayClassName","metamaskLogo","pl","take","takeRight","login","BillPreCheck","variant","wedexLogo","renderNav","as","withRouter","fuzzy","category","query","href","rel","filters","sorter","extra","field","upperCase","align","unused","record","haveStar","theme","onCell","rowIndex","stopPropagation","numeral","overflowY","borderBottom","Search","placeholder","allowClear","onRow","locale","emptyText","Trade","onWindowResize","tableHeight","offsetHeight","bind","addEventListener","removeEventListener","row","supportedResolutions","getOptions","option","onReady","cb","supported_resolutions","searchSymbols","userInput","symbolType","onResultReadyCallback","resolveSymbol","symbolName","onSymbolResolvedCallback","onResolveErrorCallback","lightcone_v3_config","symbol_stub","session","timezone","minmov","pricescale","pow","has_intraday","intraday_multipliers","supported_resolution","volume_precision","data_status","getBars","onHistoryCallback","onErrorCallback","firstDataRequest","toLocaleString","reverse","noData","startTimestamp","endTimestamp","last","parsedCandles","candle","onResetCacheNeededCallback","calculateHistoryDepth","resolutionBack","intervalBack","getLanguageFromURL","results","RegExp","exec","search","decodeURIComponent","replace","TVChartContainer","tvWidget","widgetOptions","debug","datafeed","Datafeed","container_id","containerId","library_path","libraryPath","frameborder","toolbar_bg","custom_css_url","overrides","disabled_features","enabled_features","charts_storage_url","chartsStorageUrl","charts_storage_api_version","chartsStorageApiVersion","client_id","clientId","user_id","userId","fullscreen","autosize","studies_overrides","studiesOverrides","time_frames","symbols_types","widget","onChartReady","chart","createStudy","remove","newProps","defaultProps","Intl","DateTimeFormat","resolvedOptions","timeZone","datafeedUrl","units","TVChart","py","pr","renderUnits","mr","percentPositins","PlaceOrder","updatePlaceOrder","lt","gt","flexDirection","ceil","percent","currentPrecision","baseBalance","quoteBalance","availBase","availQuote","TabNav","TransferModal","renderLimitBuyArea","getMinTradeValue","renderLimitSaleArea","renderMarketBuyArea","renderMarketSaleArea","MyOrder","checked","background","onTabChange","onChangeShowAll","tableLayout","QhPagination","handleSizeChange","fetchDataByPage","handleCurrentChange","currentPage","initPageSize","autoload","pageParams","fetchData","onFetched","current","onShowSizeChange","pageSizeOptions","showQuickJumper","icon","aria-hidden","xlinkHref","depthTypes","depthAllIcon","depthSellIcon","depthBuyIcon","Depth","clientHeight","activeType","precisions","col","onRowEvent","depthType","renderPrecisions","showHeader","Svg","maxLevel","range","bottom","left","backgroundImage","awardIcon","backgroundSize","backgroundPosition","zIndex","wedexLogoVertical","borderTop","Home","remainHeight","windowWidth","clientWidth","largeScreen","EggAward","TabPane","symbols","renderChart","memoize","overview","forceFit","radius","innerRadius","marketOptions","balanceTotal","usd","walletBalanceTotal","mb","marketsStore","walletBalances","walletColumns","initialSide","dexColumns","quote","onMouseEnter","renderOverview","renderFilters","onChangeTab","rowKey","RangePicker","transferColumns","onSymbolChanged","onSideChanged","marginLeft","onStatusChanged","startOf","toDate","valueOf","endOf","transfers","ethToken","minHeight","onDataFetched","reset","infos","startDate","billTime","Balance","Transfer","Order","Apikey","Award","Mine","match","oldTab","newTab","borderLeft","borderRight","routes","exact","component","startSocket","spinning","maxHeight","Boolean","hostname","topNavHeight","breakpoints","space","fonts","heading","monospace","fontSizes","fontWeights","bold","lineHeights","backgroundTint","primary","secondary","muted","hint","blue","failure","styles","fontFamily","h1","h2","h3","h4","h5","h6","p","pre","overflowX","table","borderCollapse","borderSpacing","th","borderBottomStyle","td","img","shadows","small","large","variants","divider","topNav","exchangeX","exchangeY","topNavDividerHeight","overflow","noScrollbar","flexCenter","clickable","getElementById","navigator","serviceWorker","registration","unregister","mixed","Buffer","ethUtil","toBN","fromGWEI","formatKey","formatAddress","toChecksumAddress","input","padLeftEven","hex","getDisplaySymbol","settingsCurrency","number","rm","EXPONENTIAL_AT","RANGE","ROUNDING_MODE","trim","str","trimAll","keccak","calculateGas","hashPersonalMessage","substring","indexOf","r","v","signMessage","_chainId","assign","sendTransaction","transactionHash","decryptKeystoreToPkey","parsed","determineKeystoreType","decryptPresaleToPrivKey","private","decryptMewV1ToPrivKey","privKey","decryptUtcKeystoreToPkey","pkeyToKeystore","fromPrivateKey","toV3","c","n","fromV3","getPrivateKey","encseed","Crypto","locked","publisher","fromEthSale","fromV1","isKeystorePassRequired","getFileName","toJSON","bn128","bigInt","blake2b","F","Fr","SEED","NROUNDSF","NROUNDSP","T","getPseudoRandom","h","digest","affine","leBuff2int","allDifferent","isZero","j","getMatrix","t","nRounds","cmatrix","M","Array","inverse","getConstants","ark","sigma","mul","square","mix","newState","zero","createHash","nRoundsF","nRoundsP","C","mnemonictoPrivatekey","dpath","validateMnemonic","mnemonicToSeed","fromMasterSeed","derive","isValidateMnemonic","phrase","tile","standSchemas","BASIC_TX","ADDRESS","ETH_DATA","TX","BASIC_TOKEN","website","minTradeValue","TOKEN","transactionSchmas","createWallet","Wallet","generate","privateKeytoAddress","privateToAddress","publicKeytoAddress","publicKey","sanitize","publicToAddress","getAddresses","chainCode","pageNum","addresses","hdk","HDKey","dkey","privateKeytoPublic","privateToPublic","fromMnemonic","PrivateKeyAccount","fromKeystore","MetaMaskAccount","createMnemonic","strength","generateMnemonic","WalletAccount","ethNode","ecsign","finalHash","MetaMask","Bitstream","initialData","equal","element","x","numBytes","formattedData","padString","insert","addHex","addBigNumber","parseInt","extractData","extractBytesX","targetLength","imul","charCodeAt","abs","module","exports","arguments","prototype","hasOwnProperty","isArray","mobile","widgetbar","details","watchlist","watchlist_settings","default_symbols","brokerConfig","configFlags","logo","favorites","intervals","chartTypes","_id","_ready","_readyHandlers","_onWindowResize","_autoResizeChart","_options","preset","warn","loading_screen","_create","headerReady","_innerWindowLoaded","_innerWindow","onGrayedObjectClicked","_innerAPI","onShortcut","createShortcutAction","unsubscribe","setLanguage","changeSymbol","splice","_iFrame","closePopupsAndDialogs","selectLineTool","selectedLineTool","save","saveChart","load","loadChart","extendedData","getSavedCharts","loadChartFromServer","saveChartToServer","removeChartFromServer","onContextMenu","createButton","showNoticeDialog","showConfirmDialog","showLoadChartDialog","showSaveAsChartDialog","symbolInterval","getSymbolInterval","mainSeriesPriceFormatter","getIntervals","getStudiesList","addCustomCSSFile","applyOverrides","applyStudiesOverrides","watchList","activeChart","chartsCount","layout","setLayout","layoutName","changeTheme","takeScreenshot","lockAllDrawingTools","hideAllDrawingTools","undoRedoState","tradingViewApi","contentWindow","innerHeight","_render","innerHTML","querySelector","widgetReady","initializationFinished","customFormatters","brokerFactory","disabledFeatures","enabledFeatures","restConfig","numeric_formatting","rss_news_feed","newsProvider","news_provider","loadLastChart","load_last_chart","saveLoadAdapter","save_load_adapter","settingsAdapter","settings_adapter","customIndicatorsUrl","indicators_file_name","saved_data","chartContent","encodeURIComponent","timeframe","studies_access","drawings_access","auto_save_delay","snapshot_url","study_count_limit","symbol_search_request_delay","TradingView","defineProperty","SUCC","STRING","OPTION_NUMBER","URL","HEX","QUANTITY","PRIVATE_KEY","len","TX_HASH","ABI_METHOD","enum","RPC_TAG","TIMESTAMP","PROJECT_ID","LOOPRING_TOKEN","PRIVATE_KEY_BUFFER","CURRENCY","DEFAULT_BLOCK","CANCEL_ORDER_TYPE","Base8","subOrder","shr","addPoint","q","cta","d","mulPointEscalar","base","rem","exp","isOdd","inSubgroup","P","inCurve","x2","y2","one","packPoint","buff","leInt2Buff","greater","unpackPoint","_buff","greaterOrEquals","sqrt","neg","createBlakeHash","babyJub","poseidon","randomNumber","hashCode","mod","strKey","prv","msgBuff","rBuff","A","R8","hm","S","sig","pubKey","R","Pleft","Pright"],"mappings":"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","file":"static/js/main.6c759ccf.chunk.js","sourcesContent":["export default class Response {\n  constructor(errorCode, errorMsg) {\n    this[\"id\"] = \"1\";\n    this[\"result\"] = null;\n    this[\"error\"] = {\n      code: errorCode,\n      message: errorMsg,\n      data: null\n    };\n  }\n}\n\n// common/config/config.json index.js\n// loopring/ethereum/abi.js token.js transaction.js util.js\n","export default {\n  buyPrimary: '#388e3c', // green\n  buySecondary: '#4caf50bb', // muted green\n  buyBar: '#4caf50',\n\n  sellPrimary: '#d32f2f', // orange\n  sellSecondary: '#f44336bb', // muted orange\n  sellBar: '#f44336a0',\n\n  textHighContrast: '#eeeeee', // near white\n  textMedContrast: '#bbbbbb', // light grey. It was a0a0a0\n  textLowContrast: '#424242', // normal grey\n  darkGrey: '#222222', // dark grey\n\n  parentBackground: '#0d0d0d', // dark grey. Primary background color.\n  parentHoverBackground: '#010101', // darkest grey, used in clicked row\n\n  darkBlue: '#161616', // Header background color.\n\n  // Have issues to configure in javascript.\n  // Configure in App.less\n  darkBlueInput: '#25415a', // not used\n\n  border: '#303030', // '#2d2d2d', '#333333'\n\n  theme: '#1c60ff'\n};\n","export default {\n  innerBorderWidth: '1px',\n  borderWidth: '1px',\n  leftSideWidth: '290px',\n  orderBookWidth: '300px',\n  navBarTabWidth: '110px',\n  navBarLevel1Height: '52px',\n  navBarLevel2Height: '45px',\n  mainScreenHeight: 'calc(100vh - 52px - 45px - 1px - 1px - 1px)', // consider border width\n  myOrdersScreenHeight: 'calc(100vh - 52px - 1px - 1px - 1px)',\n  myBalanceTableScreenHeight: '600px',\n  myOrderTableScreenHeight: '470px',\n  // Wallet Balance Model\n  walletBalanceModalWidth: '260px',\n  walletBalanceModalHeight: '300px'\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport colors from 'colors';\n\nclass MyOrdersOverview extends React.Component {\n  render() {\n    return (\n      <div\n        style={{\n          paddingTop: '30px',\n          paddingLeft: '30px',\n          paddingRight: '30px',\n          paddingBottom: '30px'\n        }}\n      >\n        <div\n          style={{\n            lineHeight: '53px',\n            height: '53px',\n            color: colors.textMedContrast,\n            fontWeight: 700,\n            fontSize: '1.4rem',\n            userSelect: 'none'\n          }}\n        >\n          Order Overview\n        </div>\n        <div\n          style={{\n            marginTop: '30px',\n            color: colors.textLowContrast,\n            fontWeight: 400,\n            fontSize: '0.9rem',\n            userSelect: 'none'\n          }}\n        >\n          Number of Orders\n        </div>\n        <div\n          style={{\n            marginTop: '10px',\n            color: colors.textMedContrast,\n            fontWeight: 400,\n            fontSize: '1.4rem'\n          }}\n        >\n          {this.props.myOrders.myOrders.length}\n        </div>\n        <div\n          style={{\n            marginTop: '30px',\n            color: colors.textLowContrast,\n            fontWeight: 400,\n            fontSize: '0.9rem',\n            userSelect: 'none'\n          }}\n        >\n          Volume Past 30 Days\n        </div>\n        <div\n          style={{\n            marginTop: '10px',\n            color: colors.textMedContrast,\n            fontWeight: 400,\n            fontSize: '1.4rem'\n          }}\n        >\n          0.00\n        </div>\n        <div\n          style={{\n            marginTop: '30px',\n            color: colors.textLowContrast,\n            fontWeight: 400,\n            fontSize: '0.9rem',\n            userSelect: 'none'\n          }}\n        >\n          Fees Accrued Past 30 Days\n        </div>\n        <div\n          style={{\n            marginTop: '10px',\n            color: colors.textMedContrast,\n            fontWeight: 400,\n            fontSize: '1.4rem'\n          }}\n        >\n          0.00\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { layoutManager, myOrders } = state;\n  return { layoutManager, myOrders };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MyOrdersOverview);\n","import \"isomorphic-fetch\";\nimport crypto from \"crypto\";\n\nconst headers = {\n  \"Content-Type\": \"application/json\"\n};\n\nfunction checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  } else {\n    const error = new Error(response.statusText);\n    error[\"response\"] = response;\n    throw error;\n  }\n}\n\n/**\n * @description Supports single request and batch request;\n * @param host\n * @param options\n * @param timeOut\n * @returns {Promise}\n */\nfunction request(host: string, options: any, timeOut?: number) {\n  timeOut = timeOut || 15000;\n  const requestPromise = new Promise(resolve => {\n    if (options.body) {\n      options.headers = options.headers || headers;\n      options.body = JSON.stringify(options.body);\n    }\n    fetch(host, options)\n      .then(checkStatus)\n      .then(res => res.json())\n      .then(data => resolve(data))\n      .catch(e => {\n        resolve({ error: e });\n      });\n  });\n  const timeoutPromise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve({ error: { message: \"request time out\" } });\n    }, timeOut);\n  });\n  return Promise.race([requestPromise, timeoutPromise]);\n}\n\n/**\n * @description Returns a random hex string\n */\nexport function id() {\n  return crypto.randomBytes(8).toString(\"hex\");\n}\n\nexport default request;\n","import Schema from \"async-validator\";\nimport basicSchemas from \"./schemas\";\n\nconst schemas = {\n  basic: {\n    ...basicSchemas\n  }\n};\n\nlet handleErrors = (errors, fields) => {\n  let msgs = errors.map(err => err.message).join();\n  throw new Error(`data type invalid: ${msgs} \\n`);\n};\n\nlet validate = payload => {\n  let { type, value, onError, onSuccess } = payload;\n  let source = {};\n  let schema = {};\n\n  // fix bug: if value undefined or null\n  if (typeof value === \"undefined\") {\n    throw new Error(`data type invalid: ${type} should not be undefined`);\n  }\n  if (value === null) {\n    throw new Error(`data type invalid: ${type} should not be null`);\n  }\n\n  if (schemas[\"basic\"][type]) {\n    // validate one field , schema & source must just has one field\n    schema[type] = schemas[\"basic\"][type];\n    source[type] = value;\n  }\n\n  // TODO: if schema empty\n  let validator = new Schema(schema);\n  validator.validate(source, (errors, fields) => {\n    if (errors) {\n      console.log(\"validate start source\", source);\n      console.log(\"validate start schema\", schema);\n      if (onError) {\n        onError(errors, fields);\n      } else {\n        handleErrors(errors, fields);\n      }\n    } else {\n      if (onSuccess) {\n        onSuccess();\n      }\n    }\n  });\n};\n\nexport default {\n  validate\n};\n","import request from \"./request\";\nimport * as formatter from \"./formatter\";\nimport validator from \"./validator\";\nimport code from \"./code\";\nimport response from \"./response\";\nimport * as utils from \"./utils\";\n\nexport default {\n  formatter,\n  request,\n  validator,\n  code,\n  response,\n  utils\n};\n","// Using import {*} from 'ethereumjs-abi'; failed to import ethereumjs-abi\nvar abi = require(\"ethereumjs-abi\");\nimport {\n  addHexPrefix,\n  clearHexPrefix,\n  toBuffer,\n  toHex\n} from \"../../common/formatter\";\nimport BN from \"bn.js\";\n\nexport default class AbiFunction {\n  name: string;\n  inputTypes: string[];\n  inputs: any[];\n  outputTypes: string[];\n  outputs: any[];\n  constant: string;\n  methodAbiHash: string;\n\n  constructor({ inputs, name, outputs, constant }) {\n    this.name = name;\n    this.inputTypes = inputs.map(({ type }) => type);\n    this.inputs = inputs;\n    this.outputTypes = outputs.map(({ type }) => type);\n    this.outputs = outputs;\n    this.constant = constant;\n    this.methodAbiHash = toHex(abi.methodID(name, this.inputTypes));\n  }\n\n  /**\n   * @description Returns encoded methodId and inputs\n   * @param inputs Object, examples {owner:\"0x000...}\n   * @returns {string}\n   */\n  encodeInputs(inputs) {\n    const abiInputs = this.parseInputs(inputs);\n    return (\n      this.methodAbiHash +\n      clearHexPrefix(toHex(abi.rawEncode(this.inputTypes, abiInputs)))\n    );\n  }\n\n  /**\n   * @description decode ethereum jsonrpc response result\n   * @param outputs\n   * @returns {*}\n   */\n  decodeOutputs(outputs) {\n    return this.parseOutputs(\n      abi.rawDecode(this.outputTypes, toBuffer(outputs))\n    );\n  }\n\n  /**\n   * @description decode encoded inputs\n   * @param encoded\n   * @returns {*}\n   */\n  decodeEncodedInputs(encoded) {\n    return this.parseOutputs(\n      abi.rawDecode(this.inputTypes, toBuffer(addHexPrefix(encoded)))\n    );\n  }\n\n  parseInputs(inputs = {}) {\n    return this.inputs.map(({ name, type }) => {\n      if (inputs[name] === undefined) {\n        throw new Error(`Parameter ${name} of type ${type} is required!`);\n      }\n      return inputs[name];\n    });\n  }\n\n  parseOutputs(outputs) {\n    return outputs.map(output => {\n      if (output instanceof BN) {\n        return toHex(output);\n      }\n      return output;\n    });\n  }\n}\n","import AbiFunction from \"./AbiFunction\";\nimport { toHex } from \"../../common/formatter\";\nvar ethereumjs_abi = require(\"ethereumjs-abi\");\n\nexport default class Contract {\n  abiFunctions: any;\n\n  constructor(abi) {\n    const funAbi = abi.filter(({ type }) => type === \"function\");\n    this.abiFunctions = funAbi.reduce((acc, item) => {\n      const inputTypes = item.inputs.map(({ type }) => type);\n      const key = `${item.name}(${inputTypes.toString()})`;\n      const methodHash = ethereumjs_abi.methodID(item.name, inputTypes);\n      return {\n        ...acc,\n        [item.name]: new AbiFunction(item),\n        [key]: new AbiFunction(item),\n        [methodHash]: new AbiFunction(item)\n      };\n    });\n  }\n\n  /**\n   * @description Encodes inputs data according to  ethereum abi\n   * @param method string can be full method or just method name, examples: 'balanceOf' or balanceOf(address)\n   * @param inputs array\n   * @returns {*|string}\n   */\n  encodeInputs(method, inputs) {\n    const abiFunction = this.abiFunctions[method];\n    if (abiFunction) {\n      return abiFunction.encodeInputs(inputs);\n    } else {\n      throw new Error(`No  ${method} method according to abi `);\n    }\n  }\n\n  /**\n   * @description Decodes outputs\n   * @param method string can be full method or just method name, examples: 'balanceOf' or balanceOf(address)\n   * @param outputs string\n   * @returns {*}\n   */\n  decodeOutputs(method, outputs) {\n    const abiFunction = this.abiFunctions[method];\n    if (abiFunction) {\n      return abiFunction.decodeOutputs(outputs);\n    } else {\n      throw new Error(`No  ${method} method according to abi `);\n    }\n  }\n\n  /**\n   * @description Decode encoded method and inputs\n   * @param encode string | Buffer\n   * @returns {*}\n   */\n  decodeEncodeInputs(encode) {\n    encode = toHex(encode);\n    const methodId = encode.slice(0, 10);\n    const abiFunction = this.abiFunctions[methodId];\n    if (abiFunction) {\n      return abiFunction.decodeEncodedInputs(encode.slice(10));\n    } else {\n      throw new Error(`No corresponding method according to abi `);\n    }\n  }\n}\n","import Contract from \"./Contract\";\n\nimport erc20Abi from \"../../config/abis/erc20.json\";\nimport wethAbi from \"../../config/abis/weth.json\";\nimport airdropAbi from \"../../config/abis/airdrop.json\";\nimport exchangeAbi from \"../../config/abis/exchange.json\";\n\nconst WETH = new Contract(wethAbi);\nconst ERC20Token = new Contract(erc20Abi);\nconst AirdropContract = new Contract(airdropAbi);\nconst ExchangeContract = new Contract(exchangeAbi);\n\nexport default {\n  ERC20Token,\n  WETH,\n  AirdropContract,\n  ExchangeContract\n};\n","import AbiFunction from \"./AbiFunction\";\nimport Contract from \"./Contract\";\nimport Contracts from \"./Contracts\";\n\nexport default {\n  AbiFunction,\n  Contract,\n  Contracts\n};\n","import validator from \"../common/validator\";\nimport request from \"../common/request\";\n\nimport { sha3 } from \"ethereumjs-util\";\n\nvar host = \"http://localhost:8545\";\n\nexport function updateHost(newValue) {\n  host = newValue;\n}\n\nexport async function getTransactionCount(address, tag) {\n  try {\n    validator.validate({ value: address, type: \"ADDRESS\" });\n  } catch (e) {\n    throw new Error(\"Invalid Address\");\n  }\n  tag = tag || \"pending\";\n  if (tag) {\n    try {\n      validator.validate({ value: tag, type: \"RPC_TAG\" });\n    } catch (e) {\n      throw new Error(\"Invalid tag, must be one of latest, pending, earliest\");\n    }\n  }\n  const params = [address, tag];\n  const body = {};\n  body[\"method\"] = \"eth_getTransactionCount\";\n  body[\"params\"] = params;\n  // Set id\n  body[\"id\"] = 1;\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\nexport async function getGasPrice() {\n  const params = [];\n  const body = {};\n  body[\"method\"] = \"eth_gasPrice\";\n  body[\"params\"] = params;\n  // Set id\n  body[\"id\"] = 1;\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\nexport async function estimateGas(tx) {\n  const body = {};\n  body[\"method\"] = \"eth_estimateGas\";\n  body[\"params\"] = [tx];\n  // Set id\n  body[\"id\"] = 1;\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\nexport async function getAccountBalance(address, tag?) {\n  try {\n    validator.validate({ value: address, type: \"ADDRESS\" });\n  } catch (e) {\n    throw new Error(\"Invalid Address\");\n  }\n  tag = tag || \"pending\";\n  if (tag) {\n    try {\n      validator.validate({ value: tag, type: \"RPC_TAG\" });\n    } catch (e) {\n      throw new Error(\"Invalid tag, must be one of latest, pending,earliest\");\n    }\n  }\n  const params = [address, tag];\n  const body = {};\n  body[\"method\"] = \"eth_getBalance\";\n  body[\"params\"] = params;\n  // Set id\n  body[\"id\"] = 1;\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\nexport async function getTransactionByhash(hash) {\n  try {\n    validator.validate({ value: hash, type: \"ETH_DATA\" });\n  } catch (e) {\n    throw new Error(\"Invalid Transaction Hash\");\n  }\n  const params = [hash];\n  const body = {};\n  body[\"method\"] = \"eth_getTransactionByHash\";\n  body[\"params\"] = params;\n  // Set id\n  body[\"id\"] = 1;\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\nexport async function getTransactionRecipt(hash) {\n  try {\n    validator.validate({ value: hash, type: \"ETH_DATA\" });\n  } catch (e) {\n    throw new Error(\"Invalid Transaction Hash\");\n  }\n  const params = [hash];\n  const body = {};\n  body[\"method\"] = \"eth_getTransactionReceipt\";\n  body[\"params\"] = params;\n  // Set id\n  body[\"id\"] = 1;\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\nexport function isValidEthAddress(address) {\n  try {\n    validator.validate({ value: address, type: \"ADDRESS\" });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport function getHash(message) {\n  return sha3(message);\n}\n","import validator from \"./validator\";\nimport request, { id } from \"../common/request\";\nimport Response from \"../common/response\";\nimport code from \"../common/code\";\n\nexport default class Eth {\n  host: string;\n\n  constructor(host) {\n    this.host = host;\n  }\n\n  getTransactionCount({ address, tag }) {\n    return getTransactionCount(this.host, { address, tag });\n  }\n\n  sendRawTransaction(signedTx) {\n    return sendRawTransaction(this.host, signedTx);\n  }\n\n  getGasPrice() {\n    return getGasPrice(this.host);\n  }\n\n  estimateGas(tx) {\n    return estimateGas(this.host, tx);\n  }\n\n  getAccountBalance({ address, tag }) {\n    return getAccountBalance(this.host, { address, tag });\n  }\n\n  getTransactionByhash(txHash) {\n    return getTransactionByhash(this.host, txHash);\n  }\n\n  call({ tx, tag }) {\n    return call(this.host, { tx, tag });\n  }\n}\n\n/**\n * @description Returns the number of transactions sent from an address.\n * @param host\n * @param address\n * @param tag\n * @returns {Promise}\n */\nexport function getTransactionCount(host, { address, tag }) {\n  tag = tag || \"pending\";\n  try {\n    validator.validate({ value: address, type: \"ETH_ADDRESS\" });\n    validator.validate({ value: tag, type: \"RPC_TAG\" });\n  } catch (e) {\n    return Promise.resolve(\n      new Response(code.PARAM_INVALID.code, code.PARAM_INVALID.msg)\n    );\n  }\n  const params = [address, tag];\n  const body = {};\n  body[\"method\"] = \"eth_getTransactionCount\";\n  body[\"params\"] = params;\n  body[\"id\"] = id();\n  body[\"jsonrpc\"] = \"2.0\";\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\n/**\n * @description Sends signed ethereum tx\n * @param host\n * @param signedTx\n * @returns {Promise}\n */\nexport function sendRawTransaction(host, signedTx) {\n  const body = {};\n  body[\"method\"] = \"eth_sendRawTransaction\";\n  body[\"params\"] = [signedTx];\n  body[\"id\"] = id();\n  body[\"jsonrpc\"] = \"2.0\";\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\n/**\n * @description Returns the current price per gas in wei.\n * @param host\n * @returns {Promise}\n */\nexport function getGasPrice(host) {\n  const params = [];\n  const body = {};\n  body[\"method\"] = \"eth_gasPrice\";\n  body[\"params\"] = params;\n  body[\"id\"] = id();\n  body[\"jsonrpc\"] = \"2.0\";\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\n/**\n * @description Generates and returns an estimate of how much gas is necessary to allow the transaction to complete.\n * @param host\n * @param tx\n * @returns {Promise}\n */\nexport function estimateGas(host, tx) {\n  const body = {};\n  body[\"method\"] = \"eth_estimateGas\";\n  body[\"params\"] = [tx];\n  body[\"id\"] = id();\n  body[\"jsonrpc\"] = \"2.0\";\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\n/**\n * @description Returns the ethereum balance of the account of given address.\n * @param host\n * @param address\n * @param tag\n * @returns {Promise}\n */\nexport function getAccountBalance(host, { address, tag }) {\n  tag = tag || \"latest\";\n  if (tag) {\n    try {\n      validator.validate({ value: tag, type: \"RPC_TAG\" });\n      validator.validate({ value: address, type: \"ETH_ADDRESS\" });\n    } catch (e) {\n      return Promise.resolve(\n        new Response(code.PARAM_INVALID.code, code.PARAM_INVALID.msg)\n      );\n    }\n  }\n  const params = [address, tag];\n  const body = {};\n  body[\"method\"] = \"eth_getBalance\";\n  body[\"params\"] = params;\n  body[\"id\"] = id();\n  body[\"jsonrpc\"] = \"2.0\";\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\n/**\n * @description Returns the information about a transaction requested by transaction hash.\n * @param host\n * @param hash ethereum tx hash\n * @returns {Promise}\n */\nexport function getTransactionByhash(host, hash) {\n  try {\n    validator.validate({ value: hash, type: \"ETH_DATA\" });\n  } catch (e) {\n    return Promise.resolve(\n      new Response(code.PARAM_INVALID.code, code.PARAM_INVALID.msg)\n    );\n  }\n  const params = [hash];\n  const body = {};\n  body[\"method\"] = \"eth_getTransactionByHash\";\n  body[\"params\"] = params;\n  body[\"id\"] = id();\n  body[\"jsonrpc\"] = \"2.0\";\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n\n/**\n * @description Executes a new message call immediately without creating a transaction on the block chain.\n * @param host\n * @param tx\n * @param tag\n * @returns {Promise}\n */\nexport function call(host, { tx, tag }) {\n  tag = tag || \"latest\";\n  if (tag) {\n    try {\n      validator.validate({ value: tag, type: \"RPC_TAG\" });\n    } catch (e) {\n      return Promise.resolve(\n        new Response(code.PARAM_INVALID.code, code.PARAM_INVALID.msg)\n      );\n    }\n  }\n  const params = [tx, tag];\n  const body = {};\n  body[\"method\"] = \"eth_call\";\n  body[\"params\"] = params;\n  body[\"id\"] = id();\n  body[\"jsonrpc\"] = \"2.0\";\n  return request(host, {\n    method: \"post\",\n    body\n  });\n}\n","import { getTransactionCount } from \"./utils\";\nimport { toNumber } from \"../common/formatter\";\nimport validator from \"./validator\";\n\nconst setWallet = wallet => {\n  const wallets =\n    typeof localStorage !== \"undefined\" && localStorage.wallet\n      ? JSON.parse(localStorage.wallet)\n      : [];\n  const otherWallets = wallets.filter(\n    w => w.address.toLowerCase() !== wallet.address.toLowerCase()\n  );\n  otherWallets.push({\n    address: wallet.address,\n    nonce: toNumber(wallet.nonce) + 1\n  });\n  if (typeof localStorage !== \"undefined\") {\n    localStorage.wallet = JSON.stringify(otherWallets);\n  }\n};\n\nconst getWallet = address => {\n  const wallets =\n    typeof localStorage !== \"undefined\" && localStorage.wallet\n      ? JSON.parse(localStorage.wallet)\n      : [];\n  console.log(\"get wallets\");\n  return wallets.find(\n    wallet => wallet.address.toLowerCase() === address.toLowerCase()\n  );\n};\n\nconst getNonce = async address => {\n  try {\n    validator.validate({ value: address, type: \"ADDRESS\" });\n    const nonce =\n      toNumber((await getTransactionCount(address, \"pending\"))[\"result\"]) || 0;\n    const localNonce =\n      getWallet(address) && getWallet(address).nonce\n        ? getWallet(address).nonce\n        : 0;\n    return Math.max(nonce, localNonce);\n  } catch (e) {\n    throw new Error(e.message);\n  }\n};\n\nconst storeUnlockedAddress = (unlockType, address) => {\n  localStorage.unlockedType = unlockType;\n  localStorage.unlockedAddress = address;\n};\n\nconst getUnlockedAddress = () => {\n  return localStorage.unlockedAddress || \"\";\n};\n\nconst getUnlockedType = () => {\n  return localStorage.unlockedType || \"\";\n};\n\nconst clearUnlockedAddress = () => {\n  localStorage.unlockedType = \"\";\n  localStorage.unlockedAddress = \"\";\n};\n\nconst isInWhiteList = address => {};\n\nexport default {\n  setWallet,\n  getWallet,\n  isInWhiteList,\n  getNonce,\n  storeUnlockedAddress,\n  getUnlockedAddress,\n  getUnlockedType,\n  clearUnlockedAddress\n};\n","import abi from \"./contracts\";\nimport * as account from \"./walletAccount\";\nimport * as keystore from \"./keystore\";\nimport * as metamask from \"./metaMask\";\nimport * as mnemonic from \"./mnemonic\";\nimport * as utils from \"./utils\";\nimport validator from \"./validator\";\nimport eth from \"./eth\";\nimport wallet from \"./wallet\";\n\nexport default {\n  abi,\n  account,\n  keystore,\n  mnemonic,\n  metamask,\n  eth,\n  wallet,\n  validator,\n  utils\n};\n","//const config = require('./config.json');\nconst data = require(\"./data\");\nconst fm = require(\"../common/formatter\");\nconst config = data.configs;\nconst fees = config.fees;\nconst txs = config.txs;\n\nfunction requestWhiteList() {\n  const url =\n    \"//raw.githubusercontent.com/Loopring/mock-relay-data/master/whiteList.json\";\n  return fetch(url, { method: \"GET\" }).then(res => res.json());\n}\n\nasync function isinWhiteList(address) {\n  return await requestWhiteList().then(whiteList => {\n    const result = whiteList.find(\n      add => add.toLowerCase() === address.toLowerCase()\n    );\n    return !!result;\n  });\n}\n\nfunction getChainId() {\n  return config.chainId;\n}\n\nfunction getExchangeId() {\n  return config.exchangeId;\n}\n\nfunction getLabel() {\n  return config.label;\n}\n\nfunction getMaxFeeBips() {\n  return config.maxFeeBips;\n}\n\nfunction getTokenBySymbol(symbol) {\n  if (!symbol) {\n    return {};\n  }\n  return (\n    getTokens().find(\n      token => token.symbol.toLowerCase() === symbol.toLowerCase()\n    ) || {}\n  );\n}\n\nfunction getTokenByAddress(address) {\n  if (!address) {\n    return {};\n  }\n  return getTokens().find(\n    token => token.address.toLowerCase() === address.toLowerCase()\n  );\n}\n\nfunction getCustomTokens() {\n  return getTokens().filter(token => token.custom);\n}\n\nfunction getTokens() {\n  return config.tokens;\n}\n\nfunction fromWEI(symbol, valueInWEI, precision = 4) {\n  const token = getTokenBySymbol(symbol);\n  if (!token) {\n    return 0;\n  }\n  const value = fm.toBig(valueInWEI).div(\"1e\" + token.digits);\n  return value.toNumber().toFixed(precision);\n}\n\nfunction toWEI(symbol, value) {\n  const token = getTokenBySymbol(symbol);\n  if (!token) {\n    return 0;\n  }\n  const valueInBN = fm.toBig(value).times(\"1e\" + token.digits);\n  return valueInBN.toString(10);\n}\n\nfunction getMarketByPair(pair) {\n  if (pair) {\n    const pairArr = pair.split(\"-\");\n    if (pairArr && pairArr.length === 2) {\n      return getMarketBySymbol(pairArr[0], pairArr[1]);\n    }\n  }\n}\n\nfunction isSupportedMarket(market) {\n  if (!market) {\n    return false;\n  }\n  const pair = market.split(\"-\");\n  if (pair.length !== 2) {\n    return false;\n  }\n  return getMarkets().find(m => {\n    return (\n      (m.baseToken === pair[0].toUpperCase() &&\n        m.quoteToken === pair[1].toUpperCase()) ||\n      (m.baseToken === pair[1].toUpperCase() &&\n        m.quoteToken === pair[0].toUpperCase())\n    );\n  });\n}\n\nfunction getMarketBySymbol(baseToken, quoteToken) {\n  if (baseToken && quoteToken) {\n    return (\n      getMarkets().find(market => {\n        return (\n          (market.baseToken === baseToken &&\n            market.quoteToken === quoteToken) ||\n          (market.baseToken === quoteToken && market.quoteToken === baseToken)\n        );\n      }) || {\n        pricePrecision: 8\n      }\n    );\n  } else {\n    return {\n      pricePrecision: 8\n    };\n  }\n}\n\nfunction getMarketsByTokenR(token) {\n  return getMarkets().filter(item => item.quoteToken === token);\n}\n\nfunction getMarketsByTokenL(token) {\n  return getMarkets().filter(item => item.baseToken === token);\n}\n\nfunction getTokenSupportedMarkets(token) {\n  const leftMarket = getMarketsByTokenL(token);\n  const rightMarket = getMarketsByTokenR(token);\n  return [...leftMarket, ...rightMarket];\n}\n\nfunction getMarkets() {\n  return config.markets;\n}\n\nfunction getGasLimitByType(type) {\n  if (type) {\n    return txs.find(tx => type === tx.type);\n  }\n}\n\nfunction getFeeByType(type) {\n  if (type) {\n    return fees.find(fee => type === fee.type);\n  }\n}\n\nfunction getWalletAddress() {\n  return config.walletAddress;\n}\n\nfunction getExchangeAddress() {\n  return config.exchangeAddress;\n}\n\nfunction getWallets() {\n  return data.wallets;\n}\n\nfunction getMaxAmountInWEI() {\n  return config.maxAmount;\n}\n\nexport default {\n  getTokenBySymbol,\n  getTokenByAddress,\n  getTokens,\n  getMarketBySymbol,\n  getMarketByPair,\n  getGasLimitByType,\n  getFeeByType,\n  isinWhiteList,\n  getChainId,\n  getExchangeId,\n  getLabel,\n  getMaxFeeBips,\n  isSupportedMarket,\n  getMarketsByTokenR,\n  getTokenSupportedMarkets,\n  getMarkets,\n  getWalletAddress,\n  getExchangeAddress,\n  getMaxAmountInWEI,\n  getWallets,\n  fromWEI,\n  toWEI\n};\n","import EthTransaction from \"ethereumjs-tx\";\nimport validator from \"./validator\";\nimport { addHexPrefix, toBuffer, toHex } from \"../common/formatter\";\nimport { getGasPrice, getTransactionCount } from \"./utils\";\nimport request from \"../common/request\";\nimport { configs } from \"../config/data\";\n\n// HACK: What is the host in wallet/ethereum?\nconst host = \"host\";\n\nexport default class Transaction {\n  raw: string;\n  signed: string;\n\n  constructor(rawTx) {\n    validator.validate({ value: rawTx, type: \"BASIC_TX\" });\n    this.raw = rawTx;\n  }\n\n  setGasLimit() {\n    this.raw[\"gasLimit\"] = this.raw[\"gasLimit\"] || configs[\"defaultGasLimit\"];\n  }\n\n  async setGasPrice() {\n    this.raw[\"gasPrice\"] =\n      this.raw[\"gasPrice\"] || (await getGasPrice())[\"result\"];\n  }\n\n  setChainId() {\n    this.raw[\"chainId\"] = this.raw[\"chainId\"] || configs[\"chainId\"] || 1;\n  }\n\n  async setNonce(address, tag) {\n    tag = tag || \"pending\";\n    this.raw[\"nonce\"] =\n      this.raw[\"nonce\"] || (await getTransactionCount(address, tag))[\"result\"];\n  }\n\n  hash() {\n    validator.validate({ value: this.raw, type: \"TX\" });\n    return new EthTransaction(this.raw).hash();\n  }\n\n  async sign({ privateKey, walletType, path }) {\n    try {\n      validator.validate({ value: this.raw, type: \"TX\" });\n    } catch (e) {\n      await this.complete();\n    }\n    const ethTx = new EthTransaction(this.raw);\n\n    let signed;\n    if (privateKey) {\n      try {\n        if (typeof privateKey === \"string\") {\n          validator.validate({ value: privateKey, type: \"PRIVATE_KEY\" });\n          privateKey = toBuffer(addHexPrefix(privateKey));\n        } else {\n          validator.validate({ value: privateKey, type: \"PRIVATE_KEY_BUFFER\" });\n        }\n      } catch (e) {\n        throw new Error(\"Invalid private key\");\n      }\n\n      ethTx.sign(privateKey);\n      signed = toHex(ethTx.serialize());\n    } else {\n      throw new Error(\"Invalid private key\");\n    }\n    this.signed = signed;\n    return signed;\n  }\n\n  async send({ privateKey, walletType, path }) {\n    if (!this.signed) {\n      await this.sign({ privateKey, walletType, path });\n    }\n    let body = {};\n    body[\"method\"] = \"eth_sendRawTransaction\";\n    body[\"params\"] = [this.signed];\n    return request(host, {\n      method: \"post\",\n      body\n    });\n  }\n\n  async sendRawTx(signedTx) {\n    let body = {};\n    body[\"method\"] = \"eth_sendRawTransaction\";\n    body[\"params\"] = [signedTx];\n    return request(host, {\n      method: \"post\",\n      body\n    });\n  }\n\n  async complete() {\n    this.setChainId();\n    this.setGasLimit();\n    await this.setGasPrice();\n  }\n}\n","import BN from \"bn.js\";\n\n/**\n * The keypair data for EdDSA.\n */\nexport class KeyPair {\n  publicKeyX: string;\n  publicKeyY: string;\n  secretKey: string;\n}\n\nexport class DexAccount {\n  accountId: number;\n  keyPair: KeyPair;\n  nonce?: number;\n}\n\n/**\n * The signature data for EdDSA.\n */\nexport interface Signature {\n  Rx: string;\n  Ry: string;\n  s: string;\n}\n\nexport class WithdrawalRequest {\n  account: DexAccount;\n  token: string;\n  tokenId?: number;\n  amount: string;\n  amountInBN?: BN;\n  tokenF: string;\n  tokenFId?: number;\n  amountF: string;\n  amountFInBN?: BN;\n  label?: number;\n  signature?: Signature;\n  hash?: string;\n}\n\nexport class OrderRequest {\n  owner: string;\n  accountId: number;\n  exchangeId: number;\n  keyPair: KeyPair;\n\n  tokenS: string;\n  tokenB: string;\n  tokenSId: number;\n  tokenBId: number;\n\n  amountS: string;\n  amountB: string;\n  amountSInBN: BN;\n  amountBInBN: BN;\n\n  orderId: number;\n\n  label: number;\n\n  allOrNone?: boolean;\n  validSince: number;\n  validUntil: number;\n  maxFeeBips: number;\n  buy?: boolean;\n\n  feeBips: number;\n  rebateBips?: number;\n\n  hash?: string;\n  signatureRx?: string;\n  signatureRy?: string;\n  signatureS?: string;\n\n  [key: string]: any;\n}\n\n// must be cost by circuit -- NOT recommend\nexport class CancelRequest {\n  account: DexAccount;\n  orderToken: string;\n  orderTokenId?: number;\n  orderId: number;\n  tokenF: string;\n  tokenFId?: number;\n  amountF: string;\n  amountFInBN?: BN;\n  label?: number;\n  signature?: Signature;\n}\n\nexport class GetAPIKeyRequest {\n  account: DexAccount;\n  signature?: Signature;\n}\n\nexport class SignAPIKeyRequest {\n  accountId: number;\n  publicKeyX: string;\n  publicKeyY: string;\n}\n\nexport class FlexCancelRequest {\n  account: DexAccount;\n  orderHash?: string;\n  clientOrderId?: string;\n  signature?: Signature;\n}\n\nexport class SignFlexCancelRequest {\n  accountId: number;\n  orderHash?: string;\n  clientOrderId?: string;\n}\n","import { EdDSA } from \"../lib/sign/eddsa\";\nimport { ethereum } from \"../lib/wallet\";\nimport * as fm from \"../lib/wallet/common/formatter\";\nimport config from \"../lib/wallet/config\";\nimport Transaction from \"../lib/wallet/ethereum/transaction\";\nimport { WalletAccount } from \"../lib/wallet/ethereum/walletAccount\";\nimport {\n  CancelRequest,\n  FlexCancelRequest,\n  GetAPIKeyRequest,\n  OrderRequest,\n  SignAPIKeyRequest,\n  SignFlexCancelRequest,\n  WithdrawalRequest\n} from \"../model/types\";\nimport * as Poseidon from \"../lib/sign/poseidon\";\nimport sha256 from \"crypto-js/sha256\";\n\nconst assert = require(\"assert\");\n\nexport class Exchange {\n  private currentWalletAccount: WalletAccount;\n\n  public generateKeyPair(seed: string) {\n    return EdDSA.generateKeyPair(seed);\n  }\n\n  public verifyPassword(publicKeyX: string, publicKeyY: string, seed: string) {\n    const keyPair = this.generateKeyPair(seed);\n    return (\n      keyPair.publicKeyX === publicKeyX && keyPair.publicKeyY === publicKeyY\n    );\n  }\n\n  public createOrUpdateAccount(\n    wallet: WalletAccount,\n    password: string,\n    nonce: number,\n    gasPrice: number,\n    permission: Buffer\n  ) {\n    try {\n      const keyPair = EdDSA.generateKeyPair(wallet.getAddress() + password);\n      this.currentWalletAccount = wallet;\n      const transaction = this.createAccountAndDeposit(\n        keyPair.publicKeyX,\n        keyPair.publicKeyY,\n        \"\",\n        \"0\",\n        permission,\n        nonce,\n        gasPrice\n      );\n      return {\n        rawTx: transaction,\n        keyPair: keyPair\n      };\n    } catch (err) {\n      console.error(\"Failed in method updateAccount. Error: \", err);\n      throw err;\n    }\n  }\n\n  private createAccountAndDeposit(\n    publicX: string,\n    publicY: string,\n    symbol: string,\n    amount: string,\n    permission: Buffer,\n    nonce: number,\n    gasPrice: number\n  ) {\n    try {\n      let address, value: string;\n      const token = config.getTokenBySymbol(symbol);\n\n      if (JSON.stringify(token) === \"{}\") {\n        address = \"0x0\";\n        value = \"0\";\n      } else {\n        address = token.address;\n        value = fm.toHex(fm.toBig(amount).times(\"1e\" + token.digits));\n      }\n\n      const data = ethereum.abi.Contracts.ExchangeContract.encodeInputs(\n        \"updateAccountAndDeposit\",\n        {\n          pubKeyX: fm.toHex(fm.toBN(publicX)),\n          pubKeyY: fm.toHex(fm.toBN(publicY)),\n          tokenAddress: address,\n          amount: value,\n          permission: permission\n        }\n      );\n\n      return new Transaction({\n        to: config.getExchangeAddress(),\n        value: fm.toHex(config.getFeeByType(\"create\").feeInWEI),\n        data: data,\n        chainId: config.getChainId(),\n        nonce: fm.toHex(nonce),\n        gasPrice: fm.toHex(fm.fromGWEI(gasPrice)),\n        gasLimit: fm.toHex(config.getGasLimitByType(\"create\").gasInWEI)\n      });\n    } catch (err) {\n      console.error(\"Failed in method createOrUpdateAccount. Error: \", err);\n      throw err;\n    }\n  }\n\n  public deposit(\n    wallet: WalletAccount,\n    symbol: string,\n    amount: string,\n    nonce: number,\n    gasPrice: number\n  ) {\n    let to, value, data: string;\n    try {\n      const token = config.getTokenBySymbol(symbol);\n      const fee = config.getFeeByType(\"deposit\").feeInWEI;\n      value = fm.toBig(amount).times(\"1e\" + token.digits);\n\n      if (wallet.getAddress()) {\n        this.currentWalletAccount = wallet;\n        if (symbol === \"ETH\") {\n          to = \"0x0\";\n          data = ethereum.abi.Contracts.ExchangeContract.encodeInputs(\n            \"deposit\",\n            {\n              tokenAddress: to,\n              amount: fm.toHex(value)\n            }\n          );\n          value = value.plus(fee);\n        } else {\n          to = token.address;\n          data = ethereum.abi.Contracts.ExchangeContract.encodeInputs(\n            \"deposit\",\n            {\n              tokenAddress: to,\n              amount: fm.toHex(value)\n            }\n          );\n          value = fee;\n        }\n\n        return new Transaction({\n          to: config.getExchangeAddress(),\n          value: fm.toHex(value),\n          data: data,\n          chainId: config.getChainId(),\n          nonce: fm.toHex(nonce),\n          gasPrice: fm.toHex(fm.fromGWEI(gasPrice)),\n          gasLimit: fm.toHex(config.getGasLimitByType(\"depositTo\").gasInWEI)\n        });\n      }\n    } catch (err) {\n      console.error(\"Failed in method deposit. Error: \", err);\n      throw err;\n    }\n  }\n\n  public withdraw(\n    wallet: WalletAccount,\n    symbol: string,\n    amount: string,\n    nonce: number,\n    gasPrice: number\n  ) {\n    let to, value, data: string;\n    try {\n      const token = config.getTokenBySymbol(symbol);\n      const fee = config.getFeeByType(\"withdraw\").feeInWEI;\n      value = fm.toBig(amount).times(\"1e\" + token.digits);\n\n      if (wallet.getAddress()) {\n        this.currentWalletAccount = wallet;\n        to = symbol === \"ETH\" ? \"0x0\" : token.address;\n        data = ethereum.abi.Contracts.ExchangeContract.encodeInputs(\n          \"withdraw\",\n          {\n            tokenAddress: to,\n            amount: fm.toHex(value)\n          }\n        );\n        value = fee;\n        return new Transaction({\n          to: config.getExchangeAddress(),\n          value: fm.toHex(value),\n          data: data,\n          chainId: config.getChainId(),\n          nonce: fm.toHex(nonce),\n          gasPrice: fm.toHex(fm.fromGWEI(gasPrice)),\n          gasLimit: fm.toHex(config.getGasLimitByType(\"withdrawFrom\").gasInWEI)\n        });\n      }\n    } catch (err) {\n      console.error(\"Failed in method withdraw. Error: \", err);\n      throw err;\n    }\n  }\n\n  public submitWithdrawal(withdrawal: WithdrawalRequest) {\n    let token, feeToken;\n    if (!withdrawal.token.startsWith(\"0x\")) {\n      token = config.getTokenBySymbol(withdrawal.token);\n    } else {\n      token = config.getTokenByAddress(withdrawal.token);\n    }\n    if (!withdrawal.tokenF.startsWith(\"0x\")) {\n      feeToken = config.getTokenBySymbol(withdrawal.tokenF);\n    } else {\n      feeToken = config.getTokenByAddress(withdrawal.tokenF);\n    }\n    withdrawal.tokenId = token.id;\n    withdrawal.token = token.address;\n    withdrawal.amountInBN = config.toWEI(token.symbol, withdrawal.amount);\n    withdrawal.amount = withdrawal.amountInBN.toString(10);\n\n    withdrawal.tokenFId = feeToken.id;\n    withdrawal.tokenF = feeToken.address;\n    withdrawal.amountFInBN = config.toWEI(feeToken.symbol, withdrawal.amountF);\n    withdrawal.amountF = withdrawal.amountFInBN.toString(10);\n\n    withdrawal.label =\n      withdrawal.label !== undefined ? withdrawal.label : config.getLabel();\n    return this.signWithdrawal(withdrawal);\n  }\n\n  public signWithdrawal(withdrawal: WithdrawalRequest) {\n    if (withdrawal.signature !== undefined) {\n      return;\n    }\n    const account = withdrawal.account;\n    const hasher = Poseidon.createHash(9, 6, 53);\n\n    // Calculate hash\n    const inputs = [\n      config.getExchangeId(),\n      account.accountId,\n      withdrawal.tokenId,\n      withdrawal.amountInBN,\n      withdrawal.tokenFId,\n      withdrawal.amountFInBN,\n      withdrawal.label,\n      account.nonce\n    ];\n    const hash = hasher(inputs).toString(10);\n\n    // Create signature\n    withdrawal.hash = hash;\n    withdrawal.signature = EdDSA.sign(account.keyPair.secretKey, hash);\n\n    // Verify signature\n    const success = EdDSA.verify(hash, withdrawal.signature, [\n      account.keyPair.publicKeyX,\n      account.keyPair.publicKeyY\n    ]);\n    assert(success, \"Failed to verify signature\");\n    return withdrawal;\n  }\n\n  public signOrder(order: OrderRequest) {\n    if (order.signature !== undefined) {\n      return;\n    }\n    const hasher = Poseidon.createHash(14, 6, 53);\n\n    // Calculate hash\n    const inputs = [\n      config.getExchangeId(),\n      order.orderId,\n      order.accountId,\n      order.tokenSId,\n      order.tokenBId,\n      order.amountSInBN,\n      order.amountBInBN,\n      order.allOrNone ? 1 : 0,\n      order.validSince,\n      order.validUntil,\n      order.maxFeeBips,\n      order.buy ? 1 : 0,\n      order.label\n    ];\n    order.hash = hasher(inputs).toString(10);\n\n    // Create signature\n    const signature = EdDSA.sign(order.keyPair.secretKey, order.hash);\n    order.signature = signature;\n    order.signatureRx = signature.Rx;\n    order.signatureRy = signature.Ry;\n    order.signatureS = signature.s;\n\n    // Verify signature\n    const success = EdDSA.verify(order.hash, order.signature, [\n      order.keyPair.publicKeyX,\n      order.keyPair.publicKeyY\n    ]);\n    assert(success, \"Failed to verify signature\");\n    return order;\n  }\n\n  public setupOrder(order: OrderRequest) {\n    let tokenBuy, tokenSell;\n    if (!order.tokenS.startsWith(\"0x\")) {\n      tokenSell = config.getTokenBySymbol(order.tokenS);\n    } else {\n      tokenSell = config.getTokenByAddress(order.tokenS);\n    }\n    if (!order.tokenB.startsWith(\"0x\")) {\n      tokenBuy = config.getTokenBySymbol(order.tokenB);\n    } else {\n      tokenBuy = config.getTokenByAddress(order.tokenB);\n    }\n    order.tokenS = tokenSell.address;\n    order.tokenB = tokenBuy.address;\n    order.tokenSId = tokenSell.id;\n    order.tokenBId = tokenBuy.id;\n\n    order.amountSInBN = config.toWEI(tokenSell.symbol, order.amountS);\n    order.amountS = order.amountSInBN.toString(10);\n\n    order.amountBInBN = config.toWEI(tokenBuy.symbol, order.amountB);\n    order.amountB = order.amountBInBN.toString(10);\n\n    order.exchangeId =\n      order.exchangeId !== undefined\n        ? order.exchangeId\n        : config.getExchangeId();\n    order.buy = order.buy !== undefined ? order.buy : false;\n\n    order.maxFeeBips =\n      order.maxFeeBips !== undefined\n        ? order.maxFeeBips\n        : config.getMaxFeeBips();\n    order.allOrNone = order.allOrNone !== undefined ? order.allOrNone : false;\n\n    order.feeBips =\n      order.feeBips !== undefined ? order.feeBips : order.maxFeeBips;\n    order.rebateBips = order.rebateBips !== undefined ? order.rebateBips : 0;\n    order.label = order.label !== undefined ? order.label : config.getLabel();\n\n    assert(order.maxFeeBips < 64, \"maxFeeBips >= 64\");\n    assert(order.feeBips < 64, \"feeBips >= 64\");\n    assert(order.rebateBips < 64, \"rebateBips >= 64\");\n    assert(order.label < 2 ** 16, \"order.label >= 2**16\");\n\n    // Sign the order\n    return this.signOrder(order);\n  }\n\n  public getRandomInt(max: number) {\n    return Math.floor(Math.random() * max);\n  }\n\n  public submitOrder(wallet: WalletAccount, request: OrderRequest) {\n    this.currentWalletAccount = wallet;\n    return this.setupOrder(request);\n  }\n\n  public signCancel(cancel: CancelRequest) {\n    if (cancel.signature !== undefined) {\n      return;\n    }\n    const account = cancel.account;\n    const hasher = Poseidon.createHash(9, 6, 53);\n\n    // Calculate hash\n    const inputs = [\n      config.getExchangeId(),\n      account.accountId,\n      cancel.orderTokenId,\n      cancel.orderId,\n      cancel.tokenFId,\n      cancel.amountFInBN,\n      cancel.label,\n      account.nonce\n    ];\n    const hash = hasher(inputs).toString(10);\n\n    // Create signature\n    cancel.signature = EdDSA.sign(account.keyPair.secretKey, hash);\n\n    // Verify signature\n    const success = EdDSA.verify(hash, cancel.signature, [\n      account.keyPair.publicKeyX,\n      account.keyPair.publicKeyY\n    ]);\n    assert(success, \"Failed to verify signature\");\n    return cancel;\n  }\n\n  public submitCancel(cancel: CancelRequest) {\n    let orderToken, feeToken;\n    if (!cancel.orderToken.startsWith(\"0x\")) {\n      orderToken = config.getTokenBySymbol(cancel.orderToken);\n    } else {\n      orderToken = config.getTokenByAddress(cancel.orderToken);\n    }\n    if (!cancel.tokenF.startsWith(\"0x\")) {\n      feeToken = config.getTokenBySymbol(cancel.tokenF);\n    } else {\n      feeToken = config.getTokenByAddress(cancel.tokenF);\n    }\n    cancel.tokenFId = feeToken.id;\n    cancel.tokenF = feeToken.symbol;\n    cancel.orderTokenId = orderToken.id;\n    cancel.orderToken = orderToken.symbol;\n\n    cancel.amountFInBN = config.toWEI(feeToken.symbol, cancel.amountF);\n    cancel.amountF = cancel.amountFInBN.toString(10);\n\n    cancel.label =\n      cancel.label !== undefined ? cancel.label : config.getLabel();\n    return this.signCancel(cancel);\n  }\n\n  public submitFlexCancel(request: FlexCancelRequest) {\n    if (request.signature !== undefined) {\n      return;\n    }\n    const account = request.account;\n    let sign = new SignFlexCancelRequest();\n    sign.accountId = account.accountId;\n    sign.orderHash = request.orderHash;\n    sign.clientOrderId = request.clientOrderId;\n    const hash = fm.addHexPrefix(sha256(JSON.stringify(sign)).toString());\n\n    // Create signature\n    request.signature = EdDSA.sign(account.keyPair.secretKey, hash);\n\n    // Verify signature\n    const success = EdDSA.verify(hash, request.signature, [\n      account.keyPair.publicKeyX,\n      account.keyPair.publicKeyY\n    ]);\n    assert(success, \"Failed to verify signature\");\n    return request;\n  }\n\n  public signGetApiKey(request: GetAPIKeyRequest) {\n    if (request.signature !== undefined) {\n      return;\n    }\n    let account = request.account;\n    let sign = new SignAPIKeyRequest();\n    sign.accountId = account.accountId;\n    sign.publicKeyX = account.keyPair.publicKeyX;\n    sign.publicKeyY = account.keyPair.publicKeyY;\n    const hash = fm.addHexPrefix(sha256(JSON.stringify(sign)).toString());\n\n    // Create signature\n    request.signature = EdDSA.sign(account.keyPair.secretKey, hash);\n\n    // Verify signature\n    const success = EdDSA.verify(hash, request.signature, [\n      account.keyPair.publicKeyX,\n      account.keyPair.publicKeyY\n    ]);\n    assert(success, \"Failed to verify signature\");\n    return request;\n  }\n}\n\nexport const exchange: Exchange = new Exchange();\n","import { exchange } from \"..\";\nimport * as fm from \"../lib/wallet/common/formatter\";\nimport config from \"../lib/wallet/config\";\nimport Contracts from \"../lib/wallet/ethereum/contracts/Contracts\";\nimport Transaction from \"../lib/wallet/ethereum/transaction\";\nimport { WalletAccount } from \"../lib/wallet/ethereum/walletAccount\";\nimport {\n  CancelRequest,\n  DexAccount,\n  FlexCancelRequest,\n  GetAPIKeyRequest,\n  KeyPair,\n  OrderRequest,\n  WithdrawalRequest\n} from \"../model/types\";\n\nconst assert = require(\"assert\");\n\nexport class Account {\n  public account: WalletAccount;\n\n  public constructor(account) {\n    this.account = account;\n  }\n\n  /**\n   * Approve Zero\n   * @param symbol: approve token symbol to zero\n   * @param nonce: Ethereum nonce of this address\n   * @param gasPrice: gas price in gwei\n   */\n  public approveZero(symbol: string, nonce: number, gasPrice: number) {\n    const token = config.getTokenBySymbol(symbol);\n    const rawTx = new Transaction({\n      to: token.address,\n      value: \"0x0\",\n      data: Contracts.ERC20Token.encodeInputs(\"approve\", {\n        _spender: config.getExchangeAddress(),\n        _value: \"0x0\"\n      }),\n      chainId: config.getChainId(),\n      nonce: fm.toHex(nonce),\n      gasPrice: fm.toHex(fm.fromGWEI(gasPrice)),\n      gasLimit: fm.toHex(config.getGasLimitByType(\"approve\").gasInWEI)\n    });\n    return this.account.signEthereumTx(rawTx.raw);\n  }\n\n  /**\n   * Approve Max\n   * @param symbol: approve token symbol to max\n   * @param nonce: Ethereum nonce of this address\n   * @param gasPrice: gas price in gwei\n   */\n  public approveMax(symbol: string, nonce: number, gasPrice: number) {\n    const token = config.getTokenBySymbol(symbol);\n    const rawTx = new Transaction({\n      to: token.address,\n      value: \"0x0\",\n      data: Contracts.ERC20Token.encodeInputs(\"approve\", {\n        _spender: config.getExchangeAddress(),\n        _value: config.getMaxAmountInWEI()\n      }),\n      chainId: config.getChainId(),\n      nonce: fm.toHex(nonce),\n      gasPrice: fm.toHex(fm.fromGWEI(gasPrice)),\n      gasLimit: fm.toHex(config.getGasLimitByType(\"approve\").gasInWEI)\n    });\n    return this.account.signEthereumTx(rawTx.raw);\n  }\n\n  /**\n   * generate key pair of account in DEX\n   * @param password: account specified password\n   */\n  public generateKeyPair(password: string) {\n    try {\n      assert(this.account !== null);\n      return exchange.generateKeyPair(this.account.getAddress() + password);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * verify password of account in DEX\n   * @param publicKeyX: publicKeyX of account's key pair\n   * @param publicKeyY: publicKeyY of account's key pair\n   * @param password: account specified password\n   */\n  public verifyPassword(\n    publicKeyX: string,\n    publicKeyY: string,\n    password: string\n  ) {\n    try {\n      assert(this.account !== null);\n      return exchange.verifyPassword(\n        publicKeyX,\n        publicKeyY,\n        this.account.getAddress() + password\n      );\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * create Or Update Account in DEX\n   * @param gasPrice: in gwei\n   * @param nonce: Ethereum nonce of this address\n   * @param permission: user permission\n   * @param password: user password\n   */\n  public async createOrUpdateAccount(\n    password: string,\n    nonce: number,\n    gasPrice: number,\n    permission?: string\n  ) {\n    try {\n      permission = permission !== undefined ? permission : \"\";\n      const createOrUpdateAccountResposne = exchange.createOrUpdateAccount(\n        this.account,\n        password,\n        nonce,\n        gasPrice,\n        fm.toBuffer(permission)\n      );\n      const rawTx = createOrUpdateAccountResposne[\"rawTx\"];\n      const signedEthereumTx = await this.account.signEthereumTx(rawTx.raw);\n      return {\n        signedTx: signedEthereumTx,\n        keyPair: createOrUpdateAccountResposne[\"keyPair\"]\n      };\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * Deposit to Dex\n   * @param symbol: string symbol of token to deposit\n   * @param amount: string number amount to deposit, e.g. '1.5'\n   * @param nonce: Ethereum nonce of this address\n   * @param gasPrice: gas price in gwei\n   */\n  public async depositTo(\n    symbol: string,\n    amount: string,\n    nonce: number,\n    gasPrice: number\n  ) {\n    try {\n      const rawTx = exchange.deposit(\n        this.account,\n        symbol,\n        amount,\n        nonce,\n        gasPrice\n      );\n      return await this.account.signEthereumTx(rawTx.raw);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * On-chain Withdrawal from Dex\n   * @param symbol: string symbol of token to withdraw\n   * @param amount: string number amount to withdraw, e.g. '1.5'\n   * @param nonce: Ethereum nonce of this address\n   * @param gasPrice: gas price in gwei\n   */\n  public async onchainWithdrawal(\n    symbol: string,\n    amount: string,\n    nonce: number,\n    gasPrice: number\n  ) {\n    try {\n      const rawTx = exchange.withdraw(\n        this.account,\n        symbol,\n        amount,\n        nonce,\n        gasPrice\n      );\n      return await this.account.signEthereumTx(rawTx.raw);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * Off-chain Withdrawal from Dex\n   * @param accountId: account ID in exchange\n   * @param publicKeyX: trading public key X of account, decimal string\n   * @param publicKeyY: trading public key Y of account, decimal string\n   * @param privateKey: trading private key of account, decimal string\n   * @param nonce: DEX nonce of account\n   * @param token: token symbol or address to withdraw\n   * @param amount: amount to withdraw, in decimal string. e.g. '15'\n   * @param tokenF: fee token symbol or address to withdraw\n   * @param amountF: withdrawal fee, in decimal string. e.g. '15'\n   * @param label: [OPTIONAL] label used in protocol\n   */\n  public offchainWithdrawal(\n    accountId: number,\n    publicKeyX: string,\n    publicKeyY: string,\n    privateKey: string,\n    nonce: number,\n    token: string,\n    amount: string,\n    tokenF: string,\n    amountF: string,\n    label?: number\n  ) {\n    try {\n      const withdraw = new WithdrawalRequest();\n      const account = new DexAccount();\n      account.keyPair = new KeyPair();\n      withdraw.account = account;\n      withdraw.account.accountId = accountId;\n      withdraw.account.keyPair.publicKeyX = publicKeyX;\n      withdraw.account.keyPair.publicKeyY = publicKeyY;\n      withdraw.account.keyPair.secretKey = privateKey;\n      withdraw.account.nonce = nonce;\n      withdraw.token = token;\n      withdraw.amount = amount;\n      withdraw.tokenF = tokenF;\n      withdraw.amountF = amountF;\n      withdraw.label = label;\n      return exchange.submitWithdrawal(withdraw);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * Get signed order, should be submitted by frontend itself TEMPORARY\n   * @param owner: Ethereum address of this order's owner\n   * @param accountId: account ID in exchange\n   * @param tokenS: symbol or hex address of token sell\n   * @param tokenB: symbol or hex address of token buy\n   * @param publicKeyX: trading public key X of account, decimal string\n   * @param publicKeyY: trading public key Y of account, decimal string\n   * @param privateKey: trading private key of account, decimal string\n   * @param amountS: amount of token sell, in string number\n   * @param amountB: amount of token buy, in string number\n   * @param orderId: next order ID, needed by order signature\n   * @param validSince: valid beginning period of this order, SECOND in timestamp\n   * @param validUntil: valid ending period of this order, SECOND in timestamp\n   * @param label: [OPTIONAL] label used in protocol\n   */\n  public submitOrder(\n    owner: string,\n    accountId: number,\n    publicKeyX: string,\n    publicKeyY: string,\n    privateKey: string,\n    tokenS: string,\n    tokenB: string,\n    amountS: string,\n    amountB: string,\n    orderId: number,\n    validSince: number,\n    validUntil: number,\n    label?: number\n  ) {\n    try {\n      const order = new OrderRequest();\n      order.owner = owner;\n      order.accountId = accountId;\n      order.keyPair = new KeyPair();\n      order.keyPair.publicKeyX = publicKeyX;\n      order.keyPair.publicKeyY = publicKeyY;\n      order.keyPair.secretKey = privateKey;\n\n      order.tokenS = tokenS;\n      order.tokenB = tokenB;\n      order.amountS = amountS;\n      order.amountB = amountB;\n\n      order.orderId = orderId;\n      order.validSince = Math.floor(validSince);\n      order.validUntil = Math.floor(validUntil);\n      order.label = label;\n      return exchange.submitOrder(this.account, order);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * Cancel order in Dex\n   * @param accountId: account ID in exchange\n   * @param publicKeyX: trading public key X of account, decimal string\n   * @param publicKeyY: trading public key Y of account, decimal string\n   * @param privateKey: trading private key of account, decimal string\n   * @param nonce: DEX nonce of account\n   * @param orderToken: token symbol or address of cancel\n   * @param orderId: specified order id to cancel\n   * @param tokenF: amountF token symbol or address of cancel\n   * @param amountF: cancel amountF, e.g. '15'\n   * @param label: [OPTIONAL] label used in protocol\n   */\n  public submitCancel(\n    accountId: number,\n    publicKeyX: string,\n    publicKeyY: string,\n    privateKey: string,\n    nonce: number,\n    orderToken: string,\n    orderId: number,\n    tokenF: string,\n    amountF: string,\n    label?: number\n  ) {\n    try {\n      const cancel = new CancelRequest();\n      const account = new DexAccount();\n      account.keyPair = new KeyPair();\n      cancel.account = account;\n      cancel.account.accountId = accountId;\n      cancel.account.keyPair.publicKeyX = publicKeyX;\n      cancel.account.keyPair.publicKeyY = publicKeyY;\n      cancel.account.keyPair.secretKey = privateKey;\n      cancel.account.nonce = nonce;\n      cancel.orderToken = orderToken;\n      cancel.orderId = orderId;\n      cancel.tokenF = tokenF;\n      cancel.amountF = amountF;\n      cancel.label = label;\n      return exchange.submitCancel(cancel);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * Get Api Key signature\n   * @param accountId: account ID in exchange\n   * @param publicKeyX: trading public key X of account, decimal string\n   * @param publicKeyY: trading public key Y of account, decimal string\n   * @param privateKey: trading private key of account, decimal string\n   */\n  public getApiKey(\n    accountId: number,\n    publicKeyX: string,\n    publicKeyY: string,\n    privateKey: string\n  ) {\n    try {\n      const request = new GetAPIKeyRequest();\n      const account = new DexAccount();\n      account.keyPair = new KeyPair();\n      request.account = account;\n      request.account.accountId = accountId;\n      request.account.keyPair.publicKeyX = publicKeyX;\n      request.account.keyPair.publicKeyY = publicKeyY;\n      request.account.keyPair.secretKey = privateKey;\n      return exchange.signGetApiKey(request);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  /**\n   * Get Api Key signature\n   * @param accountId: account ID in exchange\n   * @param publicKeyX: trading public key X of account, decimal string\n   * @param publicKeyY: trading public key Y of account, decimal string\n   * @param privateKey: trading private key of account, decimal string\n   * @param orderHash: [OPTIONAL] specified order hash to cancel\n   * @param clientOrderId: [OPTIONAL] specified client order ID to cancel\n   */\n  public submitFlexCancel(\n    accountId: number,\n    publicKeyX: string,\n    publicKeyY: string,\n    privateKey: string,\n    orderHash?: string,\n    clientOrderId?: string\n  ) {\n    try {\n      const request = new FlexCancelRequest();\n      const account = new DexAccount();\n      account.keyPair = new KeyPair();\n      request.account = account;\n      request.account.accountId = accountId;\n      request.account.keyPair.publicKeyX = publicKeyX;\n      request.account.keyPair.publicKeyY = publicKeyY;\n      request.account.keyPair.secretKey = privateKey;\n      request.orderHash = orderHash;\n      request.clientOrderId = clientOrderId;\n      return exchange.submitFlexCancel(request);\n    } catch (e) {\n      throw e;\n    }\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport appLayout from 'appLayout';\n\nimport { Table } from 'antd';\nimport Moment from 'moment';\nimport { config } from 'librarys/lightcone_v3';\nconst BigNumber = require('bignumber.js');\n\nclass MyOrderTable extends React.Component {\n  render() {\n    const tableTitleStyle = {\n      color: '#666666',\n      fontWeight: 400,\n      fontSize: '14px',\n      marginBottom: '0px'\n    };\n\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'padding',\n        width: 2\n      },\n      {\n        title: <div style={tableTitleStyle}>Side</div>,\n        dataIndex: 'side',\n        width: 100\n      },\n      {\n        title: <div style={tableTitleStyle}>Market</div>,\n        dataIndex: 'market',\n        width: 120\n      },\n      {\n        title: <div style={tableTitleStyle}>Size</div>,\n        dataIndex: 'size',\n        width: 120\n      },\n      {\n        title: <div style={tableTitleStyle}>Price</div>,\n        dataIndex: 'price',\n        width: 120\n      },\n      {\n        title: <div style={tableTitleStyle}>Fee</div>,\n        dataIndex: 'fee',\n        width: 200\n      },\n      {\n        title: <div style={tableTitleStyle}>Date</div>,\n        dataIndex: 'date',\n        width: 300\n      },\n      {\n        title: <div style={tableTitleStyle}>Status</div>,\n        dataIndex: 'status',\n        width: 100\n      }\n    ];\n\n    const data = [];\n    for (let i = 0; i < this.props.myOrders.myOrders.length; i++) {\n      const order = this.props.myOrders.myOrders[i];\n      const market = order.market;\n      const tokens = market.split('-');\n      const baseToken = tokens[0];\n\n      console.log('OrderSize' + order.size);\n      const size = config.fromWEI(baseToken, order.size, 8);\n\n      var fee = config.fromWEI(baseToken, order.filledFee, 8);\n      if (Number(fee) === 0) {\n        fee = '-';\n      }\n      var status = '-';\n      if (order.status === 'ORDER_STATUS_PROCESSING') {\n        status = 'Open';\n      } else if (order.status === 'ORDER_STATUS_PROCESSED') {\n        status = 'Filled';\n      } else if (order.status === 'ORDER_STATUS_FAILED') {\n        status = 'Failed';\n      } else if (\n        order.status === 'ORDER_STATUS_CANCELLING' ||\n        order.status === 'ORDER_STATUS_CANCELLED'\n      ) {\n        status = 'Cancelled';\n      } else if (order.status === 'ORDER_STATUS_EXPIRED') {\n        status = 'Expired';\n      }\n      data.push({\n        key: i,\n        side: (\n          <div\n            style={{\n              height: '30px'\n            }}\n          >\n            {order.side === 'BUY' ? 'Buy' : 'Sell'}\n          </div>\n        ),\n        market: order.market,\n        size: size,\n        price: Number(order.price),\n        fee: fee,\n        date: Moment(order.timestamp).format('YYYY MM/DD HH:mm:ss'),\n        status: status\n      });\n    }\n\n    return (\n      <div\n        style={{\n          paddingLeft: '0px',\n          paddingTop: '0px',\n          marginTop: '0px',\n          height: appLayout.myOrderTableScreenHeight,\n          borderWidth: '0px'\n        }}\n      >\n        <Table\n          style={{\n            borderStyle: 'none',\n            borderWidth: '0px'\n          }}\n          columns={columns}\n          dataSource={data}\n          pagination={{ pageSize: 10 }}\n          scroll={{ y: appLayout.myOrderTableScreenHeight }}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { layoutManager, myOrders } = state;\n  return { layoutManager, myOrders };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MyOrderTable);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport appLayout from 'appLayout';\n\nimport { Table } from 'antd';\nimport Moment from 'moment';\nconst BigNumber = require('bignumber.js');\n\nclass MyDepositTable extends React.Component {\n  render() {\n    const tableTitleStyle = {\n      color: '#666666',\n      fontWeight: 400,\n      fontSize: '14px',\n      marginBottom: '0px'\n    };\n\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'padding',\n        width: 2\n      },\n      {\n        title: <div style={tableTitleStyle}>Asset</div>,\n        dataIndex: 'symbol',\n        width: 120\n      },\n      {\n        title: <div style={tableTitleStyle}>Amount</div>,\n        dataIndex: 'amount',\n        width: 120\n      },\n      {\n        title: <div style={tableTitleStyle}>Fee</div>,\n        dataIndex: 'fee',\n        width: 200\n      },\n      {\n        title: <div style={tableTitleStyle}>Date</div>,\n        dataIndex: 'date',\n        width: 300\n      },\n      {\n        title: <div style={tableTitleStyle}>Status</div>,\n        dataIndex: 'status',\n        width: 100\n      }\n    ];\n\n    const data = [];\n    for (let i = 0; i < this.props.myOrders.transactions.length; i++) {\n      const transaction = this.props.myOrders.transactions[i];\n      if (transaction.txType !== 'DEPOSIT') {\n        continue;\n      }\n\n      const amount = new BigNumber(transaction.amount)\n        .dividedBy('1000000000000000000')\n        .toString();\n      var fee = new BigNumber(transaction.feeAmount)\n        .dividedBy('1000000000000000000')\n        .toString();\n      if (fee === '0') {\n        fee = '-';\n      }\n      var status = '-';\n      if (transaction.status === 'TX_STATUS_PROCESSING') {\n        status = 'Processing';\n      } else if (transaction.status === 'TX_STATUS_PROCESSED') {\n        status = 'Processed';\n      }\n      data.push({\n        key: i,\n        symbol: transaction.symbol,\n        amount: amount,\n        fee: fee,\n        date: Moment(transaction.timestamp).format('YYYY MM/DD HH:mm:ss'),\n        status: status\n      });\n    }\n\n    return (\n      <div\n        style={{\n          paddingLeft: '0px',\n          paddingTop: '0px',\n          marginTop: '0px',\n          height: appLayout.myOrderTableScreenHeight,\n          borderWidth: '0px'\n        }}\n      >\n        <Table\n          style={{\n            borderStyle: 'none',\n            borderWidth: '0px'\n          }}\n          columns={columns}\n          dataSource={data}\n          pagination={{ pageSize: 10 }}\n          scroll={{ y: appLayout.myOrderTableScreenHeight }}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { layoutManager, myOrders } = state;\n  return { layoutManager, myOrders };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MyDepositTable);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport appLayout from 'appLayout';\n\nimport { Table } from 'antd';\nimport Moment from 'moment';\nconst BigNumber = require('bignumber.js');\n\nclass MyWithdrawalTable extends React.Component {\n  render() {\n    const tableTitleStyle = {\n      color: '#666666',\n      fontWeight: 400,\n      fontSize: '14px',\n      marginBottom: '0px',\n      userSelect: 'none'\n    };\n\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'padding',\n        width: 2\n      },\n      {\n        title: <div style={tableTitleStyle}>Asset</div>,\n        dataIndex: 'symbol',\n        width: 120\n      },\n      {\n        title: <div style={tableTitleStyle}>Amount</div>,\n        dataIndex: 'amount',\n        width: 120\n      },\n      {\n        title: <div style={tableTitleStyle}>Fee</div>,\n        dataIndex: 'fee',\n        width: 200\n      },\n      {\n        title: <div style={tableTitleStyle}>Date</div>,\n        dataIndex: 'date',\n        width: 300\n      },\n      {\n        title: <div style={tableTitleStyle}>Status</div>,\n        dataIndex: 'status',\n        width: 100\n      }\n    ];\n\n    const data = [];\n    for (let i = 0; i < this.props.myOrders.transactions.length; i++) {\n      const transaction = this.props.myOrders.transactions[i];\n      if (transaction.txType !== 'ONCHAIN_WITHDRAWAL') {\n        continue;\n      }\n\n      const amount = new BigNumber(transaction.amount)\n        .dividedBy('1000000000000000000')\n        .toString();\n      var fee = new BigNumber(transaction.feeAmount)\n        .dividedBy('1000000000000000000')\n        .toString();\n      if (fee === '0') {\n        fee = '-';\n      }\n      var status = '-';\n      if (transaction.status === 'TX_STATUS_PROCESSING') {\n        status = 'Processing';\n      } else if (transaction.status === 'TX_STATUS_PROCESSED') {\n        status = 'Processed';\n      }\n      data.push({\n        key: i,\n        symbol: transaction.symbol,\n        amount: amount,\n        fee: fee,\n        date: Moment(transaction.timestamp).format('YYYY MM/DD HH:mm:ss'),\n        status: status\n      });\n    }\n\n    return (\n      <div\n        style={{\n          paddingLeft: '0px',\n          paddingTop: '0px',\n          marginTop: '0px',\n          height: appLayout.myOrderTableScreenHeight,\n          borderWidth: '0px'\n        }}\n      >\n        <Table\n          style={{\n            borderStyle: 'none',\n            borderWidth: '0px'\n          }}\n          columns={columns}\n          dataSource={data}\n          pagination={{ pageSize: 10 }}\n          scroll={{ y: appLayout.myOrderTableScreenHeight }}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { layoutManager, myOrders } = state;\n  return { layoutManager, myOrders };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MyWithdrawalTable);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport colors from 'colors';\n\nimport MyOrderTable from 'components/my-orders/MyOrderTable';\nimport MyDepositTable from 'components/my-orders/MyDepositTable';\nimport MyWithdrawalTable from 'components/my-orders/MyWithdrawalTable';\n\nimport './MyOrders.less';\n\nimport { Button, Icon } from 'antd';\nconst ButtonGroup = Button.Group;\n\nclass MyOrdersDetailView extends React.Component {\n  state = {\n    selectedKey: 'open'\n  };\n\n  render() {\n    const unselectedButtonStyle = {\n      borderTopLeftRadius: '8px',\n      borderTopRightRadius: '8px',\n      borderBottomLeftRadius: '0px',\n      borderBottomRightRadius: '0px',\n      height: '46px',\n      width: '120px',\n      backgroundColor: '#161616',\n      color: colors.textMedContrast,\n      borderWidth: '0px',\n      marginRight: '6px',\n      borderStyle: 'none',\n      fontWeight: '14px',\n      fontSize: '0.9rem'\n    };\n\n    const selectedButtonStyle = {\n      borderTopLeftRadius: '8px',\n      borderTopRightRadius: '8px',\n      borderBottomLeftRadius: '0px',\n      borderBottomRightRadius: '0px',\n      height: '46px',\n      width: '120px',\n      backgroundColor: '#202020',\n      color: colors.textMedContrast,\n      borderWidth: '0px',\n      marginRight: '6px',\n      borderStyle: 'none',\n      fontWeight: '14px',\n      fontSize: '0.9rem'\n    };\n\n    const iconStyle = {\n      fontSize: '14px',\n      color: colors.textLowContrast,\n      verticalAlign: 'middle'\n    };\n\n    var tableComponent;\n    if (this.state.selectedKey === 'open') {\n      tableComponent = <MyOrderTable />;\n    } else if (this.state.selectedKey === 'deposit') {\n      tableComponent = <MyDepositTable />;\n    } else if (this.state.selectedKey === 'withdrawal') {\n      tableComponent = <MyWithdrawalTable />;\n    }\n\n    return (\n      <div\n        style={{\n          paddingTop: '30px',\n          paddingLeft: '30px',\n          paddingRight: '30px',\n          paddingBottom: '30px'\n        }}\n      >\n        <div\n          style={{\n            paddingLeft: '0px',\n            paddingBottom: '0px',\n            borderWidth: '0px'\n          }}\n        >\n          <ButtonGroup\n            style={{\n              borderRadius: '0px',\n              borderWidth: '0px',\n              paddingBottom: '0px'\n            }}\n          >\n            <Button\n              className={\n                this.state.selectedKey === 'open'\n                  ? 'order-tab-button-active'\n                  : 'order-tab-button'\n              }\n              style={\n                this.state.selectedKey === 'open'\n                  ? selectedButtonStyle\n                  : unselectedButtonStyle\n              }\n              onClick={() => {\n                this.setState({\n                  selectedKey: 'open'\n                });\n              }}\n            >\n              Order\n            </Button>\n            <Button\n              className={\n                this.state.selectedKey === 'deposit'\n                  ? 'order-tab-button-active'\n                  : 'order-tab-button'\n              }\n              style={\n                this.state.selectedKey === 'deposit'\n                  ? selectedButtonStyle\n                  : unselectedButtonStyle\n              }\n              onClick={() => {\n                this.setState({\n                  selectedKey: 'deposit'\n                });\n              }}\n            >\n              Deposit\n            </Button>\n            <Button\n              className={\n                this.state.selectedKey === 'withdrawal'\n                  ? 'order-tab-button-active'\n                  : 'order-tab-button'\n              }\n              style={\n                this.state.selectedKey === 'withdrawal'\n                  ? selectedButtonStyle\n                  : unselectedButtonStyle\n              }\n              onClick={() => {\n                this.setState({\n                  selectedKey: 'withdrawal'\n                });\n              }}\n            >\n              Withdrawal\n            </Button>\n          </ButtonGroup>\n        </div>\n        {tableComponent}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { layoutManager } = state;\n  return { layoutManager };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MyOrdersDetailView);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport colors from 'colors';\nimport appLayout from 'appLayout';\nimport MyOrdersOverview from 'components/my-orders/MyOrdersOverview';\nimport MyOrdersDetailView from 'components/my-orders/MyOrdersDetailView';\n\nimport { Layout } from 'antd';\nconst { Sider, Content } = Layout;\n\nclass MyOrders extends React.Component {\n  render() {\n    return (\n      <div>\n        <div\n          style={{\n            height: appLayout.borderWidth,\n            backgroundColor: colors.border\n          }}\n        />\n        <Layout>\n          <Layout\n            hasSider={true}\n            style={{ height: appLayout.myOrdersScreenHeight }}\n          >\n            <Sider\n              width={appLayout.leftSideWidth}\n              style={{\n                paddingTop: '0px',\n                backgroundColor: colors.parentBackground,\n                borderRightStyle: 'solid',\n                borderRightWidth: appLayout.borderWidth,\n                borderColor: colors.border,\n                height: appLayout.myOrdersScreenHeight\n              }}\n            >\n              <div\n                style={{\n                  display: 'block',\n                  position: 'relative',\n                  height: appLayout.myOrdersScreenHeight\n                }}\n              >\n                <MyOrdersOverview />\n              </div>\n            </Sider>\n            <Content\n              width=\"100%\"\n              style={{\n                paddingTop: '0px',\n                backgroundColor: colors.parentBackground,\n                borderLeftStyle: 'none'\n              }}\n            >\n              <MyOrdersDetailView />\n            </Content>\n          </Layout>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { layoutManager } = state;\n  return { layoutManager };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MyOrders);\n","const mainChain = true\nconst debug = false\nexport default {\n  relay: {\n    serverUrl: mainChain ? 'https://api.wedex.io/api/v1' : 'http://13.112.139.43:31610/api/v1',\n    wsUrl: mainChain ? 'wss://api.wedex.io/v1/ws' : 'ws://13.112.139.43:31610/v1/ws',\n    relayUrl: 'http://18.163.120.178:8080/lightcone_v3/',\n  },\n  pollingIntervalRatio: debug ? 10 : 1,\n  wedex: {\n    // \n    // serverUrl: 'http://112.74.28.187:18081/api'\n    // \n    // serverUrl: 'http://18.163.13.39:8080/api'\n    // \n    serverUrl: 'http://47.56.65.136:18081/api'\n  },\n  ratioRecommendedGasPrice: mainChain ? 0.2 : 1\n}\n","import axios from 'axios';\nimport { notification } from 'antd';\nimport appConfig from 'config/appConfig'\n\nlet { serverUrl, relayUrl } = appConfig.relay\n\nexport const SERVER_URL = serverUrl\n\nexport function getProxyURL() {\n  // let proxyURL = '/lightcone_v3/';\n  // if (\n  //   window.location.hostname === 'localhost' ||\n  //   window.location.hostname === '127.0.0.1'\n  // ) {\n  //   proxyURL = 'http://52.196.115.12:8080/lightcone_v3/';\n  //   //  proxyURL = 'http://localhost:8080/lightcone_v3/';\n  // }\n  // return proxyURL;\n  // TODO: \n  return relayUrl\n}\n\nexport function getRefreshDurationInMillionSeconds() {\n  // FIXME: this doesn't work\n  if (\n    window.location.hostname === 'localhost' ||\n    window.location.hostname === '127.0.0.1'\n  ) {\n    // Every minute\n    return 20 * 1000;\n  } else {\n    return 1 * 1000;\n  }\n}\n\nexport function sleep(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nexport async function sendApprove(signedEthereumTx) {\n  return sendDeposit(signedEthereumTx);\n}\n\nexport async function sendDeposit(signedEthereumTx) {\n  const data = {\n    data: signedEthereumTx\n  };\n  try {\n    const response = await axios.post(getProxyURL(), {\n      method: 'POST',\n      baseURL: SERVER_URL,\n      url: '/api/v1/deposit',\n      data\n    });\n    return parseResponse(response);\n  } catch (e) {\n    throw e;\n  }\n}\n\nexport function _parseResponse(response) {\n  const data = response['data'];\n  const resultInfo = data['resultInfo'];\n  const errorData = data['error'];\n\n  // Some API endpoints in the old versions don't have resultInfo.\n  if (resultInfo) {\n    const code = resultInfo['code'];\n    if (code !== 0) {\n      const errorMessage = resultInfo['message'];\n      throw Error(errorMessage);\n    }\n    return data;\n  } else if (errorData) {\n    const code = errorData['code'];\n    if (code !== 0) {\n      const errorMessage = `${errorData['code']} ${errorData['message']}`;\n      throw Error(errorMessage);\n    }\n    return data;\n  } else {\n    return data;\n  }\n}\n\nexport function parseResponse(response) {\n  try {\n    return _parseResponse(response)\n  } catch (err) {\n    // debugger\n    notification['error']({\n      style: {\n        backgroundColor: 'white'\n      },\n      // message: 'Your deposit request failed. Please try again!',\n      description: String(err),\n      duration: 10\n    });\n  }\n}\n\nexport async function getApiKey(data, signed) {\n  try {\n    const signature = signed.Rx + ',' + signed.Ry + ',' + signed.s;\n    const headers = {\n      'X-API-SIG': signature\n    };\n    const response = await axios.post(\n      getProxyURL(),\n      {\n        method: 'GET',\n        baseURL: SERVER_URL,\n        url: '/api/v1/apiKey',\n        data\n      },\n      { headers: headers }\n    );\n    return parseResponse(response);\n  } catch (e) {\n    throw e;\n  }\n}\n\nexport async function getDeposits(\n  accountId,\n  statuses,\n  types,\n  start,\n  end,\n  fromHash,\n  limit,\n  apiKey\n) {\n  const data = {\n    accountId: accountId,\n    statuses: statuses,\n    types: types,\n    start: start,\n    end: end,\n    fromHash: fromHash,\n    limit: limit\n  };\n  const headers = {\n    'X-API-KEY': apiKey\n  };\n  try {\n    const response = await axios.post(\n      getProxyURL(),\n      {\n        method: 'GET',\n        baseURL: SERVER_URL,\n        url: '/api/v1/user/deposits',\n        data\n      },\n      { headers: headers }\n    );\n    return parseResponse(response);\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getWithdraws(\n  accountId,\n  statuses,\n  types,\n  start,\n  end,\n  fromHash,\n  limit,\n  apiKey\n) {\n  const data = {\n    accountId: accountId,\n    statuses: statuses,\n    types: types,\n    start: start,\n    end: end,\n    fromHash: fromHash,\n    limit: limit\n  };\n  const headers = {\n    'X-API-KEY': apiKey\n  };\n  try {\n    const response = await axios.post(\n      getProxyURL(),\n      {\n        method: 'GET',\n        baseURL: SERVER_URL,\n        url: '/api/v1/user/onchainWithdrawal',\n        data\n      },\n      { headers: headers }\n    );\n    return parseResponse(response);\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getNonce(address) {\n  const data = {\n    address\n  };\n  try {\n    const response = await axios.post(getProxyURL(), {\n      method: 'GET',\n      baseURL: SERVER_URL,\n      url: '/api/v1/ethNonce',\n      data\n    });\n    if (response['data']['nonce'] !== undefined) {\n      return response['data']['nonce'];\n    } else {\n      throw new Error('Failed to get nonce');\n    }\n  } catch (e) {\n    throw e;\n  }\n}\n\nexport async function getDexNonce(data) {\n  try {\n    const response = await axios.post(getProxyURL(), {\n      method: 'POST',\n      baseURL: SERVER_URL,\n      url: '/api/v1/dexNonce',\n      data\n    });\n    return parseResponse(response);\n  } catch (e) {\n    throw e;\n  }\n}\n\nexport async function submitOffchainWithdrawal(data, apiKey) {\n  try {\n    const headers = {\n      'X-API-KEY': apiKey\n    };\n    const response = await axios.post(\n      getProxyURL(),\n      {\n        method: 'POST',\n        baseURL: SERVER_URL,\n        url: '/api/v1/offchainWithdrawal',\n        data\n      },\n      { headers: headers }\n    );\n    return parseResponse(response);\n  } catch (e) {\n    throw e;\n  }\n}\n\nexport async function submitOrderToLightcone(data, apiKey) {\n  try {\n    const headers = {\n      'X-API-KEY': apiKey\n    };\n    const response = await axios.post(\n      getProxyURL(),\n      {\n        method: 'POST',\n        baseURL: SERVER_URL,\n        url: '/api/v1/order',\n        data\n      },\n      { headers: headers }\n    );\n    return parseResponse(response);\n  } catch (e) {\n    throw e;\n  }\n}\n\n// Return order id\nexport async function getOrderId(accountId, tokenSId, apiKey) {\n  const data = {\n    accountId: accountId,\n    tokenSId: tokenSId\n  };\n  const headers = {\n    'X-API-KEY': apiKey\n  };\n  try {\n    const response = await axios.post(\n      getProxyURL(),\n      {\n        method: 'GET',\n        baseURL: SERVER_URL,\n        url: '/api/v1/orderId',\n        data\n      },\n      { headers: headers }\n    );\n\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return response['data']['orderId'];\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (e) {\n    throw e;\n  }\n}\n\n// Wait for 20 seconds\nexport async function lightconeGetAccountUntilSuccess(address) {\n  const data = {\n    address\n  };\n  try {\n    var i = 0;\n    // Wait for 20 seconds\n    while (i < 5) {\n      const response = await axios.post(getProxyURL(), {\n        method: 'GET',\n        baseURL: SERVER_URL,\n        url: '/api/v1/account',\n        data\n      });\n      const responseData = response['data'];\n      if (responseData['error'] === undefined) {\n        return responseData;\n      } else {\n        // account is not ready yet. sleep 1 seconds.\n        // throw new Error(responseData['error']['message']);\n        await sleep(1000);\n        i = i + 1;\n      }\n    }\n    return {};\n  } catch (e) {\n    throw e;\n  }\n}\n\nexport async function lightconeGetAccount(address) {\n  const data = {\n    address\n  };\n  try {\n    const response = await axios.post(getProxyURL(), {\n      method: 'GET',\n      baseURL: SERVER_URL,\n      url: '/api/v1/account',\n      data\n    });\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData.account;\n    } else if (responseData['error'].code === 101002) {\n      return null;\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (e) {\n    if (e.response.status === 404) {\n      return null\n    }\n    throw new Error(e);\n  }\n}\n\nexport async function getTimestamp() {\n  try {\n    const response = await axios.post(getProxyURL(), {\n      method: 'GET',\n      baseURL: SERVER_URL,\n      url: '/api/v1/timestamp'\n    });\n\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData;\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getCandlestick(params) {\n  try {\n    const response = await axios.post(getProxyURL(), {\n      method: 'GET',\n      baseURL: SERVER_URL,\n      url: '/api/v1/candlestick',\n      data: params\n    });\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['candles'];\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getTrade(market, limit) {\n  const data = {\n    market,\n    limit\n  };\n  try {\n    const response = await axios.post(getProxyURL(), {\n      method: 'GET',\n      baseURL: SERVER_URL,\n      url: '/api/v1/trade',\n      data\n    });\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['trades'];\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\n// TODO: verify filter\nexport async function getTransactions(params) {\n  let { apiKey, ...data } = params\n  const headers = {\n    'X-API-KEY': apiKey\n  };\n  try {\n    const response = await axios.post(\n      getProxyURL(),\n      {\n        method: 'GET',\n        baseURL: SERVER_URL,\n        url: '/api/v1/user/deposits',\n        data\n      },\n      { headers: headers }\n    );\n\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['transactions'];\n    } else {\n      // throw new Error(responseData['error']['message']);\n      return null\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getDepositHistory(accountId, limit, apiKey) {\n  const data = {\n    accountId,\n    types: 'DEPOSIT',\n    limit\n  };\n  const headers = {\n    'X-API-KEY': apiKey\n  };\n  try {\n    const response = await axios.post(\n      getProxyURL(),\n      {\n        method: 'GET',\n        baseURL: SERVER_URL,\n        url: '/api/v1/user/deposits',\n        data\n      },\n      { headers: headers }\n    );\n\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['transactions'];\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getWithdrawalHistory(accountId, limit, apiKey) {\n  const data = {\n    accountId,\n    types: 'DEPOSIT',\n    limit\n  };\n  const headers = {\n    'X-API-KEY': apiKey\n  };\n  try {\n    const response = await axios.post(\n      getProxyURL(),\n      {\n        method: 'GET',\n        baseURL: SERVER_URL,\n        url: '/api/v1/user/withdrawals',\n        data\n      },\n      { headers: headers }\n    );\n\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['transactions'];\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getPrice(params) {\n  let { apiKey, ...data } = params\n  const headers = {\n    'X-API-KEY': apiKey\n  };\n  try {\n    const response = await axios.post(\n      getProxyURL(),\n      {\n        method: 'GET',\n        baseURL: SERVER_URL,\n        url: '/api/v1/price',\n        data\n      },\n      { headers: headers }\n    );\n\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['tickers'];\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getTickers(params) {\n  let { apiKey, ...data } = params\n  const headers = {\n    'X-API-KEY': apiKey\n  };\n  try {\n    const response = await axios.post(\n      getProxyURL(),\n      {\n        method: 'GET',\n        baseURL: SERVER_URL,\n        url: '/api/v1/ticker',\n        data\n      },\n      { headers: headers }\n    )\n\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['tickers'];\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (error) {\n    throw error;\n  }\n}","export const SHOW_SETTINGS = 'SHOW_SETTINGS';\nexport const CREATE_DEX_ACCOUNT = 'CREATE_DEX_ACCOUNT';\nexport const SHOW_DEPOSIT = 'SHOW_DEPOSIT';\nexport const SHOW_WITHDRAW = 'SHOW_WITHDRAW';\nexport const SHOW_CONFIRM_LOGOUT = 'SHOW_CONFIRM_LOGOUT';\nexport const SHOW_EXPORT_ACCOUNT = 'SHOW_EXPORT_ACCOUNT';\nexport const SHOW_ENTER_PASSWORD = 'SHOW_ENTER_PASSWORD';\nexport const SHOW_ACCOUNT_CREATION_IN_PROCESSING =\n  'SHOW_ACCOUNT_CREATION_IN_PROCESSING';\n\nexport const LOGIN_MODAL = 'LOGIN_MODAL';\nexport const UPDATE_PASSWORD_MODAL = 'UPDATE_PASSWORD_MODAL';\nexport const SHOW_NETWORK_WRONG_MODAL = 'SHOW_NETWORK_WRONG_MODAL';\n\nexport const SHOW_CONNECT_WALLET_MODAL = 'SHOW_CONNECT_WALLET_MODAL';\n\nexport function showNetworkWrongwModal(show) {\n  return {\n    type: SHOW_NETWORK_WRONG_MODAL,\n    payload: {\n      show\n    }\n  };\n}\n\nexport function showSettingsModal(show) {\n  return {\n    type: SHOW_SETTINGS,\n    payload: {\n      show\n    }\n  };\n}\n\nexport function createDexAccountModal(show) {\n  return {\n    type: CREATE_DEX_ACCOUNT,\n    payload: {\n      show\n    }\n  };\n}\n\nexport function loginModal(show) {\n  return {\n    type: LOGIN_MODAL,\n    payload: {\n      show\n    }\n  };\n}\n\nexport function updatePasswordModal(show) {\n  return {\n    type: UPDATE_PASSWORD_MODAL,\n    payload: {\n      show\n    }\n  };\n}\n\nexport function showDepositModal(show) {\n  return {\n    type: SHOW_DEPOSIT,\n    payload: {\n      show\n    }\n  };\n}\n\nexport function showWithdrawModal(show) {\n  return {\n    type: SHOW_WITHDRAW,\n    payload: {\n      show\n    }\n  };\n}\n\nexport function showConfirmLogoutModal(show) {\n  return {\n    type: SHOW_CONFIRM_LOGOUT,\n    payload: {\n      show\n    }\n  };\n}\n\nexport function showExportAccountModal(show) {\n  return {\n    type: SHOW_EXPORT_ACCOUNT,\n    payload: {\n      show\n    }\n  };\n}\n\nexport function showEnterPasswordModal(show) {\n  return {\n    type: SHOW_ENTER_PASSWORD,\n    payload: {\n      show\n    }\n  };\n}\n\nexport function showAccountCreationInProcessingModal(show) {\n  return {\n    type: SHOW_ACCOUNT_CREATION_IN_PROCESSING,\n    payload: {\n      show\n    }\n  };\n}\n\nexport function showConnectWalletModal(show) {\n  return {\n    type: SHOW_CONNECT_WALLET_MODAL,\n    payload: {\n      show\n    }\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Row, Col, Button } from 'antd';\nimport colors from 'colors';\nimport { LOGGED_IN } from 'redux/actions/DexAccount';\n\nimport {\n  showDepositModal,\n  showWithdrawModal\n} from 'redux/actions/ModalManager';\n\nclass MyBalancesOverview extends React.Component {\n  setDepositModalVisible(depositModalVisible) {\n    this.setState({ depositModalVisible });\n  }\n\n  setWithdrawModalVisible(withdrawModalVisible) {\n    this.setState({ withdrawModalVisible });\n  }\n\n  render() {\n    const { dexAccount } = this.props;\n    const submitButtonStyle = {\n      color: colors.textHighContrast,\n      borderStyle: 'none',\n      height: '38px',\n      borderRadius: '0px',\n      fontWeight: '600'\n    };\n\n    const submitBuyButtonStyle = {\n      ...submitButtonStyle,\n      backgroundColor: colors.buyPrimary\n    };\n\n    const submitSellButtonStyle = {\n      ...submitButtonStyle,\n      backgroundColor: colors.sellPrimary\n    };\n\n    let buttons;\n    // TODO: needs refactor\n    if (\n      typeof window.wallet !== 'undefined' &&\n      !!dexAccount &&\n      !!dexAccount.account\n    ) {\n      if (\n        dexAccount.account.keyPairCipherText &&\n        dexAccount.account &&\n        dexAccount.account.accountId\n      ) {\n        buttons = (\n          <div>\n            <div\n              style={{\n                marginTop: '30px',\n                color: colors.textLowContrast,\n                fontWeight: 400,\n                fontSize: '0.9rem'\n              }}\n            >\n              <Button\n                className={'deposit-button'}\n                block\n                style={submitBuyButtonStyle}\n                onClick={() => {\n                  this.props.showDepositModal(true);\n                }}\n                disabled={!this.props.metaMask.isDesiredNetwork}\n              >\n                DEPOSIT\n              </Button>\n            </div>\n\n            <div\n              style={{\n                marginTop: '30px',\n                color: colors.textLowContrast,\n                fontWeight: 400,\n                fontSize: '0.9rem'\n              }}\n            >\n              <Button\n                className={'withdraw-button'}\n                block\n                style={submitSellButtonStyle}\n                onClick={() => {\n                  this.props.showWithdrawModal(true);\n                }}\n                disabled={\n                  this.props.dexAccount.account.state !== LOGGED_IN ||\n                  !this.props.metaMask.isDesiredNetwork\n                }\n              >\n                WITHDRAW\n              </Button>\n            </div>\n          </div>\n        );\n      }\n    }\n\n    return (\n      <div\n        style={{\n          paddingTop: '30px',\n          paddingLeft: '30px',\n          paddingRight: '30px',\n          paddingBottom: '30px'\n        }}\n      >\n        <div\n          style={{\n            lineHeight: '53px',\n            height: '53px',\n            color: colors.textMedContrast,\n            fontWeight: 700,\n            fontSize: '1.4rem',\n            userSelect: 'none'\n          }}\n        >\n          Balance Overview\n        </div>\n        <div\n          style={{\n            marginTop: '30px',\n            color: colors.textLowContrast,\n            fontWeight: 400,\n            fontSize: '0.9rem',\n            userSelect: 'none'\n          }}\n        >\n          Total\n        </div>\n        <div\n          style={{\n            marginTop: '10px',\n            color: colors.textMedContrast,\n            fontWeight: 400,\n            fontSize: '1.4rem'\n          }}\n        >\n          -\n        </div>\n        {buttons}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { layoutManager, balances, dexAccount, metaMask } = state;\n  return { layoutManager, balances, dexAccount, metaMask };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    showDepositModal: show => dispatch(showDepositModal(show)),\n    showWithdrawModal: show => dispatch(showWithdrawModal(show))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MyBalancesOverview);\n","import { updateMyOrders } from 'redux/actions/MyOrders';\nimport { updateMyBalances } from 'redux/actions/MyBalances';\nimport { sleep } from 'api/LightconeAPI';\n\nexport const GET_DATA_FROM_LOCALSTORAGE = 'GET_DATA_FROM_LOCALSTORAGE';\nexport const GET_DATA_FROM_LOCALSTORAGE_SUCCEEDED =\n  'GET_DATA_FROM_LOCALSTORAGE_SUCCEEDED';\n\nexport const CREATE_ACCOUNT = 'CREATE_ACCOUNT';\nexport const SEND_CREATE_REQUEST = 'SEND_CREATE_REQUEST';\nexport const SEND_CREATE_REQUEST_SUCCEEDED = 'SEND_CREATE_REQUEST_SUCCEEDED';\nexport const SEND_CREATE_REQUEST_FAILED = 'SEND_CREATE_REQUEST_FAILED';\n\nexport const CREATE_ON_CHAIN_PENDING = 'CREATE_ON_CHAIN_PENDING';\nexport const CREATE_ON_CHAIN_SUCCEEDED = 'CREATE_ON_CHAIN_SUCCEEDED';\nexport const CREATE_ON_CHAIN_FAILED = 'CREATE_ON_CHAIN_FAILED';\n\nexport const ENABLE_TOKENS = 'ENABLE_TOKENS';\nexport const CANCELED_ORDERS = 'CANCELED_ORDERS';\nexport const REMOVE_CANCELED_ORDERS = 'REMOVE_CANCELED_ORDERS';\nexport const UPDATE_PASSWORD = 'UPDATE_PASSWORD';\n\nexport const LOGOUT = 'LOGOUT';\nexport const CHANGE_ACCOUNT = 'CHANGE_ACCOUNT';\n\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT';\nexport const UPDATE_REMEMBER_ME = 'UPDATE_REMEMBER_ME';\n\nexport const WALLET_UNCONNECTED = 'WALLET_UNCONNECTED';\nexport const UNCREATED = 'UNCREATED';\nexport const CREATING = 'CREATING';\nexport const CREATED = 'CREATED';\nexport const LOCKED = 'LOCKED';\nexport const LOGGED_IN = 'LOGGED_IN';\n\nexport function updateRememberMe(rememberMe) {\n  return {\n    type: UPDATE_REMEMBER_ME,\n    payload: { rememberMe }\n  };\n}\n\nexport function updatePassword(password) {\n  return {\n    type: UPDATE_PASSWORD,\n    payload: { password: password }\n  };\n}\n\nexport function updateAccount(account) {\n  return {\n    type: UPDATE_ACCOUNT,\n    payload: { account: account }\n  };\n}\n\nexport function getDataFromLocalStorage(address) {\n  return {\n    type: GET_DATA_FROM_LOCALSTORAGE,\n    payload: { address }\n  };\n}\n\nexport function canceledOrders(hash) {\n  return {\n    type: CANCELED_ORDERS,\n    payload: {\n      hash\n    }\n  };\n}\n\nexport function removeCanceledOrders() {\n  return {\n    type: REMOVE_CANCELED_ORDERS,\n    payload: {}\n  };\n}\n\nexport function logout() {\n  return {\n    type: LOGOUT,\n    payload: {}\n  };\n}\n\nexport function changeAccount() {\n  return dispatch => {\n    dispatch({\n      type: CHANGE_ACCOUNT,\n      payload: {}\n    });\n  };\n}\n\nexport function logoutAll() {\n  return dispatch => {\n    (async () => {\n      try {\n        dispatch(logout());\n        await sleep(2000);\n\n        dispatch(updateMyOrders([]));\n        dispatch(updateMyBalances([]));\n      } catch (error) {}\n    })();\n  };\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport colors from 'colors';\nimport appLayout from 'appLayout';\nimport { Line } from 'rc-progress';\nimport { Row, Table } from 'antd';\nimport BigNumber from 'bignumber.js';\n\nclass MyBalanceTable extends React.Component {\n  render() {\n    const tableTitleStyle = {\n      color: '#666666',\n      fontWeight: 400,\n      fontSize: '14px',\n      marginBottom: '0px'\n    };\n\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'padding',\n        width: 2\n      },\n      {\n        title: <div style={tableTitleStyle}>Asset</div>,\n        dataIndex: 'asset',\n        width: 90\n      },\n      {\n        title: <div style={tableTitleStyle}>Name</div>,\n        dataIndex: 'name',\n        width: 120\n      },\n      /*\n      {\n        title: <div style={tableTitleStyle}>Holdings</div>,\n        dataIndex: 'holdings',\n        width: 140\n      },\n      */\n      {\n        title: <div style={tableTitleStyle}>Balance</div>,\n        dataIndex: 'balance',\n        width: 260\n      },\n      {\n        title: <div style={tableTitleStyle}>Available Qty.</div>,\n        dataIndex: 'quality',\n        width: 260\n      }\n    ];\n\n    // Find ETH and LRC\n    var symbol = '';\n    var name = '';\n    var total = 0;\n    var available = 0;\n    var feeRate = 0.0;\n    var percentage = 0;\n\n    const data = [];\n    const { balances } = this.props.balances;\n\n    if (balances) {\n      for (let i = 0; i < balances.length; i++) {\n        const balance = balances[i];\n\n        symbol = balance['tokenId'] === 0 ? 'ETH' : 'LRC';\n        name = balance['tokenId'] === 0 ? 'Ethereum' : 'Loopring';\n        const totalAmount = new BigNumber(balance['totalAmount']);\n        total = totalAmount.dividedBy('1000000000000000000');\n        const frozenAmount = new BigNumber(balance['frozenAmount']);\n        percentage = 1 - frozenAmount.dividedBy(totalAmount).toNumber();\n        percentage = Math.floor(percentage * 100);\n        available = (total.toNumber() * percentage) / 100;\n        feeRate = balance['tokenId'] === 0 ? 178.44 : 0.0346;\n\n        data.push({\n          key: i,\n          asset: (\n            <div\n              style={{\n                paddingRight: '40px',\n                paddingTop: '4px',\n                paddingBottom: '10px'\n              }}\n            >\n              <Row>\n                <div\n                  style={{\n                    color: colors.textMedContrast,\n                    fontWeight: 400,\n                    fontSize: '14px',\n                    marginBottom: '0px'\n                  }}\n                >\n                  {symbol}\n                </div>\n              </Row>\n            </div>\n          ),\n          name: (\n            <div\n              style={{\n                paddingRight: '40px',\n                paddingTop: '4px',\n                paddingBottom: '10px'\n              }}\n            >\n              <Row>\n                <div\n                  style={{\n                    color: colors.textMedContrast,\n                    fontWeight: 400,\n                    fontSize: '14px',\n                    marginBottom: '0px'\n                  }}\n                >\n                  {name}\n                </div>\n              </Row>\n            </div>\n          ),\n          /*\n          holdings: (\n            <div\n              style={{\n                paddingRight: '80px',\n                paddingTop: '4px',\n                paddingBottom: '10px'\n              }}\n            >\n              <Row>\n                <div\n                  style={{\n                    color: colors.textMedContrast,\n                    fontWeight: 400,\n                    fontSize: '14px',\n                    marginBottom: '0px'\n                  }}\n                >\n                  {percentage}%\n                </div>\n              </Row>\n              <Row\n                style={{\n                  height: '8px',\n                  lineHeight: '8px'\n                }}\n              >\n                <Line\n                  strokeLinecap=\"square\"\n                  percent={percentage}\n                  strokeWidth=\"4\"\n                  strokeColor={colors.theme}\n                  trailWidth=\"4\"\n                  trailColor={colors.textLowContrast}\n                />\n              </Row>\n            </div>\n          ),\n          */\n          balance: (\n            <div\n              style={{\n                paddingRight: '40px',\n                paddingTop: '4px',\n                paddingBottom: '10px'\n              }}\n            >\n              <Row>\n                <div\n                  style={{\n                    color: colors.textMedContrast,\n                    fontWeight: 400,\n                    fontSize: '14px',\n                    marginBottom: '0px'\n                  }}\n                >\n                  {total.toString(10)}\n                </div>\n              </Row>\n            </div>\n          ),\n          quality: (\n            <div\n              style={{\n                paddingRight: '40px',\n                paddingTop: '4px',\n                paddingBottom: '10px'\n              }}\n            >\n              <Row>\n                <div\n                  style={{\n                    color: colors.textMedContrast,\n                    fontWeight: 400,\n                    fontSize: '14px',\n                    marginBottom: '0px'\n                  }}\n                >\n                  {available}\n                </div>\n              </Row>\n            </div>\n          )\n        });\n      }\n    }\n\n    return (\n      <div\n        style={{\n          paddingLeft: '0px',\n          height: appLayout.myBalanceTableScreenHeight\n        }}\n      >\n        <Table\n          style={{\n            borderStyle: 'none',\n            borderWidth: '0px'\n          }}\n          columns={columns}\n          dataSource={data}\n          pagination={false}\n          scroll={{ y: appLayout.myBalanceTableScreenHeight }}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { layoutManager, balances } = state;\n  return { layoutManager, balances };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MyBalanceTable);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport colors from 'colors';\n\nimport MyBalanceTable from 'components/my-balances/MyBalanceTable';\nimport './MyBalances.less';\n\nimport { Button, Icon } from 'antd';\nconst ButtonGroup = Button.Group;\n\nclass MyBalancesDetailView extends React.Component {\n  state = {\n    selectedKey: 'balances'\n  };\n\n  render() {\n    const unselectedButtonStyle = {\n      borderTopLeftRadius: '8px',\n      borderTopRightRadius: '8px',\n      borderBottomLeftRadius: '0px',\n      borderBottomRightRadius: '0px',\n      height: '46px',\n      width: '142px',\n      backgroundColor: '#161616',\n      color: colors.textMedContrast,\n      borderWidth: '0px',\n      marginRight: '6px',\n      borderStyle: 'none',\n      fontWeight: '14px',\n      fontSize: '0.9rem'\n    };\n\n    const selectedButtonStyle = {\n      borderTopLeftRadius: '8px',\n      borderTopRightRadius: '8px',\n      borderBottomLeftRadius: '0px',\n      borderBottomRightRadius: '0px',\n      height: '46px',\n      width: '142px',\n      backgroundColor: '#202020',\n      color: colors.textMedContrast,\n      borderWidth: '0px',\n      marginRight: '6px',\n      borderStyle: 'none',\n      fontWeight: '14px',\n      fontSize: '0.9rem'\n    };\n\n    const iconStyle = {\n      fontSize: '14px',\n      color: colors.textLowContrast,\n      verticalAlign: 'middle'\n    };\n\n    return (\n      <div\n        style={{\n          paddingTop: '30px',\n          paddingLeft: '30px',\n          paddingRight: '30px',\n          paddingBottom: '30px'\n        }}\n      >\n        <div\n          style={{\n            paddingLeft: '0px',\n            paddingBottom: '0px'\n          }}\n        >\n          <ButtonGroup\n            style={{\n              borderRadius: '0px'\n            }}\n          >\n            <Button\n              className={\n                this.state.selectedKey === 'balances'\n                  ? 'blance-tab-button-active'\n                  : 'blance-tab-button'\n              }\n              style={\n                this.state.selectedKey === 'balances'\n                  ? selectedButtonStyle\n                  : unselectedButtonStyle\n              }\n              onClick={() => {\n                this.setState({\n                  selectedKey: 'balances'\n                });\n              }}\n            >\n              <Icon type=\"credit-card\" style={iconStyle} />\n              Balances\n            </Button>\n            {/*<Button*/}\n            {/*  className={*/}\n            {/*    this.state.selectedKey === 'deposits'*/}\n            {/*      ? 'blance-tab-button-active'*/}\n            {/*      : 'blance-tab-button'*/}\n            {/*  }*/}\n            {/*  style={*/}\n            {/*    this.state.selectedKey === 'deposits'*/}\n            {/*      ? selectedButtonStyle*/}\n            {/*      : unselectedButtonStyle*/}\n            {/*  }*/}\n            {/*  onClick={() => {*/}\n            {/*    this.setState({*/}\n            {/*      selectedKey: 'deposits'*/}\n            {/*    });*/}\n            {/*  }}*/}\n            {/*>*/}\n            {/*  <Icon type=\"down-circle\" style={iconStyle} />*/}\n            {/*  Deposits*/}\n            {/*</Button>*/}\n            {/*<Button*/}\n            {/*  className={*/}\n            {/*    this.state.selectedKey === 'withdrawals'*/}\n            {/*      ? 'blance-tab-button-active'*/}\n            {/*      : 'blance-tab-button'*/}\n            {/*  }*/}\n            {/*  style={*/}\n            {/*    this.state.selectedKey === 'withdrawals'*/}\n            {/*      ? selectedButtonStyle*/}\n            {/*      : unselectedButtonStyle*/}\n            {/*  }*/}\n            {/*  onClick={() => {*/}\n            {/*    this.setState({*/}\n            {/*      selectedKey: 'withdrawals'*/}\n            {/*    });*/}\n            {/*  }}*/}\n            {/*>*/}\n            {/*  <Icon type=\"up-circle\" style={iconStyle} />*/}\n            {/*  Withdrawals*/}\n            {/*</Button>*/}\n          </ButtonGroup>\n        </div>\n        <MyBalanceTable />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { layoutManager } = state;\n  return { layoutManager };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MyBalancesDetailView);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport colors from 'colors';\nimport appLayout from 'appLayout';\nimport MyBalancesOverview from 'components/my-balances/MyBalancesOverview';\nimport MyBalancesDetailView from 'components/my-balances/MyBalancesDetailView';\n\nimport { Layout } from 'antd';\nconst { Sider, Content } = Layout;\n\nclass MyBalances extends React.Component {\n  render() {\n    return (\n      <div>\n        <div\n          style={{\n            height: appLayout.borderWidth,\n            backgroundColor: colors.border\n          }}\n        />\n        <Layout>\n          <Layout\n            hasSider={true}\n            style={{ height: appLayout.myOrdersScreenHeight }}\n          >\n            <Sider\n              width={appLayout.leftSideWidth}\n              style={{\n                paddingTop: '0px',\n                backgroundColor: colors.parentBackground,\n                borderRightStyle: 'solid',\n                borderRightWidth: appLayout.borderWidth,\n                borderColor: colors.border,\n                height: appLayout.myOrdersScreenHeight\n              }}\n            >\n              <div\n                style={{\n                  display: 'block',\n                  position: 'relative',\n                  height: appLayout.myOrdersScreenHeight\n                }}\n              >\n                <MyBalancesOverview />\n              </div>\n            </Sider>\n            <Content\n              width=\"100%\"\n              style={{\n                paddingTop: '0px',\n                backgroundColor: colors.parentBackground,\n                borderLeftStyle: 'none'\n              }}\n            >\n              <MyBalancesDetailView />\n            </Content>\n          </Layout>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { layoutManager } = state;\n  return { layoutManager };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MyBalances);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport colors from 'colors';\n\nimport MyOrderTable from 'components/my-orders/MyOrderTable';\nimport 'components/my-orders/MyOrders.less';\n\nimport { Button, Icon } from 'antd';\nconst ButtonGroup = Button.Group;\n\nclass ReferralDetailView extends React.Component {\n  state = {\n    selectedKey: 'open'\n  };\n\n  render() {\n    const unselectedButtonStyle = {\n      borderTopLeftRadius: '8px',\n      borderTopRightRadius: '8px',\n      borderBottomLeftRadius: '0px',\n      borderBottomRightRadius: '0px',\n      height: '46px',\n      width: '110px',\n      backgroundColor: '#161616',\n      color: colors.textMedContrast,\n      borderWidth: '0px',\n      marginRight: '6px',\n      borderStyle: 'none',\n      fontWeight: '14px',\n      fontSize: '0.9rem'\n    };\n\n    const selectedButtonStyle = {\n      borderTopLeftRadius: '8px',\n      borderTopRightRadius: '8px',\n      borderBottomLeftRadius: '0px',\n      borderBottomRightRadius: '0px',\n      height: '46px',\n      width: '110px',\n      backgroundColor: '#202020',\n      color: colors.textMedContrast,\n      borderWidth: '0px',\n      marginRight: '6px',\n      borderStyle: 'none',\n      fontWeight: '14px',\n      fontSize: '0.9rem'\n    };\n\n    const iconStyle = {\n      fontSize: '14px',\n      color: colors.textLowContrast,\n      verticalAlign: 'middle'\n    };\n\n    return (\n      <div\n        style={{\n          paddingTop: '30px',\n          paddingLeft: '30px',\n          paddingRight: '30px',\n          paddingBottom: '30px'\n        }}\n      >\n        <div\n          style={{\n            paddingTop: '80px',\n            display: 'table',\n            margin: '0 auto',\n            color: colors.textHighContrast,\n            fontWeight: 700,\n            fontSize: '1.4rem'\n          }}\n        >\n          REFER FRIENDS AND GET LRC\n        </div>\n        <div\n          style={{\n            paddingTop: '20px',\n            display: 'table',\n            margin: '0 auto',\n            color: colors.textMedContrast,\n            textAlign: 'center',\n            width: '40%',\n            maxWidth: '600px'\n          }}\n        >\n          Trading is more fun with with friends. Invite some friends to WEDEX\n          and you will both get LRC when your friend buy or sell at least 0.5\n          ETH worth of tokens on WEDEX.\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { layoutManager } = state;\n  return { layoutManager };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ReferralDetailView);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport colors from 'colors';\nimport appLayout from 'appLayout';\nimport ReferralDetailView from 'components/referral/ReferralDetailView';\n\nimport { Layout } from 'antd';\nconst { Sider, Content } = Layout;\n\nclass Referral extends React.Component {\n  render() {\n    return (\n      <div>\n        <div\n          style={{\n            height: appLayout.borderWidth,\n            backgroundColor: colors.border\n          }}\n        />\n        <Layout>\n          <Layout\n            hasSider={true}\n            style={{ height: appLayout.myOrdersScreenHeight }}\n          >\n            <Content\n              width=\"100%\"\n              style={{\n                paddingTop: '0px',\n                backgroundColor: colors.parentBackground,\n                borderLeftStyle: 'none'\n              }}\n            >\n              <ReferralDetailView />\n            </Content>\n          </Layout>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  const { layoutManager } = state;\n  return { layoutManager };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Referral);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text,\n} from 'rebass'\nimport { Table, Input, Icon } from 'antd';\n\nclass Pair extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: null\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      activeTab: this.props.tabs[0]\n    })\n  }\n\n  async setActive (tab) {\n    await this.props.onChange(tab)\n    this.setState({\n      activeTab: tab\n    })\n  }\n\n  render() {\n    let { tabs, ...restProps } = this.props\n    return (\n      <Flex {...restProps} height={40} alignItems='center' justifyContent='flex-start' >\n        {\n          tabs.map(tab => (\n            <Flex width={80} height={40} alignItems='center' justifyContent='center'\n              sx={{\n                bg: tab === this.state.activeTab ? 'backgroundTint': 'background',\n                cursor: 'pointer'\n              }} onClick={() => this.setActive(tab)}>\n              <Text fontSize={0} fontWeight={'bold'}>{tab.text}</Text>\n            </Flex>\n          ))\n        }\n        { this.props.children }\n      </Flex>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Pair);","import _ from 'lodash'\nimport { channel } from 'redux-saga'\nimport { put, call, all, select, take, fork } from 'redux-saga/effects'\nimport moment from 'moment'\nimport { dispatch } from 'store'\nimport utils from 'utils'\n\nexport function * startup (api, action) {\n  console.log('startup')\n\n  // auth\n  // let needAuth = yield call(checkAuthToken, api)\n\n  // yield call(setHttpAuth, api)\n\n  // if (!needAuth) {\n  //   yield put(StartupActions.setReady(true))\n  // }\n\n  // yield put \n  // yield put({      // dispatchactionreducer payload\n  //   type: actionTypes.GET_AGE_SUCCESS,\n  //   payload: res   \n  // })\n\n  dispatch.markets.fetchMarkets()\n  dispatch.tokens.fetchTokens()\n  dispatch.appState.startup()\n  dispatch.metaMask.connectToMetaMask()\n  dispatch.dexAccount.loadAccount()\n  // \n  utils.setImmediateInterval(async () => {\n    dispatch.dexAccount.checkAccountOvertime()\n  }, 60 * 1000)\n  utils.setImmediateInterval(async () => {\n    dispatch.socket.checkHeartBeat()\n  }, 30 * 1000)\n  dispatch.socket.start()\n}\n\nexport function * process401 (api, action) {\n  console.log('401')\n  let logined = yield select((state) => state.auth.logined)\n  yield put(replace(logined ? '/UnauthScreen' : '/LoginScreen'))\n}\n","import axios from 'axios';\nimport { notification } from 'antd';\nimport appConfig from 'config/appConfig'\n\nlet walletAddr = null\nlet srvApi = axios.create({\n  // timeout: 10000,\n  baseURL: appConfig.wedex.serverUrl,\n})\n\n// srvApi.interceptors.request.use(function (config) {\n//   config.headers.common['x-user-wallet-addr'] = walletAddr\n//   return config\n// })\n\nfunction setWalletAddr (addr) {\n  walletAddr = addr\n}\n\nfunction getUserBillEggPrizeList (params) {\n  let {address, ...restParams} = params\n  const headers = {\n    'x-user-wallet-addr': address\n  };\n  return srvApi.get(`user/billEggPrizes`, {\n    params: restParams,\n    headers\n  })\n}\n\nfunction postUserReadBillEggPrizeList (params) {\n  let {address, ...restParams} = params\n  const headers = {\n    'x-user-wallet-addr': address\n  };\n  return srvApi.post(`user/billEggPrize/batchRead`, restParams, {\n    headers\n  })\n}\n\nexport default {\n  setWalletAddr,\n  getUserBillEggPrizeList,\n  postUserReadBillEggPrizeList\n}","import { notification } from 'antd';\nimport axios from 'axios';\nimport wedexApi from './wedexApi'\n\nimport { config } from 'librarys/lightcone_v3';\nimport appConfig from 'config/appConfig'\nimport utils from 'utils';\nlet { serverUrl } = appConfig.relay\n\nfunction withoutThrow(func) {\n  return async (...params) => {\n    try {\n      return await func(...params)\n    } catch (error) {\n      // debugger\n      notification['error']({\n        style: {\n          backgroundColor: 'white'\n        },\n        message: String(error),\n        duration: 10\n      })\n      return null\n    }\n  }\n}\n\nexport function _parseResponse(response) {\n  const data = response['data'];\n  const resultInfo = data['resultInfo'];\n  const errorData = data['error'];\n\n  // Some API endpoints in the old versions don't have resultInfo.\n  if (resultInfo) {\n    const code = resultInfo['code'];\n    if (code !== 0) {\n      const errorMessage = resultInfo['message'];\n      throw Error(errorMessage);\n    }\n    return data;\n  } else if (errorData) {\n    const code = errorData['code'];\n    if (code !== 0) {\n      const errorMessage = `${errorData['code']} ${errorData['message']}`;\n      throw Error(errorMessage);\n    }\n    return data;\n  } else {\n    return data;\n  }\n}\n\nexport function parseResponse(response) {\n  try {\n    return _parseResponse(response)\n  } catch (err) {\n    // debugger\n    notification['error']({\n      style: {\n        backgroundColor: 'white'\n      },\n      // message: 'Your deposit request failed. Please try again!',\n      description: String(err),\n      duration: 10\n    });\n  }\n}\n\nlet relayApi = axios.create({\n  // timeout: 10000,\n  baseURL: serverUrl,\n})\n\nasync function getTokenBalance(owner, symbol) {\n  let token = config.getTokenBySymbol(symbol);\n  let tokenAddress = token.address;\n  const data = {\n    owner,\n    token: tokenAddress\n  };\n\n  try {\n    const response = await relayApi.post('/tokenBalances', data);\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['balances'];\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (e) {\n    return false;\n  }\n}\n\nasync function getEthBalance(address) {\n  const data = {\n    address\n  };\n\n  try {\n    const response = await relayApi.post('/ethBalances', data);\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['balances'];\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (e) {\n    return false;\n  }\n}\n\nasync function lightconeGetAccount(address) {\n  const data = {\n    address\n  };\n  try {\n    const response = await relayApi.post('/account', data);\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData.account;\n    } else if (responseData['error'].code === 101002) {\n      return null;\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (e) {\n    if (e.response.status === 404) {\n      return null\n    }\n    throw new Error(e);\n  }\n}\n\nasync function getTrade(market, limit) {\n  const data = {\n    market,\n    limit\n  };\n  try {\n    const response = await relayApi.post('/trade', data);\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['trades'];\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function getDepth(market, level, limit) {\n  const data = {\n    market,\n    level,\n    limit\n  };\n  const tokens = market.split('-');\n  const baseToken = tokens[0];\n\n  try {\n    const response = await relayApi.post('/depth', data);\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      const depth = responseData['depth'];\n      const bids = depth['bids'];\n      var updatedBids = [];\n      for (var i = 0; i < bids.length; i = i + 1) {\n        const bid = bids[i];\n        var updatedBid = {\n          price: bid.price,\n          size: bid.size,\n          volume: bid.volume,\n          count: bid.count,\n          sizeInNumber: config.fromWEI(baseToken, bid.size, 4)\n        };\n        updatedBids.push(updatedBid);\n      }\n\n      const asks = depth['asks'];\n      var updatedAsks = [];\n      for (var i = 0; i < asks.length; i = i + 1) {\n        const ask = asks[i];\n        var updatedAsk = {\n          price: ask.price,\n          size: ask.size,\n          volume: ask.volume,\n          count: ask.count,\n          sizeInNumber: config.fromWEI(baseToken, ask.size, 4)\n        };\n        updatedAsks.push(updatedAsk);\n      }\n\n      return {\n        bids: updatedBids,\n        asks: updatedAsks\n      };\n    } else {\n      return {\n        bids: [],\n        asks: []\n      };\n    }\n  } catch (error) {\n    return {\n      bids: [],\n      asks: []\n    };\n  }\n}\n\nasync function getOrders({accountId, offset, limit, market, apiKey, statuses, side, start, end}) {\n  const headers = {\n    'X-API-KEY': apiKey\n  };\n  const data = {\n    accountId,\n    offset,\n    limit,\n    statuses,\n    side,\n    start,\n    end\n  };\n  if (typeof market !== 'undefined') {\n    data.market = market;\n  }\n\n  try {\n    const response = await relayApi.post('/orders', data, {\n      headers: headers,\n    });\n\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      const orders = responseData['orders'];\n      let updatedOrders = utils.formatOrders(orders)\n      return {\n        totalNum: responseData.totalNum,\n        orders: updatedOrders\n      }\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function cancelOrders(\n  accountId,\n  orderHash,\n  clientOrderId,\n  signed,\n  apiKey\n) {\n  try {\n    const data = {\n      accountId: accountId,\n      orderHash: orderHash,\n      clientOrderId: clientOrderId\n    };\n    const signature = signed.Rx + ',' + signed.Ry + ',' + signed.s;\n    const headers = {\n      'X-API-KEY': apiKey,\n      'X-API-SIG': signature\n    };\n    const response = await relayApi.post('/deleteOrders', data, {\n      headers: headers,\n    });\n\n    return parseResponse(response);\n  } catch (e) {\n    throw e;\n  }\n}\n\nasync function getCandlestick(data) {\n  try {\n    const response = await relayApi.post('/candlestick', data)\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['candles'];\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (error) {\n    // throw error;\n    return []\n  }\n}\n\nasync function getBalances(accountId, apiKey, skip, limit) {\n  try {\n    const data = {\n      accountId,\n      skip,\n      limit\n    };\n    const headers = {\n      'X-API-KEY': apiKey\n    };\n    const response = await relayApi.post('/user/balances', data, {\n      headers: headers,\n    });\n\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['balances'];\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function sendWithdrawTransaction(signedEthereumTx) {\n  const data = {\n    data: signedEthereumTx\n  };\n  try {\n    const response = await relayApi.post('/onchainWithdrawal', data);\n    return parseResponse(response);\n  } catch (e) {\n    throw e;\n  }\n}\n\nasync function getApiKey(data, signed) {\n  try {\n    const signature = signed.Rx + ',' + signed.Ry + ',' + signed.s;\n    const headers = {\n      'X-API-SIG': signature\n    };\n    const response = await relayApi.post('/getApiKey', data, {\n      headers: headers\n    })\n    return parseResponse(response);\n  } catch (e) {\n    throw e;\n  }\n}\n\nasync function getTickers(params) {\n  let { apiKey, ...data } = params\n  const headers = {\n    'X-API-KEY': apiKey\n  };\n  try {\n    const response = await relayApi.post('/ticker', data, {\n      headers: headers\n    })\n\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['tickers'];\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function getPrice(params) {\n  let { apiKey, ...data } = params\n  const headers = {\n    'X-API-KEY': apiKey\n  };\n  try {\n    const response = await relayApi.post('/price', data, {\n      headers: headers\n    });\n\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['tickers'];\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (error) {\n    return []\n  }\n}\n\nasync function getTransactions(params) {\n  let { apiKey, ...data } = params\n  const headers = {\n    'X-API-KEY': apiKey\n  };\n  try {\n    const response = await relayApi.post('/user/deposits', data, {\n      headers: headers\n    });\n\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['transactions'];\n    } else {\n      // throw new Error(responseData['error']['message']);\n      return null\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function getNonce(address) {\n  const data = {\n    address\n  };\n  try {\n    const response = await relayApi.post('/ethNonce', data)\n    if (response['data']['nonce'] !== undefined) {\n      return response['data']['nonce'];\n    } else {\n      throw new Error('Failed to get nonce');\n    }\n  } catch (e) {\n    throw e;\n  }\n}\n\nasync function sendApprove(signedEthereumTx) {\n  return sendDeposit(signedEthereumTx);\n}\n\nasync function sendDeposit(signedEthereumTx) {\n  const data = {\n    data: signedEthereumTx\n  };\n  try {\n    const response = await relayApi.post('/deposit', data)\n    return parseResponse(response);\n  } catch (e) {\n    throw e;\n  }\n}\n\nasync function getOrderId(accountId, tokenSId, apiKey) {\n  const data = {\n    accountId: accountId,\n    tokenSId: tokenSId\n  };\n  const headers = {\n    'X-API-KEY': apiKey\n  };\n  try {\n    const response = await relayApi.post('/orderId', data, {\n      headers: headers\n    })\n\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return response['data']['orderId'];\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (e) {\n    throw e;\n  }\n}\n\nasync function submitOrderToLightcone(data, apiKey) {\n  try {\n    const headers = {\n      'X-API-KEY': apiKey\n    };\n    const response = await relayApi.post('/order', data, {\n      headers: headers\n    })\n    return parseResponse(response);\n  } catch (e) {\n    throw e;\n  }\n}\n\nasync function getRecommendedGasPrice() {\n  try {\n    const data = {};\n    const response = await relayApi.post('/recommendedGasPrice', data)\n\n    const responseData = response['data'];\n    if (responseData['error'] === undefined) {\n      return responseData['price'] * appConfig.ratioRecommendedGasPrice;\n    } else {\n      throw new Error(responseData['error']['message']);\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function getAllowance(owner, symbol) {\n  let token = config.getTokenBySymbol(symbol);\n  let tokenAddress = token.address;\n  const data = {\n    owner,\n    token: tokenAddress\n  };\n\n  const response = await relayApi.post('/allowances', data)\n  return response['data']['allowances'];\n}\n\nexport default {\n  getBalances: withoutThrow(getBalances),\n  getOrders: withoutThrow(getOrders),\n  cancelOrders: withoutThrow(cancelOrders),\n  getEthBalance: withoutThrow(getEthBalance),\n  getTokenBalance: withoutThrow(getTokenBalance),\n  sendWithdrawTransaction: withoutThrow(sendWithdrawTransaction),\n  getTrade: withoutThrow(getTrade),\n  lightconeGetAccount: withoutThrow(lightconeGetAccount),\n  getDepth: withoutThrow(getDepth),\n  getCandlestick: withoutThrow(getCandlestick),\n  getApiKey: withoutThrow(getApiKey),\n  getTickers: withoutThrow(getTickers),\n  getPrice: withoutThrow(getPrice),\n  getTransactions: withoutThrow(getTransactions),\n  getNonce: withoutThrow(getNonce),\n  sendApprove: withoutThrow(sendApprove),\n  sendDeposit: withoutThrow(sendDeposit),\n  getOrderId: withoutThrow(getOrderId),\n  submitOrderToLightcone: withoutThrow(submitOrderToLightcone),\n  getRecommendedGasPrice: withoutThrow(getRecommendedGasPrice),\n  getAllowance: withoutThrow(getAllowance),\n  ...wedexApi\n}","/**\n * Created by zuozhuo on 2016/12/8.\n */\n'use strict'\n\nimport _ from 'lodash'\n\nclass XEnumItem {\n  constructor (value, text, meta = {}) {\n    this.value = value\n    this.text = text\n    this.meta = meta\n  }\n\n  getValue () {\n    return this.value\n  }\n\n  getText () {\n    return this.text\n  }\n\n  equals (value) {\n    if (value instanceof XEnumItem) {\n      value = value.getValue()\n    }\n    return this.value === value\n  }\n}\nclass XEnum {\n  constructor (enumDict) {\n    this.enumItems = Object.values(enumDict)\n    Object.keys(enumDict).forEach(key => {\n      this[key] = enumDict[key]\n    })\n  }\n\n  findItem (itemValue) {\n    if (itemValue instanceof XEnumItem) {\n      itemValue = itemValue.getValue()\n    }\n    return this.enumItems.find(e => e.getValue() === itemValue)\n  }\n\n  toText (value) {\n    let item = _.find(this.enumItems, ['value', value])\n    return item === undefined ? null : item.getText()\n  }\n\n  parseValueByText (text) {\n    let exist = _.find(this.enumItems, ele => {\n      return ele.getText() === text\n    })\n    if (exist === undefined) {\n      return null\n    } else {\n      return exist.getValue()\n    }\n  }\n\n  getOptions (excludeIndex) {\n    if (!this.options) {\n      return this.enumItems\n        .filter(e => excludeIndex !== e.getValue())\n        .map(e => {\n          return {\n            value: e.getValue(),\n            label: e.getText()\n          }\n        })\n    } else {\n      return []\n    }\n  }\n\n  getSpecOptions (specKey = []) {\n    if (!this.options) {\n      return this.enumItems\n        .filter(e => specKey.includes(e.getValue()))\n        .map(e => {\n          return {\n            value: e.getValue(),\n            label: e.getText()\n          }\n        })\n    } else {\n      return []\n    }\n  }\n}\n\nconst ENUM_ACCOUNT_STATUS = new XEnum({\n  UNSIGNED: new XEnumItem(0, ''),\n  UNCREATED: new XEnumItem(1, ''),\n  CREATED: new XEnumItem(2, ''),\n  LOGGED_IN: new XEnumItem(3, ''),\n  CREATING: new XEnumItem(4, ''),\n  LOCKED: new XEnumItem(5, ''),\n})\n\nconst ENUM_ORDER_STATUS = new XEnum({\n  PROCESSING: new XEnumItem('processing', ''),\n  PROCESSED: new XEnumItem('processed', ''),\n  CANCELLING: new XEnumItem('cancelling', ''),\n  CANCELLED: new XEnumItem('cancelled', ''),\n  EXPIRED: new XEnumItem('expired', ''),\n  // WAITING: new XEnumItem('waiting', ''),\n})\n\nconst ENUM_TX_STATUS = new XEnum({\n  RECEIVED: new XEnumItem('received', ''),\n  PROCESSING: new XEnumItem('processing', ''),\n  PROCESSED: new XEnumItem('processed', ''),\n  FAILED: new XEnumItem('failed', ''),\n})\n\nconst ENUM_INTERVAL_TYPE = new XEnum({\n  MIN_1: new XEnumItem(1, '1min'),\n  MIN_5: new XEnumItem(5, '5min'),\n  MIN_15: new XEnumItem(15, '15min'),\n  MIN_30: new XEnumItem(30, '30min'),\n  HOUR_1: new XEnumItem(60, '1hr'),\n  HOUR_2: new XEnumItem(2 * 60, '2hr'),\n  HOUR_4: new XEnumItem(4 * 60, '4hr'),\n  HOUR_12: new XEnumItem(12 * 60, '12hr'),\n  DAY_1: new XEnumItem(24 * 60, '1d'),\n  WEEK_1: new XEnumItem(7 * 24 * 60, '1w'),\n})\n\nexport {\n  ENUM_ACCOUNT_STATUS,\n  ENUM_ORDER_STATUS,\n  ENUM_TX_STATUS,\n  ENUM_INTERVAL_TYPE\n}\n\n","import _ from 'lodash'\nimport { takeLatest, takeEvery, all, call, put, select } from 'redux-saga/effects'\nimport { startup } from './StartupSagas'\nimport api from 'api'\nimport { push, replace } from 'connected-react-router'\nimport utils from 'utils'\nimport { ENUM_ACCOUNT_STATUS } from 'utils/enum'\nimport { notification } from 'antd';\n\n/* ------------- Types ------------- */\n\n/* ------------- Sagas ------------- */\n\n/* ------------- Connect Types To Sagas ------------- */\n\n\n// sagasaga\nfunction safeWrap (func) {\n  if (!func) {\n    return () => {}\n  }\n\n  return function * (...args) {\n    // console.tron.log({safeWrap: 'safeWrap', args})\n    try {\n      yield call(func, ...args)\n    } catch (err) {\n      console.info('saga err!!!', err)\n      // console.tron.log(err)\n    }\n  }\n}\n\nfunction * onLocationChange (api, {payload}) {\n  let pathname = payload && payload.location && payload.location.pathname\n\n  if (_.includes(pathname, 'mine')) {\n    let status = yield select((state) => state.dexAccount.state)\n    if (status !== ENUM_ACCOUNT_STATUS.LOGGED_IN.getValue()) {\n      // waitForput(push('/'))\n      // \n      //  router appstate.loadingapp.js store/index.js history \n      // \n\n      yield call(utils.waitFor, 200)\n      console.info(`, ${ENUM_ACCOUNT_STATUS.toText(status)}`, )\n      notification.success({ message: '' })\n      yield put(push('/'))\n    }\n  }\n}\n\nexport default function * root () {\n  yield all([   \n    takeLatest('@@router/LOCATION_CHANGE', safeWrap(onLocationChange), api),\n    takeLatest('persist/REHYDRATE', safeWrap(startup), api)\n  ])\n}\n","import moment from 'moment'\nexport default {\n  state: {\n    ready: false,\n    loading: false,\n    awardInfo: {\n      visible: false,\n      id: null,\n      title: '',\n      amount: 500,\n      unit: 'LRC',\n      createdAt: undefined\n    }\n  },\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n    startup: (state) => {\n      return { \n        ...state, \n        ready: true \n      }\n    },\n    showEggAward: (state, payload) => {\n      return { \n        ...state, \n        awardInfo: {\n          visible: true,\n          ...payload\n        }\n      }\n    },\n    closeAward: (state) => {\n      let {awardInfo} = state\n      awardInfo.visible = false\n      return { \n        ...state, \n        awardInfo\n      }\n    }\n  }\n}","import { ethereum, config } from 'librarys/lightcone_v3';\nimport { notification } from 'antd';\nvar detect = require('detect-browser').detect;\n\nconst initState = {\n  startConnecting: false,\n  isDesiredBrowser: false,\n  isDesiredNetwork: false,\n  installed: false,\n  enable: false,\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    updateMetaMask: (state, payload) => ({ ...state, ...payload }),\n  },\n  effects: dispatch => ({\n    async connectToMetaMask (payload, { metaMask, dexAccount }) {\n      this.updateMetaMask({ startConnecting: true })\n\n      const browser = detect()\n      let valid = _.includes(['firefox', 'chrome', '360'], browser.name)\n      this.updateMetaMask({ isDesiredBrowser: valid })\n\n      if (typeof window.ethereum === 'undefined' || !window.ethereum.isMetaMask) {\n        this.updateMetaMask({ installed: false })\n        return\n      }\n      this.updateMetaMask({ installed: true })\n\n      window.ethereum.autoRefreshOnNetworkChange = false;\n      // window.ethereum.networkVersion 1s\n      setTimeout(() => {\n        const desireNetwork = config.getChainId();\n        this.updateMetaMask({\n          isDesiredNetwork:\n            desireNetwork === Number(window.ethereum.networkVersion)\n        })\n      }, 1000)\n\n      //  window.wallet  window.ethereum.enable\n      let { address } = dexAccount\n      if (address) {\n        window.wallet = ethereum.account.fromMetaMask(window.web3, address, address)\n      }\n\n      window.ethereum.on('networkChanged', networkVersion => {\n        console.info('### networkChanged')\n        const desireNetwork = config.getChainId();\n        this.updateMetaMask({\n          isDesiredNetwork: desireNetwork === Number(networkVersion)\n        });\n      });\n      window.ethereum.on('accountsChanged', accounts => {\n        console.info('### accountsChanged')\n        let address = accounts[0]\n        window.wallet = ethereum.account.fromMetaMask(window.web3, address, address)\n        dispatch.dexAccount.switchAccount(address);\n        dispatch.dexAccount.getAccount(address)\n      })\n      this.updateMetaMask({ startConnecting: false })\n    },\n    // \n    async initAccountFromMetaMask (payload, { metaMask }) {\n      if (metaMask.enable) return\n\n      console.log(' metamask');\n      const accounts = await window.ethereum.enable();\n      // caohontao: web3 reducer 6 \n      // this.props.fetchAccounts();\n      let address = accounts[0]\n      console.log(`metamask : ${address}`);\n      window.wallet = ethereum.account.fromMetaMask(window.web3, address, address)\n\n      // dexAccount\n      await dispatch.dexAccount.getAccount(address);\n\n      this.updateMetaMask({ enable: true })\n    }\n  })\n}","import moment from 'moment'\nimport { ENUM_ACCOUNT_STATUS } from 'utils/enum'\nimport api from 'api'\nimport utils from 'utils'\nimport { notification } from 'antd';\n\nconst initState = {\n  address: '',\n  accountId: '',\n  passwordHash: '',\n  // \n  apiKey: '',\n  state: ENUM_ACCOUNT_STATUS.UNSIGNED.getValue(),\n  rememberMeStartTime: null,\n  rememberMeMinutes: null,\n  canceledOrders: [],\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    // \n    // TODO:  creating \n    switchAccount: (state, address) => {\n      if (state.address === address) {\n        return state\n      } else {\n        return {\n          ...initState,\n          address\n        }\n      }\n    },\n    clearAccountInfo ({ address }, payload) {\n      return {\n        ...initState,\n        address\n      }\n    },\n    updateAccount: (state, payload) => {\n      return {\n        ...state,\n        ...payload\n      }\n    },\n    checkAccountOvertime (state, payload) {\n      let { rememberMeStartTime, rememberMeMinutes } = state\n      if (rememberMeStartTime && rememberMeMinutes) {\n        let validUntil = moment(rememberMeStartTime).add(rememberMeMinutes, 'minutes')\n        if (moment().isAfter(validUntil)) {\n          notification['success']({\n            duration: 0,\n            message: '',\n            description: ''\n          });\n          return {\n            ...initState,\n            address: state.address,\n            accountId: state.accountId,\n          }\n        }\n      }\n      return state\n    }\n  },\n  effects: dispatch => ({\n    //  account \n    async getAccount (address, rootState) {\n      this.updateAccount({ address })\n\n      const relayAccount = await api.lightconeGetAccount(address);\n      if (!relayAccount) {\n        this.updateAccount({ state: ENUM_ACCOUNT_STATUS.UNCREATED.getValue()})\n        return\n      } else if (relayAccount.isFreeze) {\n        this.updateAccount({ state: ENUM_ACCOUNT_STATUS.LOCKED.getValue() })\n      }\n      // else {\n      //   this.updateAccount({ state: ENUM_ACCOUNT_STATUS.UNSIGNED.getValue() })\n      // }\n\n      this.updateAccount({\n        accountId: relayAccount.accountId,\n      })\n      dispatch.balance.startFetchBalance()\n    },\n    async loadAccount (address, { dexAccount }) {\n      // \n      if (!dexAccount.address) return\n\n      //  metamask\n      // \n      //  metamask \n\n      // // \n      // if (dexAccount.address !== address) {\n      //   this.switchAccount(address)\n      // }\n\n      // \n      if (dexAccount.state === ENUM_ACCOUNT_STATUS.CREATING.getValue()) {\n        dispatch.dexAccount.checkAccountCreated()\n      } else {\n        // account \n        // :  else  creating  uncreated \n        await dispatch.dexAccount.getAccount(dexAccount.address)\n      }\n    },\n    async checkAccountCreated (payload, { dexAccount }) {\n      let interval = setInterval(async () => {\n        try {\n          const relayAccount = await api.lightconeGetAccount(window.wallet.account)\n          if (!relayAccount) return\n          this.updateAccount({ accountId: relayAccount.accountId })\n\n          let valid = utils.checkPassword(dexAccount.passwordHash, relayAccount)\n          if (!valid) {\n            this.updateAccount({\n              state: ENUM_ACCOUNT_STATUS.CREATED.getValue()\n            })\n            //  return\n            // return\n          }\n          // account apiKey\n          //  upsert \n          let apiKey = await utils.genApiKey(relayAccount.accountId, dexAccount.passwordHash)\n          this.updateAccount({\n            apiKey,\n            state: ENUM_ACCOUNT_STATUS.LOGGED_IN.getValue()\n          })\n          dispatch.balance.startFetchBalance()\n          notification['success']({\n            duration: 5,\n            message: ''\n          });\n\n          clearInterval(interval)\n        } catch (e) {}\n      }, 5000);\n    }\n  })\n}","import _ from 'lodash'\nimport api from 'api';\nimport { config } from 'librarys/lightcone_v3';\n\nconst initDeepthState = {\n  level: 0,\n  asks: [],\n  bids: [],\n  incrementalVersion: null\n}\n\nfunction scrollSellTableToBottom () {\n  let tableDom = document.getElementsByClassName('sell-table')[0]\n  if (!tableDom) return\n  let tableBodyDom = tableDom.getElementsByClassName('ant-table-body')[0]\n  if (!tableBodyDom) return\n  tableBodyDom.scrollTop = tableBodyDom.scrollHeight\n}\n\nfunction formatFromWEI (resp, currentMarket, level) {\n  let { asks, bids } = resp\n  let { baseToken: baseSymbol, quoteToken: quoteSymbol, pricePrecision, amountPrecision, totalPrecision } = currentMarket\n\n  asks = asks.map(ask => ({\n    ...ask,\n    type: 'ask',\n    price: Number(ask.price).toFixed(pricePrecision - level),\n    size: config.fromWEI(baseSymbol, ask.size, amountPrecision),\n    volume: config.fromWEI(quoteSymbol, ask.volume, totalPrecision)\n  }))\n  bids = bids.map(bid => ({\n    ...bid,\n    type: 'bid',\n    price: Number(bid.price).toFixed(pricePrecision - level),\n    size: config.fromWEI(baseSymbol, bid.size, amountPrecision),\n    volume: config.fromWEI(quoteSymbol, bid.volume, totalPrecision)\n  }))\n\n  return { asks, bids }\n}\n\nexport default {\n  state: initDeepthState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload })\n  },\n  effects: dispatch => ({\n    async fetchDepth (payload, { markets, depth }) {\n      if (!markets.currentMarket) return\n\n      let { market: marketPair } = markets.currentMarket\n      if (!marketPair) return\n\n      const resp = await api.getDepth(marketPair, depth.level, 50)\n      let { asks, bids } = formatFromWEI(resp, markets.currentMarket, depth.level)\n\n      this.update({\n        asks: _.orderBy(asks, ['price'], ['desc']),\n        bids: _.orderBy(bids, ['price'], ['desc']),\n        incrementalVersion: null\n      })\n      \n      //  depth \n      dispatch.socket.subscribe([ `depth&${marketPair}&${depth.level}` ])\n\n      scrollSellTableToBottom()\n    },\n    async setLevel (level) {\n      this.update({level})\n      dispatch.depth.fetchDepth()\n    },\n    async scrollSellTable () {\n      scrollSellTableToBottom()\n    },\n    async incrementalUpdate (payload, { depth: depthState, markets }) {\n      let { market: marketPair } = markets.currentMarket\n      if (!marketPair) return\n\n      let { startVersion, endVersion, data } = payload\n      let { incrementalVersion, asks, bids, level } = depthState\n\n      if (incrementalVersion) {\n        // 2510, 2510 ---> 2511, 2511\n        let expectVersion = incrementalVersion + 1\n        if (startVersion < expectVersion) {\n          return\n        }\n        \n        if (startVersion > expectVersion) {\n          // \n          dispatch.depth.fetchDepth()\n          return\n        }\n      }\n      \n      // \n      let newData = formatFromWEI(data, markets.currentMarket, level)\n      asks = _.chain([...newData.asks, ...asks]).unionBy(a => a.price).reject(a => Number(a.size) === 0).orderBy(['price'], ['desc']).value()\n      bids = _.chain([...newData.bids, ...bids]).unionBy(a => a.price).reject(a => Number(a.size) === 0).orderBy(['price'], ['desc']).value()\n\n      this.update({\n        asks,\n        bids,\n        incrementalVersion: endVersion\n      })\n    },\n  })\n}","import _ from 'lodash'\nimport numeral from 'numeral'\nimport { config } from 'librarys/lightcone_v3'\nimport api from 'api'\n\nconst initState = {\n  list: [],\n  latestPrice: 0,\n  lastPrice: 0,\n  variation: 0,\n  page: 1,\n  pageSize: 10\n}\n\nfunction formatFromWEI (trades, currentMarket) {\n  let { baseToken: baseSymbol, quoteToken: quoteSymbol, pricePrecision, amountPrecision, totalPrecision } = currentMarket\n\n  trades = trades.map(trade => {\n    trade.side = _.toUpper(trade.side)\n    trade.timestamp = Number(trade.timestamp)\n    trade.price = Number(trade.price).toFixed(pricePrecision)\n    trade.size = config.fromWEI(baseSymbol, Number(trade.size), amountPrecision)\n    return trade\n  })\n\n  return trades\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n    updateVariation: (state, latestPrice) => {\n      let lastPrice = state.latestPrice\n      let variation = 0\n      if (lastPrice && latestPrice) {\n        variation = (latestPrice - lastPrice) / lastPrice\n      }\n      return {\n        ...state,\n        lastPrice,\n        latestPrice,\n        variation\n      }\n    }\n  },\n  effects: dispatch => ({\n    async fetchTrade (payload, { markets, trade: tradeStore }) {\n      if (!markets.currentMarket) return\n      let { market: marketPair } = markets.currentMarket\n\n      //  trade \n      dispatch.socket.subscribe([ `trade&${marketPair}` ])\n\n      this.update({\n        list: [],\n      })\n\n      var trades = await api.getTrade(marketPair, 50);\n      if (!trades || trades.length === 0) return\n      trades = formatFromWEI(trades, markets.currentMarket)\n\n      this.update({\n        list: trades,\n      })\n      this.updateVariation(trades[0].price)\n    },\n    async incrementalUpdate (trades, { trade: tradeState, markets }) {\n      let { market: marketPair } = markets.currentMarket\n      if (!marketPair) return\n\n      trades = formatFromWEI(trades, markets.currentMarket)\n\n      let { list } = tradeState\n      list = list.concat(trades)\n\n      // TODO  tradeid \n      // \n      let modified = _.orderBy(list, ['timestamp'], ['desc'])\n      this.update({\n        list: modified,\n      })\n      this.updateVariation(modified[0].price)\n    },\n  })\n}","import _ from 'lodash'\nimport { config } from 'librarys/lightcone_v3'\nimport { ENUM_INTERVAL_TYPE } from 'utils/enum'\nimport api from 'api'\n\nconst initState = {\n  dayInfo: {\n    \"high\": 0,\n    \"low\": 0,\n    \"size\": 0,\n    \"volume\": 0\n  },\n  tvSubscribers: []\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload })\n  },\n  effects: dispatch => ({\n    async fetchDayInfo (payload, { markets, candleStick }) {\n      if (!markets.currentMarket) return\n\n      var candles = await api.getCandlestick({\n        market: markets.currentMarket.market,\n        interval: '1d',\n      })\n      if (!candles || candles.length === 0) return\n\n      let dayInfo = _.pick(candles[0], ['high', 'low', 'size', 'volume'])\n      let { baseToken: baseSymbol } = markets.currentMarket\n      let baseToken = config.getTokenBySymbol(baseSymbol)\n      dayInfo.size = config.fromWEI(baseToken.symbol, dayInfo.size, baseToken.precision)\n\n      this.update({\n        dayInfo: dayInfo,\n      })\n    },\n    async subscribeBars (payload, { candleStick: {tvSubscribers} }) {\n      let {subscribeUID, onRealtimeCallback, resolution, symbolInfo} = payload\n\n      let market = symbolInfo['name'];\n      resolution = ENUM_INTERVAL_TYPE.toText(Number(resolution))\n      let topic = `candlestick&${market}&${resolution}`\n\n      let newSub = {\n        lastBar: null,\n        subscribeUID,\n        topic,\n        realtimeCb: onRealtimeCallback,\n        resolution: resolution,\n        symbolInfo: symbolInfo\n      }\n      tvSubscribers = _.unionBy(tvSubscribers, [newSub], subscribeUID)\n      this.update({tvSubscribers})\n\n      dispatch.socket.subscribe([ topic ])\n    },\n    async unsubscribeBars (subscriberUID, { candleStick: {tvSubscribers} }) {\n      tvSubscribers = _.reject(tvSubscribers, sub => sub.subscriberUID = subscriberUID)\n      this.update({tvSubscribers})\n    },\n    async incrementalUpdate(payload, { candleStick: {tvSubscribers} }) {\n      let { topic, data } = payload\n      let subscriber = tvSubscribers.find(sub => _.toUpper(sub.topic) === _.toUpper(topic))\n      if (!subscriber) return\n\n      // let lastBar = sub.lastBar\n\n      let quoteSymbol = subscriber.symbolInfo.name.split('-')[1]\n      let quoteToken = config.getTokenBySymbol(quoteSymbol)\n\n      let newCancle = {\n        time: data.start,\n        high: Number(data['high']),\n        low: Number(data['low']),\n        open: Number(data['open']),\n        close: Number(data['close']),\n        volume: config.fromWEI(quoteToken.symbol, data['volume'], quoteToken.precision)\n      }\n      console.info('', newCancle)\n      subscriber.realtimeCb(newCancle)\n      // sub.lastBar = lastBar\n    }\n  })\n}","import _ from 'lodash'\nimport api from 'api'\nimport { config } from 'librarys/lightcone_v3';\nimport { notification } from 'antd';\n\nconst initState = {\n  markets: [],\n  stars: [],\n  tabs: [],\n  currentTab: null,\n  currentMarkets: [],\n  currentMarket: null,\n  cond: {\n    sort: 'market',\n    sortDirection: 'asc'\n  }\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n    updateFilterCond: (state, payload) => {\n      let {cond, currentMarkets} = state\n      cond = { ...cond, ...payload }\n      currentMarkets = _.orderBy(currentMarkets, [cond.sort], [cond.sortDirection])\n      return {\n        ...state,\n        cond,\n        currentMarkets\n      }\n    },\n    updateMarketsTicker: (state, tickers) => {\n      let formatTicker = ticker => {\n        let { bid, ask, open } = ticker\n        let latest = (Number(bid) + Number(ask)) / 2\n        open = Number(open)\n        let variation = open ? (latest - open) / open : 0\n        return { latest, variation }\n      }\n\n      let { currentMarkets, currentMarket, cond } = state\n      // \n      // \n      currentMarkets = currentMarkets.map(item => {\n        let ticker = _.find(tickers, {market: item.market})\n        if (!ticker) {\n          return item\n        }\n\n        let { latest, variation } = formatTicker(ticker)\n        let { pricePrecision } = item\n        item.latest = latest.toFixed(pricePrecision)\n        item.variation = variation\n        return item\n      })\n      currentMarkets = _.orderBy(currentMarkets, [cond.sort], [cond.sortDirection])\n\n      // \n      if (currentMarket) {\n        let currentMatched = _.find(tickers, {market: currentMarket.market})\n        // current \n        if (currentMatched) {\n          let { latest, variation } = formatTicker(currentMatched)\n          let { pricePrecision } = currentMarket\n          currentMarket.latest = latest.toFixed(pricePrecision)\n          currentMarket.variation = variation\n        }\n      }\n\n      return {\n        ...state,\n        currentMarkets,\n        currentMarket,\n      }\n    }\n  },\n  effects: dispatch => ({\n    async fetchMarkets (payload, rootState) {\n      //  'LRC-ETH'\n      let markets = await config.getMarkets()\n      if (!markets) return\n\n      let quoteTokens = _.chain(markets).map(market => market.quoteToken).uniq().value()\n      let defaultTab = quoteTokens[0]\n      let tabs = ['', ...quoteTokens]\n\n      this.update({\n        markets,\n        tabs,\n      })\n\n      //  tab\n      dispatch.markets.setCurrentTab(defaultTab)\n\n      // \n      let currentMarkets = _.filter(markets, {quoteToken: defaultTab})\n      let currentMarket = currentMarkets[0]\n      if (currentMarket) {\n        dispatch.markets.setCurrentMarket(currentMarket)\n      }\n    },\n    async setCurrentTab (tab, { markets }) {\n      let currentMarkets = []\n      if (tab === '') {\n        currentMarkets = markets.stars\n      } else {\n        currentMarkets = _.filter(markets.markets, {quoteToken: tab})\n      }\n\n      this.update({\n        currentTab: tab,\n        currentMarkets,\n      })\n\n      //  setCurrentMarket\n      // let currentMarket = currentMarkets[0]\n      // if (currentMarket) {\n      //   dispatch.markets.setCurrentMarket(currentMarket)\n      // }\n    },\n\n    async startFetchMarketInfo (payload, { markets }) {\n      let { currentMarket: { market } } = markets\n      console.info(`====== ${market} ======`)\n\n      dispatch.depth.fetchDepth()\n      dispatch.trade.fetchTrade()\n      dispatch.order.fetchOrders()\n      // dispatch.socket.subscribe([\n      //   // `candlestick&${market}&1Hour`,\n      //   `depth&${market}&1`,\n      //   `trade&${market}`,\n      //   `ticker&${market}`\n      // ])\n    },\n    async setCurrentMarket (currentMarket, { markets, socket }) {\n      this.update({\n        currentMarket,\n      })\n      dispatch.placeOrder.initialize()\n\n      if (!socket.ws || socket.ws.readyState !== 1) {\n        if (socket.ws && socket.ws.readyState === 3) {\n          // ( depth,trade,orders )\n          // () \n          // socket \n\n          // TODO : socket\n          // notification['success']({\n          //   duration: 0,\n          //   message: 'socket ',\n          //   description: ''\n          // })\n          location.reload()\n        }\n        return\n      }\n      dispatch.markets.startFetchMarketInfo()\n    },\n    async onSocketReady (payload, { markets, depth }) {\n      if (!markets.currentMarket) return\n      dispatch.markets.startFetchMarketInfo()\n    },\n\n    async starMarket (currentMarket, { markets, depth }) {\n      let stars = _.xorBy([currentMarket], markets.stars, 'market')\n      this.update({\n        stars,\n      })\n      // tab, \n      if (markets.currentTab === '') {\n        dispatch.markets.setCurrentTab('')\n      }\n    },\n    async fetchCurrentMarkets (payload, { markets, dexAccount }) {\n      let { apiKey } = dexAccount\n      let { currentMarkets, currentMarket } = markets\n      if (!currentMarkets) return\n\n      let pairs = currentMarkets.map(item => item.market)\n      //  currentMarket  currentMarkets currentMarket \n      if (currentMarket) {\n        pairs = _.uniq([...pairs, currentMarket.market])\n      }\n      if (!pairs.length) return\n\n      let tickers = await api.getTickers({\n        markets: pairs,\n        apiKey\n      })\n\n      //  reducer tickerscurrentMarkets\n      this.updateMarketsTicker(tickers)\n    }\n  })\n}","import _ from 'lodash'\nimport api from 'api'\nimport { config } from 'librarys/lightcone_v3';\nimport { notification } from 'antd';\n\nconst initState = {\n  tokens: [],\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n  },\n  effects: dispatch => ({\n    async fetchTokens (payload, {  }) {\n      let tokens = config.getTokens()\n      this.update({ tokens })\n    }\n  })\n}","import _ from 'lodash'\nimport { Account, config, exchange } from 'librarys/lightcone_v3';\nimport { notification } from 'antd';\nimport utils from 'utils'\nimport api from 'api'\nconst BigNumber = require('bignumber.js');\n\nconst initState = {\n  buyPrice: null,\n  buyAmount: null,\n  buyTotal: null,\n\n  sellPrice: null,\n  sellAmount: null,\n  sellTotal: null,\n\n  // \n  marketBuyTotal: null,\n  // \n  marketSellAmount: null,\n}\n\nasync function placeAnOrder (isBuy, tokenS, tokenB, amountS, amountB, dexAccount) {\n  console.info({tokenS, tokenB, amountS, amountB, dexAccount})\n  let owner = window.wallet.account\n  let { accountId, passwordHash, apiKey } = dexAccount\n\n  let exchangeAccount = new Account(window.wallet);\n  const keyPair = exchangeAccount.generateKeyPair(passwordHash);\n  let { publicKeyX, publicKeyY, secretKey: tradingPrivKey } = keyPair\n\n  const tokenSConfig = config.getTokenBySymbol(tokenS)\n  const orderId = await api.getOrderId(accountId, tokenSConfig.id, apiKey);\n  \n  // Timestamp in second\n  const validSince = new Date().getTime() / 1000 - 10;\n  const validUntil = new Date().getTime() / 1000 + 3600 * 24 * 30;\n\n  console.info(`:`, {amountB, amountS})\n\n  const signedEtheruemTx = exchange.submitOrder(window.wallet, {\n    owner,\n    accountId,\n    keyPair: {\n      publicKeyX,\n      publicKeyY,\n      secretKey: tradingPrivKey,\n    },\n    tokenS,\n    tokenB,\n    amountS,\n    amountB,\n    orderId,\n    validSince: Math.floor(validSince),\n    validUntil: Math.floor(validUntil),\n    buy: isBuy\n  })\n  signedEtheruemTx.channelId = `wedex::subchannel::${_.random(1, 5)}`\n\n  console.log('Order signed tx: ', signedEtheruemTx);\n  const response = await api.submitOrderToLightcone(signedEtheruemTx, apiKey);\n  console.log('Response of submitOrder: ', response);\n\n  if (!response) return\n  notification['success']({\n    duration: 5,\n    message: ''\n  });\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n    initialize: (state, payload) => initState,\n  },\n  effects: dispatch => ({\n    async placeBuyOrder (payload, { markets, dexAccount, placeOrder }) {\n      let { baseToken: tokenB, quoteToken: tokenS } = markets.currentMarket\n      let { buyAmount, buyPrice } = placeOrder\n      if (!buyAmount || !buyPrice) return\n\n      buyAmount = new BigNumber(buyAmount);\n      let amountS = buyAmount.times(buyPrice).toFixed();\n      let amountB = buyAmount.toFixed();\n\n      let result = utils.withLoading(() => placeAnOrder(true, tokenS, tokenB, amountS, amountB, dexAccount))\n      return result\n    },\n    async placeSellOrder (payload, { markets, dexAccount, placeOrder }) {\n      let { baseToken: tokenS, quoteToken: tokenB } = markets.currentMarket\n      let { sellAmount, sellPrice } = placeOrder\n      if (!sellAmount || !sellPrice) return\n\n      sellAmount = new BigNumber(sellAmount);\n      let amountB = sellAmount.times(sellPrice).toFixed();\n      let amountS = sellAmount.toFixed();\n\n      let result = utils.withLoading(() => placeAnOrder(false, tokenS, tokenB, amountS, amountB, dexAccount))\n      return result\n    },\n  })\n}","import _ from 'lodash'\nimport api from 'api'\nimport { Account, common, config } from 'librarys/lightcone_v3';\nimport utils from 'utils'\nconst BigNumber = require('bignumber.js');\n\nconst initState = {\n  list: [],\n  page: 1,\n  pageSize: 10\n}\n\nfunction formatBalances (balances) {\n  let tokens = config.getTokens()\n  return balances.map(balance => {\n    let { tokenId, totalAmount, frozenAmount } = balance\n    let token = _.find(tokens, { id: tokenId })\n    balance.token = token\n\n    let availAmount = BigNumber(totalAmount) - BigNumber(frozenAmount)\n    balance.availAmount = config.fromWEI(token.symbol, availAmount, token.precision)\n    balance.totalAmount = config.fromWEI(token.symbol, totalAmount, token.precision)\n    balance.frozenAmount = config.fromWEI(token.symbol, frozenAmount, token.precision)\n    return balance\n  })\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload })\n  },\n  effects: dispatch => ({\n    async fetchBalances (payload, { dexAccount }) {\n      let { accountId, apiKey } = dexAccount\n      if (!accountId || !apiKey) return\n\n      let { skip, limit } = utils.formatPageParams(dexAccount)\n      let balances = await api.getBalances(accountId, apiKey, skip, limit)\n      if (!balances) return\n\n      balances = formatBalances(balances)\n      this.update({ list: balances })\n    },\n    // \n    startFetchBalance (payload, { dexAccount }) {\n      let { accountId, apiKey } = dexAccount\n      if (!accountId || !apiKey) return\n      console.info(`======  ======`)\n\n      dispatch.balance.fetchBalances()\n      dispatch.socket.subscribe([\n        // `candlestick&${market}&1Hour`,\n        `account`,\n      ])\n    },\n    async onSocketReady (payload, { markets, depth }) {\n      dispatch.balance.startFetchBalance()\n    },\n    async incrementalUpdate (payload, { balance }) {\n      let balances = balance.list\n\n      let [newBalance] = formatBalances([payload])\n      let list = _.unionBy([newBalance], balances, b => b.tokenId)\n      this.update({ list })\n    },\n  })\n}","import _ from 'lodash'\nimport { config } from 'librarys/lightcone_v3';\nimport utils from 'utils'\nimport api from 'api';\n\nconst initState = {\n  list: [],\n  page: 1,\n  pageSize: 10\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n    appendBalance: (state, blance) => {\n      let list = _.unionBy([ blance ], state.list, 'symbol')\n      return {\n        ...state,\n        list: _.orderBy(list, 'symbol')\n      }\n    }\n  },\n  effects: dispatch => ({\n    async fetchBalance (tokenSymbol, {dexAccount}) {\n      let token = config.getTokenBySymbol(tokenSymbol)\n      let amount = 0\n      if (tokenSymbol.toUpperCase() === 'ETH') {\n        amount = await api.getEthBalance(dexAccount.address)\n      } else {\n        amount = await api.getTokenBalance(dexAccount.address, tokenSymbol)\n      }\n      if (!amount) return\n\n      amount = Number(\n        config.fromWEI(\n          tokenSymbol,\n          amount,\n          token.precision\n        )\n      );\n\n      let blance = {\n        symbol: token.symbol,\n        name: token.name,\n        amount: amount,\n      }\n      //  fetchAllBalances  fetchBalance rootStateawait \n      //  reducers reducers\n      this.appendBalance(blance)\n\n      // let { list } = rootState.walletBalance\n      // list = _.unionBy([ blance ], list, 'symbol')\n\n      // this.update({\n      //   list\n      // })\n    },\n    async fetchAllBalances (payload, {  }) {\n      // \n      //  fetchBalance  select store\n      let tokens = config.getTokens()\n      tokens.forEach(token => {\n        //  WETH\n        if (token.symbol === 'WETH') return\n        dispatch.walletBalance.fetchBalance(token.symbol)\n      })\n    },\n  })\n}","import _ from 'lodash'\nimport numeral from 'numeral'\nimport api from 'api';\nimport { Account, config, common } from 'librarys/lightcone_v3';\nimport { ENUM_ORDER_STATUS } from 'utils/enum'\nimport utils from 'utils'\nimport { notification } from 'antd';\n\nconst initState = {\n  list: [],\n  cond: {\n    page: 1,\n    pageSize: 50,\n    // \n    type: 'current', // ['current', 'history']\n    // [(ALL), (PROCESSED), (CANCELLED)]\n    historyStatus: 'ALL',\n    allMarket: false\n  }\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n    updateFilterCond: (state, payload) => {\n      let cond = { ...state.cond, ...payload }\n      return {\n        ...state,\n        cond\n      }\n    },\n  },\n  effects: dispatch => ({\n    async fetchOrders (payload, { order, dexAccount, markets: { currentMarket } }) {\n      let { accountId, passwordHash, apiKey } = dexAccount\n      if (!accountId || !passwordHash) return\n\n\n      if (!currentMarket) return\n      let { market: marketPair, baseToken, quoteToken } = currentMarket\n      if (!marketPair) return\n\n      //  1.  order \n      dispatch.socket.subscribe([ `order&${marketPair}` ])\n\n      // 2. \n      this.update({\n        list: [],\n      })\n\n      let { offset, limit } = utils.formatPageParams(order.cond)\n      let { type, allMarket, historyStatus } = order.cond\n\n      //  market \n      let market\n      if (allMarket) {\n        market = undefined\n      } else {\n        market = marketPair\n      }\n\n      //  status \n      let statuses\n      if (type === 'current') {\n        statuses = [ENUM_ORDER_STATUS.PROCESSING.getValue()]\n      } else {\n        if (historyStatus === 'ALL') {\n          statuses = [ENUM_ORDER_STATUS.CANCELLED.getValue(), ENUM_ORDER_STATUS.PROCESSED.getValue()]\n        } else if (historyStatus === 'CANCELLED') {\n          statuses = [ENUM_ORDER_STATUS.CANCELLED.getValue()]\n        } else {\n          statuses = [ENUM_ORDER_STATUS.PROCESSED.getValue()]\n        }\n      }\n\n      let resp = await api.getOrders({accountId, apiKey, offset, limit, market, statuses});\n      let { totalNum, orders } = resp || {}\n      if (!orders) return\n\n      this.update({\n        list: orders,\n      })\n    },\n    async incrementalUpdate (order, { order: orderState, markets }) {\n      let { market: marketPair } = markets.currentMarket\n      if (!marketPair) return\n\n      let { list, cond } = orderState\n\n      // 1. union\n      // 2. \n      if (cond.type === 'history') return\n\n      let updatedOrders = utils.formatOrders([order])\n      list = _.chain([...updatedOrders, ...list]).unionBy(o => o.hash).orderBy(['createdAt'], ['desc']).value()\n\n      this.update({\n        list,\n      })\n    },\n    async cancelAnOrders (order, { markets, dexAccount, placeOrder, order: orderStore }) {\n      let { accountId, passwordHash, apiKey } = dexAccount\n      let exchangeAccount = new Account(window.wallet);\n      const keyPair = exchangeAccount.generateKeyPair(passwordHash);\n      let { publicKeyX, publicKeyY, secretKey } = keyPair\n\n      const signed = exchangeAccount.submitFlexCancel(\n        accountId,\n        publicKeyX,\n        publicKeyY,\n        secretKey,\n        order.hash,\n        order.clientOrderId\n      );\n      console.log('signed cancel order result: \\n', signed);\n\n      const response = await api.cancelOrders(\n        signed.account.accountId,\n        signed.hash,\n        signed.clientOrderId,\n        signed.signature,\n        apiKey\n      )\n      console.log('Response of submitOrder: ', response);\n\n      if (!response) return\n      // notification['success']({\n      //   duration: 5,\n      //   message: ''\n      // })\n\n      dispatch.order.fetchOrders()\n      // TODO: test\n      // dispatch.balance.fetchBalances()\n\n      return response\n    },\n    async cancelAllOrders (payload, { markets, dexAccount, placeOrder, order: orderStore }) {\n      let orders = _.chain(orderStore.list)\n                    .filter({ status: ENUM_ORDER_STATUS.PROCESSING.getValue() })\n                    .slice(0, 10)\n                    .value()\n      let promises = _.map(orders, order => dispatch.order.cancelAnOrders(order))\n      let resp = await Promise.all(promises)\n      notification['success']({\n        duration: 5,\n        message: ''\n      })\n\n      dispatch.order.fetchOrders()\n      // TODO: test\n      // dispatch.balance.fetchBalances()\n    }\n  })\n}\n","import _ from 'lodash'\nimport api from 'api'\nimport { Account, config } from 'librarys/lightcone_v3';\nimport { notification } from 'antd';\nimport utils from 'utils'\n\nconst initState = {\n  list: [],\n  cond: {\n    token: undefined,\n    page: 1,\n    pageSize: 100,\n    statuses: undefined,\n    types: undefined,\n    start: undefined,\n    end: undefined,\n  },\n}\n\nfunction formatTransfers (transfers) {\n  return transfers.map(transfer => {\n    let { realAmount, feeAmount, symbol } = transfer\n    transfer.realAmount = utils.toTokenPrecision(realAmount, symbol)\n    transfer.feeAmount = utils.toTokenPrecision(feeAmount, 'ETH')\n    return transfer\n  })\n}\n\nasync function checkAllowance (tokenSymbol, depositAmout) {\n  let owner = window.wallet.account\n  if (tokenSymbol.toUpperCase() === 'ETH') {\n    return 0\n  } else {\n    const allowance = await api.getAllowance(owner, tokenSymbol);\n    const amount = Number(\n      config.fromWEI(\n        tokenSymbol,\n        allowance,\n        config.getTokenBySymbol(tokenSymbol).precision\n      )\n    );\n    if (Number(depositAmout) > amount) {\n      const txCount = amount === 0 ? 1 : 2;\n      return txCount\n    }\n  }\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n    updateFilterCond: (state, payload) => {\n      let cond = { ...state.cond, ...payload }\n      return {\n        ...state,\n        cond\n      }\n    },\n  },\n  effects: dispatch => ({\n    async fetchTransactions (payload, { dexAccount, transfer }) {\n      let { accountId, apiKey } = dexAccount\n      if (!accountId || !apiKey) return\n\n      let { offset, limit } = utils.formatPageParams(transfer.cond)\n\n      let transactions = await api.getTransactions({\n        accountId,\n        apiKey,\n        offset,\n        limit,\n        statuses: transfer.cond.statuses,\n        types: transfer.cond.types,\n        start: transfer.cond.start,\n        end: transfer.cond.end,\n        symbol: transfer.cond.token\n      });\n      if (!transactions) return\n\n      // console.info(\"########\", {transactions})\n      transactions = formatTransfers(transactions)\n      this.update({ list: transactions })\n    },\n    // approveTxCount(): 0  1 0 2 \n    // ERC200\n    async deposit ({ symbol, amount, gasPrice }, { dexAccount }) {\n      const approveTxCount = await checkAllowance(symbol, amount)\n\n      // Gas price\n      let nonce = await api.getNonce(window.wallet.account);\n      let exchangeAccount = new Account(window.wallet);\n\n      if (approveTxCount === 2) {\n        const signedEthereumTx = await exchangeAccount.approveZero(\n          symbol,\n          nonce,\n          gasPrice\n        );\n        console.log('Received approve to  signEthereumTx');\n        console.log(signedEthereumTx);\n        await api.sendApprove(signedEthereumTx);\n        nonce += 1;\n      }\n\n      // Approve\n      if (approveTxCount !== 0) {\n        const signedEthereumTx = await exchangeAccount.approveMax(\n          symbol,\n          nonce,\n          gasPrice\n        );\n        console.log('Received approve to  signEthereumTx');\n        console.log(signedEthereumTx);\n        await api.sendApprove(signedEthereumTx);\n        nonce += 1;\n      }\n\n      const signedEthereumTx = await exchangeAccount.depositTo(\n        symbol,\n        amount,\n        nonce,\n        gasPrice\n      );\n      console.log('Received deposit signEthereumTx');\n      console.log(signedEthereumTx);\n      const response = await api.sendDeposit(signedEthereumTx);\n      const data = response['result'];\n      console.log('Response of deposit: ', data);\n\n      // await this.props.fetchMyBalances(\n      //   this.props.dexAccount.account.accountId,\n      //   this.props.dexAccount.account.apiKey\n      // );\n\n      // TODO: test\n      // dispatch.balance.fetchBalances()\n\n      if (data) {\n        notification['success']({\n          duration: 5,\n          message: '3010'\n        })\n        return true\n      } else {\n        return false\n      }\n    },\n    async withdraw ({ symbol, amount, gasPrice }, { dexAccount }) {\n      const nonce = await api.getNonce(window.wallet.account);\n      let exchangeAccount = new Account(window.wallet);\n      const signedEthereumTx = await exchangeAccount.onchainWithdrawal(\n        symbol,\n        amount,\n        nonce,\n        gasPrice\n      );\n\n      console.log('Received withdraw signEthereumTx');\n      console.log(signedEthereumTx);\n      const response = await api.sendWithdrawTransaction(signedEthereumTx);\n      const data = response['result'];\n      console.log('Response of withdraw: ', data);\n\n      // await this.props.fetchMyBalances(\n      //   this.props.dexAccount.account.accountId,\n      //   this.props.dexAccount.account.apiKey\n      // );\n\n      // TODO: test\n      // dispatch.balance.fetchBalances()\n\n      if (data) {\n        notification['success']({\n          duration: 5,\n          message: '3040-60'\n        })\n        return true\n      } else {\n        return false\n      }\n    }\n  })\n}","import _ from 'lodash'\nimport moment from 'moment'\nimport numeral from 'numeral'\nimport api from 'api';\nimport { config } from 'librarys/lightcone_v3';\nimport { ENUM_ORDER_STATUS } from 'utils/enum'\nimport utils from 'utils'\nimport appConfig from 'config/appConfig'\nimport { notification } from 'antd';\n\nlet { pollingIntervalRatio, relay } = appConfig\n\nconst initState = {\n  ws: null,\n  lastPingTime: null\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload }),\n  },\n  effects: dispatch => ({\n    async start (payload, { order, dexAccount, markets }) {\n      if (!(\"WebSocket\" in window)) {\n        //  WebSocket\n        alert(\" WebSocket!\");\n      }\n\n      var ws = new WebSocket(relay.wsUrl)\n      ws.onmessage = function(event) {\n        var data = event.data;\n        dispatch.socket.onMessage(data)\n      };\n      ws.onerror = () => {\n        console.info('web socket ')\n        ws.close();\n\n        this.update(initState)\n        // socket \n        dispatch.socket.start()\n      };\n      ws.onopen = () => {\n        console.info('web socket ')\n        this.update({\n          lastPingTime: moment()\n        })\n        // \n        dispatch.markets.onSocketReady()\n        dispatch.balance.onSocketReady()\n      }\n      this.update({ws})\n\n      dispatch.socket.polling()\n    },\n    async onMessage (payload, { socket }) {\n\n      if (payload === 'ping') {\n        socket.ws.send('pong')\n        this.update({\n          lastPingTime: moment()\n        })\n        return\n      }\n\n      payload = JSON.parse(payload)\n      if (payload.op === 'sub') {\n        let { args, result } = payload\n        if (_.toUpper(result.status) !== 'OK') {\n          console.info('######## ')\n          notification['error']({\n            duration: 0,\n            message: ``,\n            description: JSON.stringify(result),\n          })\n          // \n          dispatch.socket.subscribe(args)\n        }\n        return\n      }\n\n      if (payload.topic === 'account') {\n        dispatch.balance.incrementalUpdate(payload.data)\n      } else if (_.startsWith(payload.topic, 'depth')) {\n        dispatch.depth.incrementalUpdate(payload)\n      } else if (_.startsWith(payload.topic, 'trade')) {\n        dispatch.trade.incrementalUpdate(payload.data)\n      } else if (_.startsWith(payload.topic, 'order')) {\n        dispatch.order.incrementalUpdate(payload.data)\n      } else if (_.startsWith(payload.topic, 'candlestick')) {\n        dispatch.candleStick.incrementalUpdate(payload)\n      }\n    },\n    async subscribe (payload, { socket, dexAccount }) {\n      if (!socket.ws || socket.ws.readyState !== 1) return\n\n      let subInfo = {\n        op: 'sub',\n        args: payload,\n        apiKey: dexAccount.apiKey || undefined\n      }\n      socket.ws.send(JSON.stringify(subInfo))\n    },\n    async polling () {\n      // utils.setImmediateInterval(() => {\n      //   dispatch.depth.fetchDepth()\n      //   dispatch.trade.fetchTrade()\n      //   dispatch.order.fetchOrders()\n      // }, pollingInterval);\n\n      // this.subscribe(['candlestick&LRC-BTC&1Hour'])\n      // utils.setImmediateInterval(() => dispatch.depth.fetchDepth(), 1000 * pollingIntervalRatio);\n      // utils.setImmediateInterval(() => dispatch.trade.fetchTrade(), 1000 * pollingIntervalRatio);\n      // utils.setImmediateInterval(() => dispatch.order.fetchOrders(), 1000 * pollingIntervalRatio);\n      // utils.setImmediateInterval(() => dispatch.balance.fetchBalances(), 3000 * pollingIntervalRatio);\n\n      utils.setImmediateInterval(() => dispatch.candleStick.fetchDayInfo(), 1000 * pollingIntervalRatio);\n      utils.setImmediateInterval(() => dispatch.rate.fetchRate(), 3000 * pollingIntervalRatio);\n      utils.setImmediateInterval(() => dispatch.markets.fetchCurrentMarkets(), 3000 * pollingIntervalRatio);\n      utils.setImmediateInterval(() => dispatch.award.checkAward(), 10 * 1000 * pollingIntervalRatio);\n    },\n    async checkHeartBeat (payload, { socket }) {\n      let { ws, lastPingTime } = socket\n\n      // socket\n      if (!ws || !lastPingTime) return\n      //  3  socket\n      let now = moment()\n      let validUntil = lastPingTime.add(3, 'minutes')\n      if (now.isBefore(validUntil)) return\n\n      this.update(initState)\n      dispatch.socket.start()\n      notification['error']({\n        duration: 0,\n        message: ``,\n        description: `socket`,\n      })\n    }\n  })\n}\n","import _ from 'lodash'\nimport numeral from 'numeral'\nimport { config } from 'librarys/lightcone_v3'\nimport api from 'api'\n\nconst initState = {\n  CNY: [],\n  USD: [],\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload })\n  },\n  effects: dispatch => ({\n    async fetchRate (payload, { dexAccount }) {\n      let { apiKey } = dexAccount\n\n      var CNYRates = await api.getPrice({\n        legal: 'CNY',\n        apiKey\n      })\n      let usdt = _.find(CNYRates, {symbol: 'USD'})\n      CNYRates.push({\n        ...usdt,\n        symbol: 'USDT'\n      })\n\n      var USDRates = await api.getPrice({\n        legal: 'USD',\n        apiKey\n      })\n      usdt = _.find(USDRates, {symbol: 'USD'})\n      CNYRates.push({\n        ...usdt,\n        symbol: 'USDT'\n      })\n\n      this.update({\n        CNY: CNYRates,\n        USD: USDRates,\n      })\n    }\n  })\n}","import _ from 'lodash'\nimport api from 'api'\nimport { Account, common, config } from 'librarys/lightcone_v3';\nimport utils from 'utils'\nconst BigNumber = require('bignumber.js');\n\nconst initState = {\n}\n\nexport default {\n  state: initState,\n  reducers: {\n    update: (state, payload) => ({ ...state, ...payload })\n  },\n  effects: dispatch => ({\n    async checkAward (payload, { award, dexAccount, appState }) {\n      if (!dexAccount.address) return\n      if (appState.awardInfo.visible) return\n\n      let { latestAward } = award\n      let latestAwardBillSn = latestAward && latestAward.billSn\n\n      let resp = await api.getUserBillEggPrizeList({\n        // address: '0xa4ac2bb3885ff3bf82e99cc2b442a379e3627ef7',\n        address: dexAccount.address,\n        pageSize: 1,\n        page: 1,\n        sort: 'id',\n        sortDirection: 'asc',\n        read: false\n      })\n      let newAward = resp.data.rows[0]\n      if (!newAward) return\n      \n      let { id, billSn, money, unit, createdAt } = newAward\n\n      // TODO: \n      dispatch.appState.showEggAward({\n        id,\n        amount: money,\n        unit,\n        createdAt\n      })\n    },\n    async markRead (ids, { dexAccount }) {\n      if (!dexAccount.address) return\n\n      await api.postUserReadBillEggPrizeList({\n        // address: '0xa4ac2bb3885ff3bf82e99cc2b442a379e3627ef7',\n        address: dexAccount.address,\n        ids\n      })\n    }\n  })\n}","import React from 'react'\nimport { init } from '@rematch/core'\nimport createRematchPersist from '@rematch/persist'\nimport { asyncLocalStorage } from \"redux-persist/storages\"\nimport { applyMiddleware, compose } from 'redux'\nimport { createLogger } from 'redux-logger'\nimport createSagaMiddleware from 'redux-saga'\nimport { routerMiddleware, connectRouter } from 'connected-react-router'\nimport { createHashHistory } from 'history'\nimport rootSaga from 'sagas'\nimport models from './models'\n\nexport { connect } from 'react-redux'\n\nexport const history = createHashHistory()\n\n// storehook\nexport const StoreContext = React.createContext()\n\nconst initPlugin = () => {\n  const plugins = []\n\n  const persistPlugin = createRematchPersist({\n    whitelist: ['auth', 'dexAccount', 'markets', 'award'],\n    // throttle: 1000,\n    storage: asyncLocalStorage,\n    version: 1\n  })\n\n  plugins.push(persistPlugin)\n  return plugins\n}\n\nlet sagaMiddleware\nlet sagasManager\n\nconst initMiddleware = () => {\n  const middleware = []\n\n  const loggerMiddleware = createLogger({\n    level: 'info',\n    collapsed: true\n  })\n\n\n  sagaMiddleware = createSagaMiddleware({})\n  const historyMiddleware = routerMiddleware(history)\n\n  if (process.env.NODE_ENV !== 'test') {\n    middleware.push(loggerMiddleware)\n  }\n\n  middleware.push(sagaMiddleware)\n  middleware.push(historyMiddleware)\n  return middleware\n}\n\nconst middleware = initMiddleware()\nconst enhancers = []\nenhancers.push(applyMiddleware(...middleware))\n\nexport const reloadSaga = (newYieldedSagas) => {\n  sagasManager.cancel()\n  sagasManager.done.then(() => {\n    sagasManager = sagaMiddleware.run(newYieldedSagas)\n  })\n}\n\nexport const store = init({\n  models,\n  redux: {\n    reducers:{\n      router: connectRouter(history),\n    },\n    enhancers: enhancers\n  },\n  plugins: initPlugin()\n})\n\nexport const { dispatch } = store\n\nsagasManager = sagaMiddleware.run(rootSaga)","import appState from './appState'\nimport metaMask from './metaMask'\nimport dexAccount from './dexAccount'\nimport depth from './depth'\nimport trade from './trade'\nimport candleStick from './candleStick'\nimport markets from './markets'\nimport tokens from './tokens'\nimport placeOrder from './placeOrder'\nimport balance from './balance'\nimport walletBalance from './walletBalance'\nimport order from './order'\nimport transfer from './transfer'\nimport socket from './socket'\nimport rate from './rate'\nimport award from './award'\n\nexport default {\n  appState,\n  metaMask,\n  dexAccount,\n  depth,\n  trade,\n  candleStick,\n  markets,\n  tokens,\n  placeOrder,\n  balance,\n  walletBalance,\n  order,\n  transfer,\n  socket,\n  rate,\n  award\n}","import _ from 'lodash'\nimport { Account, config, Utils as lightConeUtils } from 'librarys/lightcone_v3'\nimport { dispatch, store } from 'store'\nimport api from 'api';\nvar detect = require('detect-browser').detect;\n\nexport function makeCancelable (promise) {\n  let hasCanceled_ = false;\n\n  const wrappedPromise = new Promise((resolve, reject) => {\n    promise.then(\n      val => hasCanceled_ ? reject({isCanceled: true}) : resolve(val),\n      error => hasCanceled_ ? reject({isCanceled: true}) : reject(error)\n    );\n  });\n\n  return {\n    promise: wrappedPromise,\n    cancel() {\n      hasCanceled_ = true;\n    },\n  };\n};\n\n// const isFunction = input => typeof input === 'function';\n// export default predicate => elemOrThunk =>\n//   predicate ? (isFunction(elemOrThunk) ? elemOrThunk() : elemOrThunk) : null;\nexport function renderIf (predicate) {\n  return elemOrThunk =>\n    predicate ? (_.isFunction(elemOrThunk) ? elemOrThunk() : elemOrThunk) : null;\n}\n\nexport function compareAppVersion(remoteVersion, localVersion){ \n  function toNum(a) {\n    a = a.toString();\n    // var c=a.split(/\\./);\n    var c=a.split('.');\n    var num_place=[\"\",\"0\",\"00\",\"000\",\"0000\"],r=num_place.reverse();\n    for (var i=0;i<c.length;i++){ \n        var len=c[i].length;       \n        c[i]=r[len]+c[i];  \n    } \n    var res= c.join(''); \n    return res; \n  } \n\n  let rvNum = toNum(remoteVersion)\n  let lvNum = toNum(localVersion)\n  if (rvNum > lvNum) {\n    return 1\n  } else if (rvNum === lvNum) {\n    return 0\n  } else {\n    return -1\n  }\n}\n\n//  promisefy 2\n// 1. \n// 2.  (err, result)\nfunction promisefy (asyncFunc) {\n  function promiseFunc (...args) {\n    // args  n-1 \n    return new Promise((resolve, reject) => {\n      let preArgs = _.slice(args, 0, args.length)\n      asyncFunc(...preArgs, function (err, result) {\n        if (err) {\n          reject(new Error(err))\n        } else {\n          resolve(result)\n        }\n      })\n    })\n  }\n  return promiseFunc\n}\n\n//  (result)\nfunction promisefyNoError (asyncFunc) {\n  function promiseFunc (...args) {\n    // args  n-1 \n    return new Promise((resolve, reject) => {\n      let preArgs = _.slice(args, 0, args.length)\n      asyncFunc(...preArgs, function (result) {\n        resolve(result)\n      })\n    })\n  }\n  return promiseFunc\n}\n\nexport async function playVoice (audio, audioPath) {\n  return new Promise((resolve, reject) => {\n    audio.src = audioPath\n    audio.play()\n    console.info(audio.src, audio.duration)\n    audio.onended = function() {\n      resolve()\n    }\n  })\n}\n\nexport function parseUlrParams (name) {\n  let reg = new RegExp('(^|&|\\\\?|%3F)' + name + '(=|%3D)([^&]*)(&|$)')\n  let r = window.location.search.substr(1).match(reg)\n  return r && r[3]\n}\n\nexport function waitFor (ms) {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve()\n    }, ms)\n  })\n}\n\nexport function shadeSn(sn) {\n  if (!sn) return\n  let chars = sn.split('')\n  chars = _.fill(chars, '*', 2, chars.length - 6)\n  return chars.join('')\n}\n\nexport function shadePhone(phone) {\n  if (!phone) return\n  let chars = phone.split('')\n  chars = _.fill(chars, '*', 3, chars.length - 4)\n  return chars.join('')\n}\n\nexport function checkBrowser () {\n  const browser = detect()\n  // TODO 360\n  return _.includes(['firefox', 'chrome', '360'], browser.name)\n}\n\nexport function checkPassword (passwordHash, relayAccount) {\n  let exchangeAccount = new Account(window.wallet);\n  const keyPair = exchangeAccount.generateKeyPair(passwordHash);\n  console.info(passwordHash, keyPair.publicKeyX, relayAccount.publicKeyX)\n  return (\n    keyPair.secretKey &&\n    keyPair.publicKeyX === relayAccount.publicKeyX &&\n    keyPair.publicKeyY === relayAccount.publicKeyY\n  )\n}\n\nexport async function genApiKey (accountId, passwordHash) {\n  let exchangeAccount = new Account(window.wallet);\n  const keyPair = exchangeAccount.generateKeyPair(passwordHash);\n  let { publicKeyX, publicKeyY, secretKey } = keyPair\n\n  const signed = exchangeAccount.getApiKey(\n    accountId,\n    publicKeyX,\n    publicKeyY,\n    secretKey\n  );\n  const data = {\n    accountId: accountId,\n    publicKeyX: publicKeyX,\n    publicKeyY: publicKeyY\n  };\n  // \n  let resp = await api.getApiKey(data, signed.signature);\n  return resp.account\n}\n\nexport function genPasswordHash (address, password) {\n  return lightConeUtils.keccakHash(\"LOOPRING\" + address.toLowerCase() + lightConeUtils.keccakHash(password))\n}\n\nexport function formatPageParams ({ page, pageSize }) {\n  return {\n    offset: (page - 1) * pageSize,\n    limit: pageSize\n  }\n}\n\nexport async function withLoading (handler) {\n  dispatch.appState.update({ loading: true })\n  try {\n    let result = await handler()\n    dispatch.appState.update({ loading: false })\n    return result\n  } catch (e) {\n    console.info(\"!!!!!!withLoading error\", e)\n    dispatch.appState.update({ loading: false })\n  }\n}\n\nexport function setImmediateInterval (callback, interval) {\n  callback()\n  return setInterval(() => callback(), interval)\n}\n\nexport function getPrecision (num) {\n  let parts = num.toString().split('.')\n  return parts[1] ? parts[1].length : 0\n}\n\nexport function asLegalMoney (rateTable, value, from, to = 'USD') {\n  let list = rateTable[to]\n  let item = _.find(list, {symbol: from})\n  if (!item) return 0\n\n  let amount = value * item.price || 0\n  return toTokenPrecision(amount, to)\n}\n\nexport function toTokenPrecision (value = 0, symbol = 'LRC') {\n  let rootState = store.getState()\n  let { tokens } = rootState.tokens\n  let token = _.find(tokens, { symbol })\n\n  let precision = token && token.precision || 2\n  // toFixed\n  // _.round_.round(1.2, 2) 1.2 1.20\n  return Number(value).toFixed(precision)\n}\n\nexport function formatOrders (orders) {\n  return orders.map(order => {\n    let updatedOrder = { ...order }\n    const [baseTokenSymbol, quoteTokenSymbol] = updatedOrder.market.split('-')\n    let market = config.getMarketBySymbol(baseTokenSymbol, quoteTokenSymbol)\n    let { pricePrecision, amountPrecision, totalPrecision } = market\n\n    let filledFee\n    let side = order['side'].toUpperCase()\n    if (side === 'BUY') {\n      let token = config.getTokenBySymbol(baseTokenSymbol)\n      filledFee = config.fromWEI(baseTokenSymbol, Number(order['filledFee']), token.precision);\n    } else {\n      let token = config.getTokenBySymbol(quoteTokenSymbol)\n      filledFee = config.fromWEI(quoteTokenSymbol, Number(order['filledFee']), token.precision);\n    }\n    \n    const price = Number(order['price']).toFixed(pricePrecision)\n    const size = config.fromWEI(baseTokenSymbol, Number(order['size']), amountPrecision);\n    const filledSize = config.fromWEI(baseTokenSymbol, Number(order['filledSize']), amountPrecision);\n    const volume = config.fromWEI(quoteTokenSymbol, Number(order['volume']), totalPrecision);\n    const filledVolume = config.fromWEI(quoteTokenSymbol, Number(order['filledVolume']), totalPrecision);\n  \n    // let filledInNumber = order['side'].toUpperCase() === 'SELL' ? filledSize / size : filledVolume / volume\n    let filledInNumber = filledSize / size\n    filledInNumber = Math.floor(filledInNumber * 100);\n    const filled = `${filledInNumber}%`;\n  \n    updatedOrder['price'] = price;\n    updatedOrder['filledFee'] = filledFee;\n    updatedOrder['size'] = size;\n    updatedOrder['filledSize'] = filledSize;\n    updatedOrder['volume'] = volume;\n    updatedOrder['filledVolume'] = filledVolume;\n    updatedOrder['filled'] = filled;\n    return updatedOrder\n  })\n}\n\nexport default {\n  checkPassword,\n  genApiKey,\n  genPasswordHash,\n  formatPageParams,\n  waitFor,\n  renderIf,\n  promisefy,\n  withLoading,\n  setImmediateInterval,\n  getPrecision,\n  asLegalMoney,\n  toTokenPrecision,\n  formatOrders\n}","import _ from 'lodash'\nimport React, { forwardRef, useEffect, useState, useImperativeHandle, useRef } from 'react'\nimport { connect } from 'react-redux';\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text,\n} from 'rebass'\nimport utils from 'utils';\nimport { Input, Popover, Icon, InputNumber } from 'antd';\nconst InputGroup = Input.Group;\n\nconst CoinInput = ({\n  disabled = false,\n  value,\n  min,\n  max,\n  precision,\n  error,\n  onChange,\n  approximate,\n  unit\n}) => {\n  const [focused, setFocused] = useState(false)\n\n  const content = (\n    <div>\n      <p>{error}</p>\n    </div>\n  )\n  return (\n    <Popover content={content} trigger={error ? \"hover\" : 'focus' } overlayStyle={{\n      display: error ? undefined : 'none'\n    }}>\n      <InputGroup compact style={{\n        display: 'flex',\n        borderRadius: '3px',\n        webkitBoxShadow: (focused || error) ? `0 0 0 1px ${error ? '#F0505A' : 'rgba(24, 144, 255, 0.2)'}` : 'none'\n      }}>\n        <Input\n          disabled={disabled}\n          className=\"coin-input\"\n          precision={precision}\n          value={value}\n          onKeyPress={(e)=>{\n            // if (e.key === 'Backspace' || e.key === 'Delete') return\n            if (!/^[0-9a-zA-Z]+$/.test(e.key)) return\n\n            let value = e.target.value || ''\n            let { selectionStart, selectionEnd } = e.currentTarget\n            if (selectionStart !== selectionEnd) {\n              //  else selectionStartselectionEnd\n              value = value.slice(0, selectionStart) + e.key + value.slice(selectionEnd)\n            } else {\n              //  precision .\n              value = value.slice(0, selectionStart) + e.key + value.slice(selectionStart)\n            }\n\n            let valueAsNumber = Number(value)\n            if (!_.isNumber(valueAsNumber) || isNaN(valueAsNumber)) {\n              e.preventDefault()\n              return\n            }\n\n            // fix:  Number  0.0100000000 0 \n            if (utils.getPrecision(value) > precision) {\n              e.preventDefault()\n              return\n            }\n          }}\n          onChange={onChange}\n          onBlur={() => setFocused(false)}\n          onFocus={() => setFocused(true)}\n          style={{minWidth: 30, flex: 1}}\n        />\n        {\n          utils.renderIf(approximate)(\n            <Input\n              value={`${approximate}`} style={{\n                padding: 0,\n                color: '#3c3c50',\n                textAlign: 'left',\n                pointerEvents: 'none',\n                backgroundColor: '#0A0F1E',\n                border: 0,\n                minWidth: 30,\n                flex: 1,\n                height: '32px'\n              }}\n              disabled\n            />\n          )\n        }\n        <Input value={unit} style={{\n            paddingLeft: 0,\n            width: 55,\n            border: 0,\n            color: '#646478',\n            pointerEvents: 'none',\n            backgroundColor: \"#0A0F1E\",\n            textAlign: 'right',\n            height: '32px'\n          }}\n          disabled\n        />\n      </InputGroup>\n    </Popover>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CoinInput);","import _ from 'lodash'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { store } from 'store'\nimport { Provider } from 'react-redux'\n\n/*\n * Appreduxprovider\n*/\nexport default function funcfy (Component, props) {\n  var div = document.createElement('div')\n  \n  function destroy () {\n    var unmountResult = ReactDOM.unmountComponentAtNode(div)\n    if (unmountResult && div.parentNode) {\n        div.parentNode.removeChild(div)\n    }\n  }\n\n  function render () {\n    ReactDOM.render(\n      <Provider store={store}>\n        <Component {...props} onDestory={() => destroy()}>\n        </Component>\n      </Provider>\n    , div)\n  }\n\n  render()\n}\n","import React, { forwardRef, useEffect, useState, useImperativeHandle, useRef } from 'react'\nimport { Modal, message } from 'antd'\nimport funcfy from './funcfyDialog'\nimport {\n  Box,\n  Flex,\n  Text\n} from 'rebass'\n\nconst Widget = ({\n  style,\n  onDestory,\n  onSubmit = () => {}\n}) => {\n  const [visible, setVisible] = useState(false)\n \n  useEffect(() => {\n    show()\n  }, [])\n\n  const show = async () => {\n    setVisible(true)\n  }\n\n  const cancel = async () => {\n    setVisible(false)\n    onDestory()\n  }\n\n  return (\n    <Modal \n      bodyStyle={{backgroundColor: '#363636', color: '#d0d0d0'}}\n      visible={visible}\n      maskClosable={true}\n      onOk={() => {\n        cancel()\n        onSubmit()\n      }}\n      onCancel={() => cancel()}\n      footer={null}\n      width={800}\n    >\n      <Box px={20}>\n        <Text>MetaMaskMetaMask</Text>\n        <Text>360</Text>\n        <Text></Text>\n      </Box>\n    </Modal>\n  )\n}\n\nexport default (props) => funcfy(Widget, props)\n// export default Widget\n","import moment from \"moment\"\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Modal, Input, Form, Button, notification, Checkbox } from 'antd'\nimport {\n  Box,\n  Flex,\n  Text\n} from 'rebass'\nimport funcfy from './funcfyDialog'\nimport { ENUM_ACCOUNT_STATUS } from 'utils/enum'\nimport utils from 'utils'\nimport { FormErrorInfo } from 'widgets/Common'\nimport { UpsertPasswordModal } from '../Dialog'\nimport api from 'api'\n\nconst errorInfos = [\n  '',\n  '',\n  '',\n  '8',\n]\n\nclass Widget extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      visible: false\n    }\n  }\n\n  componentDidMount () {\n    this.setState({ visible: true })\n    this.checkInput()\n  }\n\n  async checkInput () {\n    // onChangeonChange\n    await utils.waitFor(50)\n\n    // \n    let password = this.props.form.getFieldProps('password').value\n    if (!password) {\n      this.setState({errors: errorInfos})\n      return \n    }\n\n    let errors = this.props.form.getFieldsError()\n    errors = _.chain(errors)\n      .values()\n      .flatten()\n      .filter(error => error)\n      .value()\n    this.setState({errors})\n  }\n\n  async submit (e) {\n    let { dexAccount } = this.props\n\n    e.preventDefault();\n    let validateFields = utils.promisefy(this.props.form.validateFields)\n\n    let values\n    try {\n      values = await validateFields()\n    } catch(err) {\n      console.info(err)\n      return\n    }\n    let { password, remember } = values\n\n    const passwordHash = utils.genPasswordHash(dexAccount.address, password);\n    const relayAccount = await api.lightconeGetAccount(dexAccount.address);\n    console.info(password)\n    let valid = utils.checkPassword(passwordHash, relayAccount)\n    if (!valid) {\n      notification['success']({\n        duration: 5,\n        message: (\n          <div>\n            <p></p>\n          </div>\n        )\n      });\n      return\n    }\n\n    let accountId = relayAccount.accountId\n    let apiKey = await utils.genApiKey(accountId, passwordHash)\n    await this.props.updateAccount({\n      accountId,\n      passwordHash,\n      apiKey,\n      rememberMeStartTime: moment().format('YYYY-MM-DD HH:mm:ss'),\n      rememberMeMinutes: (remember ? 24 : 1) * 60,\n    })\n    await this.props.startFetchBalance()\n    await this.props.fetchOrders()\n\n    if (relayAccount.isFreeze) {\n      this.props.updateAccount({ state: ENUM_ACCOUNT_STATUS.LOCKED.getValue()})\n      notification['success']({\n        duration: 5,\n        message: (\n          <div>\n            <p>.</p>\n          </div>\n        )\n      });\n    } else {\n      this.props.updateAccount({ state: ENUM_ACCOUNT_STATUS.LOGGED_IN.getValue()})\n      notification['success']({\n        duration: 5,\n        message: ''\n      });\n    }\n    this.loginSunccess()\n  }\n\n  async loginSunccess () {\n    this.setState({visible: false})\n    this.props.onSucess()\n    this.props.onDestory()\n  }\n\n  render () {\n    let { state } = this.props.dexAccount\n    let modalTitle = ENUM_ACCOUNT_STATUS.UNCREATED.equals(state) ? '' : ''\n\n    const { getFieldDecorator, getFieldsValue } = this.props.form;\n    let { remember } = getFieldsValue()\n    \n    const formItemLayout = {\n      labelCol: { span: 4 },\n      wrapperCol: { span: 20 },\n    };\n    const noLabelLayout = {\n      wrapperCol: { span: 19, offset: 5 },\n    };\n    return (\n      <Modal \n        // bodyStyle={{backgroundColor: '#363636', color: '#d0d0d0'}}\n        title={modalTitle}\n        visible={this.state.visible}\n        maskClosable={true}\n        onOk={() => {\n\n        }}\n        onCancel={() => {\n          this.setState({visible: false})\n          this.props.onFail()\n          this.props.onDestory()\n        }}\n        footer={null}\n        width={660}\n        className=\"password-modal\"\n      >\n        <Box pt={60} pb={68} justifyContent=\"center\">\n          <Box width={480} mx=\"auto\">\n            <Form className=\"upsert-password-form\" onSubmit={(e) => {\n              utils.withLoading(() => this.submit(e))\n            }}>\n              <Box>\n                <Form.Item {...formItemLayout} label=\"\" hasFeedback={false}>\n                  {getFieldDecorator('password', {\n                    rules: [\n                      { required: true, message: '' },\n                      { pattern: /[A-Z]+/, message: '' },\n                      { pattern: /[a-z]+/, message: '' },\n                      { pattern: /[0-9]+/, message: '' },\n                      { min: 8, message: '8' },\n                    ],\n                  })(\n                    <Input.Password size=\"large\" onChange={() => this.checkInput()} />\n                  )}\n                </Form.Item>\n              </Box>\n              <Box mt={26}>\n                <Form.Item {...noLabelLayout}>\n                  <FormErrorInfo errors={this.state.errors} items={errorInfos} />\n                </Form.Item>\n              </Box>\n              <Form.Item {...noLabelLayout}>\n                <Flex mt={20} justifyContent=\"space-between\">\n                  {getFieldDecorator('remember', {})(\n                    <Checkbox style={{color: '#1890ff', fontSize: '14px'}}></Checkbox>\n                  )}\n                  <Text fontSize={14} mx={15} color=\"#1890ff\" onClick={() => {\n                    this.props.onSucess()\n                    this.props.onDestory()\n                    UpsertPasswordModal()\n                  }}\n                    sx={{ cursor: 'pointer' }}\n                  >\n                    \n                  </Text>\n                </Flex>\n                { remember && (<Text lineHeight={'30px'} fontSize={14} color=\"#969696\" ml={'6px'}>24 </Text>) }\n              </Form.Item>\n              <Box mt={26}>\n                <Form.Item {...noLabelLayout}>\n                  <Button size=\"large\" style={{width: '100%'}} type=\"primary\" htmlType=\"submit\" ></Button>\n                </Form.Item>\n              </Box>\n            </Form>\n          </Box>\n        </Box>\n      </Modal>\n    )\n  }\n}\n\nconst WrappedForm = Form.create({ name: 'upsert_password_form' })(Widget);\n\nconst mapStateToProps = ({ metaMask, dexAccount }) => {\n  return {\n    metaMask,\n    dexAccount\n  };\n};\nconst mapDispatchToProps = ({ dexAccount, balance, order }) => {\n  return {\n    updateAccount: dexAccount.updateAccount,\n    startFetchBalance: balance.startFetchBalance,\n    fetchOrders: order.fetchOrders,\n  };\n};\nlet connectedWidget = connect(mapStateToProps, mapDispatchToProps, null, {forwardRef: true})(WrappedForm)\n\nexport default function promisefy (props) {\n  return new Promise((resolve, reject) => {\n    funcfy(connectedWidget, {\n      ...props,\n      onSucess: resolve,\n      onFail: reject,\n    })\n  })\n}","import _ from 'lodash'\nimport moment from \"moment\"\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Modal, Input, Form, Button, notification, Checkbox, Slider } from 'antd'\nimport {\n  Box,\n  Flex,\n  Text\n} from 'rebass'\nimport { Account, config, common, Utils } from 'librarys/lightcone_v3';\nimport funcfy from './funcfyDialog'\nimport { ENUM_ACCOUNT_STATUS } from 'utils/enum'\nimport utils, { renderIf } from 'utils'\nimport api from 'api'\nimport { FormErrorInfo } from 'widgets/Common'\n\nconst errorInfos = [\n  '',\n  '',\n  '',\n  '8',\n  ''\n]\nconst gasLimitInWEI = Number(config.getGasLimitByType(\"create\").gasInWEI)\nconst createAccountFee = Number(config.fromWEI('ETH', config.getFeeByType('create').feeInWEI, 6))\n\nclass Widget extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      errors: [],\n      visible: false,\n      recommendedGasEth: 0,\n    }\n  }\n\n  componentDidMount () {\n    this.setState({ visible: true })\n    this.checkInput()\n    this.props.fetchWalletBalances()\n\n    api.getRecommendedGasPrice().then(resp => {\n      // let gasPriceInWEI = common.formatter.fromGWEI(resp)\n      let gasPriceInWEI = resp\n      let gasEth = config.fromWEI('ETH', Number(gasPriceInWEI) * gasLimitInWEI, 6)\n\n      this.setState({recommendedGasEth: _.floor(gasEth, 6)})\n    })\n  }\n\n  async checkInput () {\n    // onChangeonChange\n    await utils.waitFor(50)\n\n    // \n    let password = this.props.form.getFieldProps('password').value\n    if (!password) {\n      this.setState({errors: errorInfos})\n      return \n    }\n    \n    let errors = this.props.form.getFieldsError()\n    console.info(errors)\n    errors = _.chain(errors)\n    .values()\n    .flatten()\n    .filter(error => error)\n    .value()\n    \n    let confirmPassword = this.props.form.getFieldProps('confirmPassword').value\n    if (password !== confirmPassword) errors.push('')\n    this.setState({errors})\n  }\n\n  async submit (e) {\n    e.preventDefault();\n    let validateFields = utils.promisefy(this.props.form.validateFields)\n    let values\n    try {\n      values = await validateFields()\n    } catch(err) {\n      return\n    }\n    let { password, remember, gasEth } = values\n    let ethAvail = this.getEthAvail()\n    console.info({gasEth, ethAvail})\n    if (gasEth >= ethAvail) return\n  \n    let { type, dexAccount, updateAccount, checkAccountCreated } = this.props\n    const passwordHash = utils.genPasswordHash(dexAccount.address, password);\n    const nonce = await api.getNonce(window.wallet.account);\n    const exchangeAccount = new Account(window.wallet);\n\n    let gasPriceInWEI = config.toWEI('ETH', gasEth) / gasLimitInWEI\n    const resp = await exchangeAccount.createOrUpdateAccount(\n      passwordHash,\n      nonce,\n      common.formatter.toGWEI(gasPriceInWEI)\n    );\n    \n    const signedEthereumTx = resp['signedTx'];\n    const keyPair = resp['keyPair'];\n    \n    if (keyPair.secretKey === undefined) {\n      throw new Error(\n        'Failed to parse the response of account creation.'\n      );\n    }\n    \n    console.log('signedEthereumTx: ', signedEthereumTx);\n    const response = await api.sendDeposit(signedEthereumTx);\n    if (!response) return\n    const data = response['result'];\n\n    // TODO: Remove response\n    console.log('Response of createOrUpdateAccount: ', data);\n\n    notification['success']({\n      duration: 5,\n      message: type === 'modify' ? '40' : '15'\n    });\n\n    updateAccount({\n      // TODO: accountId store?\n      // accountId: relayAccount.accountId,\n      state: ENUM_ACCOUNT_STATUS.CREATING.getValue(),\n      passwordHash,\n      rememberMeStartTime: moment().format('YYYY-MM-DD HH:mm:ss'),\n      rememberMeMinutes: (remember ? 24 : 1) * 60,\n    })\n    checkAccountCreated()\n\n    this.loginSunccess()\n  }\n\n  async loginSunccess () {\n    this.setState({visible: false})\n    this.props.onSucess()\n    this.props.onDestory()\n  }\n\n  getEthAvail () {\n    let { type = 'modify', walletBalance } = this.props\n    let ethBalance = _.find(walletBalance.list, b => b.symbol === 'ETH')\n    let ethAmount = ethBalance ? ethBalance.amount : 0\n    if (type === 'create') {\n      return _.max(ethAmount - createAccountFee, 0)\n    } else {\n      return ethAmount\n    }\n  }\n\n  render () {\n    let { type = 'modify', rate } = this.props\n    const { getFieldDecorator, getFieldsValue } = this.props.form;\n    let { remember, gasEth } = getFieldsValue()\n    let { recommendedGasEth } = this.state\n    let gasEthForShow = gasEth || recommendedGasEth\n    let ethAvail = this.getEthAvail()\n\n    const formItemLayout = {\n      labelCol: { span: 5 },\n      wrapperCol: { span: 19 },\n    };\n    const noLabelLayout = {\n      wrapperCol: { span: 19, offset: 5 },\n    };\n\n    return (\n      <Modal \n        // bodyStyle={{backgroundColor: '#363636', color: '#d0d0d0'}}\n        title={`${type === 'create' ? '' : ''}`}\n        visible={this.state.visible}\n        maskClosable={true}\n        onOk={() => {\n\n        }}\n        onCancel={() => {\n          this.setState({visible: false})\n          this.props.onFail()\n          this.props.onDestory()\n        }}\n        footer={null}\n        width={660}\n        className=\"password-modal\"\n      >\n        <Box pt={60} pb={68} justifyContent=\"center\">\n          <Box width={480} mx=\"auto\">\n            <Form className=\"upsert-password-form\" onSubmit={(e) => {\n              utils.withLoading(() => this.submit(e))\n            }}>\n              <Box>\n                <Form.Item {...formItemLayout} label={`${type === 'create' ? '' : ''}`} hasFeedback={false}>\n                  {getFieldDecorator('password', {\n                    rules: [\n                      { required: true, message: '' },\n                      { pattern: /[A-Z]+/, message: '' },\n                      { pattern: /[a-z]+/, message: '' },\n                      { pattern: /[0-9]+/, message: '' },\n                      { min: 8, message: '8' },\n                    ],\n                  })(\n                    <Input.Password size=\"large\" onChange={() => this.checkInput()} />\n                  )}\n                </Form.Item>\n              </Box>\n              <Box mt={20}>\n                <Form.Item {...formItemLayout} label={`${type === 'create' ? '' : ''}`}>\n                  {getFieldDecorator('confirmPassword', {\n                    rules: [\n                      { required: true, message: '' },\n                      {\n                        validator: (rule, value, callback) => {\n                          const { form } = this.props;\n                          if (value && value !== form.getFieldValue('password')) {\n                            callback('');\n                          } else {\n                            callback();\n                          }\n                        }\n                      }\n                    ],\n                  })(\n                    <Input.Password size=\"large\" onChange={() => this.checkInput()} />\n                  )}\n                </Form.Item>\n              </Box>\n              <Box mt={20}>\n                <Form.Item {...noLabelLayout}>\n                  <FormErrorInfo errors={this.state.errors} items={errorInfos} />\n                </Form.Item>\n              </Box>\n              {renderIf(type === 'create')(\n                <Box mt={20}>\n                  <Form.Item {...formItemLayout} label=''>\n                    <Input size=\"large\" disabled value={`0.005 ETH  $${utils.asLegalMoney(rate, 0.005, 'ETH', 'USD')}`} />\n                  </Form.Item>\n                </Box>\n              )}\n              <Box mt={20}>\n                <Form.Item {...formItemLayout} label=''>\n                  <Input size=\"large\" disabled value={`${gasEthForShow} ETH  $${utils.asLegalMoney(rate, gasEthForShow, 'ETH', 'USD')}`} />\n                </Form.Item>\n              </Box>\n              {renderIf(gasEth >= ethAvail)(\n                <Box mt={15}>\n                  <Form.Item {...noLabelLayout}>\n                    <Text color=\"#F0505A\" lineHeight=\"14px\">{` ${ethAvail}ETH`}</Text>\n                  </Form.Item>\n                </Box>\n              )}\n              <Form.Item {...noLabelLayout}>\n                {getFieldDecorator('gasEth', {\n                  initialValue: recommendedGasEth\n                })(\n                  <Slider min={recommendedGasEth / 3} max={recommendedGasEth * 3} marks={{\n                    [recommendedGasEth / 3]: '',\n                    // [recommendedGasEth]: '',\n                    [recommendedGasEth * 3]: '',\n                  }} step={0.000001} />\n                )}\n              </Form.Item>\n              <Form.Item {...noLabelLayout}>\n                <Flex mt={10} justifyContent=\"space-between\">\n                  {getFieldDecorator('remember', {\n                    initialValue: false\n                  })(\n                    <Checkbox style={{color: '#1890ff', fontSize: '14px'}}></Checkbox>\n                  )}\n                </Flex>\n                { remember && (<Text lineHeight={'30px'} fontSize={14} color=\"#969696\" ml={'6px'}>24 </Text>) }\n              </Form.Item>\n              <Box mt={20}>\n                <Form.Item {...noLabelLayout}>\n                  <Button size=\"large\" style={{width: '100%'}} type=\"primary\" htmlType=\"submit\" ></Button>\n                </Form.Item>\n              </Box>\n            </Form>\n          </Box>\n        </Box>\n      </Modal>\n    )\n  }\n}\n\nconst WrappedForm = Form.create({ name: 'upsert_password_form' })(Widget);\n\nconst mapStateToProps = ({ metaMask, dexAccount, rate, walletBalance }) => {\n  return {\n    metaMask,\n    dexAccount,\n    rate,\n    walletBalance\n  };\n};\nconst mapDispatchToProps = ({ dexAccount, walletBalance }) => {\n  return {\n    updateAccount: dexAccount.updateAccount,\n    checkAccountCreated: dexAccount.checkAccountCreated,\n    fetchWalletBalances: walletBalance.fetchAllBalances,\n  };\n};\nlet connectedWidget = connect(mapStateToProps, mapDispatchToProps, null, {forwardRef: true})(WrappedForm)\n\nexport default function promisefy (props) {\n  console.info({props})\n  return new Promise((resolve, reject) => {\n    funcfy(connectedWidget, {\n      ...props,\n      onSucess: resolve,\n      onFail: reject,\n    })\n  })\n}","import _ from 'lodash'\nimport React, { forwardRef, useEffect, useState, useImperativeHandle, useRef } from 'react'\nimport { connect } from 'react-redux'\nimport { Modal, Form, Input, Select, Button, InputNumber, Slider, notification } from 'antd'\nimport funcfy from './funcfyDialog'\nimport {\n  Box,\n  Flex,\n  Text,\n  Image\n} from 'rebass'\nimport switchSideIcon from 'icons/switchSide.png'\nimport utils, { renderIf } from 'utils'\nimport { config, common } from 'librarys/lightcone_v3';\nimport api from 'api'\nconst gasLimitInWEI = Number(config.getGasLimitByType(\"create\").gasInWEI)\n\nconst { Option } = Select;\n\nconst formItemLayout = {\n  labelCol: { span: 4 },\n  wrapperCol: { span: 20 },\n};\nconst buttonItemLayout = {\n  wrapperCol: { span: 20, offset: 4 },\n};\n\nconst Widget = ({\n  initialSymbol,\n  initialType = 'deposit',\n  onDestory,\n  balance: balanceStore,\n  walletBalance: walletBalanceStore,\n  rate,\n  fetchBalances,\n  fetchWalletBalances,\n  transfer\n}) => {\n  const [visible, setVisible] = useState(false)\n  const [symbol, setSymbol] = useState(initialSymbol)\n  const [type, setType] = useState(initialType)\n  const [transferAmount, setTransferAmount] = useState(0)\n  const [recommendedGasEth, setRecommendedGasEth] = useState(0)\n  const [gasEth, setGasEth] = useState(0)\n\n  useEffect(() => {\n    // fetchBalances()\n    fetchWalletBalances()\n    show()\n\n    api.getRecommendedGasPrice().then(resp => {\n      let gasPriceInWEI = resp\n      let gas = config.fromWEI('ETH', Number(gasPriceInWEI) * gasLimitInWEI, 6)\n      gas = _.floor(gas, 6)\n\n      setRecommendedGasEth(gas)\n      setGasEth(gas)\n    })\n  }, [])\n\n  const show = async () => {\n    setVisible(true)\n  }\n\n  const cancel = async () => {\n    setVisible(false)\n    onDestory()\n  }\n\n  const getAvailable = () => {\n    let available = 0\n    if (symbol) {\n      if (type === 'deposit') {\n        let balance = _.find(walletBalanceStore.list, b => b.symbol === symbol)\n        available = balance ? balance.amount : 0\n      } else {\n        let balance = _.find(balanceStore.list, b => b.token.symbol === symbol)\n        available = balance ? balance.availAmount : 0\n      }\n      available = Number(available)\n      available = _.floor(available, 6)\n    }\n    return available\n  }\n\n  const getWalletEthAvail = () => {\n    let ethBalance = _.find(walletBalanceStore.list, b => b.symbol === 'ETH')\n    return ethBalance ? ethBalance.amount : 0\n  }\n\n  let balances = balanceStore.list\n  let balancesSymbols = balances.map(b => b.token.symbol)\n  let walletBalances = walletBalanceStore.list\n  let walletBalancesSymbols = walletBalances.map(b => b.symbol)\n  let symbolOptions = _.union(balancesSymbols, walletBalancesSymbols)\n\n  //  symbol symbolOptions\n  console.info({symbol})\n  if (!symbol) {\n    if (symbolOptions[0]) {\n      setSymbol(symbolOptions[0])\n    }\n    return <></>\n  }\n\n  // getFeeByType\n  // \n  // \n  // ETH 0\n  let walletEthAvail = getWalletEthAvail()\n  let withdrawFee = config.fromWEI('ETH', config.getFeeByType('withdraw').feeInWEI, 6)\n  \n  // \n  let available = getAvailable()\n  //  ETH \n  if (symbol === 'ETH' && type === 'deposit') {\n    let ethAvailable = _.floor(available - gasEth, 6)\n    available = _.max([ethAvailable, 0])\n  }\n\n  const submit = async (e) => {\n    e.preventDefault()\n\n    if (type === 'withdraw') {\n      if (walletEthAvail < withdrawFee) {\n        return\n      }\n    } else if (type === 'deposit') {\n      if (gasEth >= walletEthAvail) {\n        return\n      }\n    }\n    if (transferAmount <= 0) return\n\n    if (transferAmount > available) {\n      notification.info({ message: '' })\n      return\n    }\n\n    console.info({type, symbol, transferAmount, gasEth})\n    let result = await transfer(type, symbol, transferAmount, gasEth)\n    if (result) {\n      cancel()\n    }\n  }\n\n  return (\n    <Modal\n      title=\"\"\n      visible={visible}\n      maskClosable={true}\n      onCancel={() => cancel()}\n      footer={null}\n      width={660}\n      className=\"password-modal\"\n    >\n      <Box pt={60} pb={68} justifyContent=\"center\">\n        <Box width={480} mx=\"auto\">\n          <Form {...formItemLayout} onSubmit={submit}>\n            <Form.Item label=\"\">\n              <Select style={{color: '#323232'}} defaultValue={symbolOptions[0]} value={symbol} onChange={value => {\n                setSymbol(value)\n                setTransferAmount(0)\n              }} size=\"large\">\n                { symbolOptions.map(symbol => (<Option value={symbol}>{symbol}</Option>)) }\n              </Select>\n            </Form.Item>\n            <Box mt={28}>\n              <Form.Item label=\"\" size=\"large\">\n                <Input style={{color: '#323232'}} value={type === 'deposit' ? '' : ''} size=\"large\" />\n              </Form.Item>\n            </Box>\n            <Image width={32} height={68} src={switchSideIcon}\n              sx={{\n                position: 'absolute',\n                right: '55px',\n                top: '205px',\n                cursor: 'pointer'\n              }} \n              onClick={() => {\n                setType(type === 'deposit' ? 'withdraw' : 'deposit')\n                setTransferAmount(0)\n              }}\n            />\n            <Box mt={28}>\n              <Form.Item label=\"\" size=\"large\">\n                <Input style={{color: '#323232'}} value={type === 'deposit' ? '' : ''} size=\"large\" />\n              </Form.Item>\n            </Box>\n            <Box mt={28}>\n              <Form.Item label=\"\">\n                <InputNumber style={{color: '#323232', width: '100%'}} min={0} value={transferAmount} onChange={value => setTransferAmount(value)} size=\"large\" />\n              </Form.Item>\n            </Box>\n            <Box>\n              <Form.Item {...buttonItemLayout}>\n                <Flex>\n                  <Text color=\"#969696\" fontSize={14}> {available}</Text>\n                  <Text ml={42} fontSize={14} color=\"#1890ff\"\n                    sx={{ cursor: 'pointer' }}\n                    onClick={() => setTransferAmount(available)}\n                  >\n                    \n                  </Text>\n                </Flex>\n              </Form.Item>\n            </Box>\n            {\n              renderIf(available - transferAmount <= 0)(\n                <Box mt={10}>\n                  <Form.Item {...buttonItemLayout}>\n                    <Text mt={15} color=\"#F0505A\" lineHeight=\"14px\">,!</Text>\n                  </Form.Item>\n                </Box>\n              )\n            }\n            {\n              renderIf(type === 'deposit')(\n                <>\n                  <Box mt={20}>\n                    <Form.Item label=''>\n                      <Input size=\"large\" disabled value={`${gasEth} ETH $${utils.asLegalMoney(rate, gasEth, 'ETH', 'USD')}`} />\n                    </Form.Item>\n                  </Box>\n                  {renderIf(gasEth >= walletEthAvail)(\n                    <Box mt={15}>\n                      <Form.Item {...buttonItemLayout}>\n                        <Text color=\"#F0505A\" lineHeight=\"14px\">{` ${walletEthAvail}ETH`}</Text>\n                      </Form.Item>\n                    </Box>\n                  )}\n                  <Box mt={28}>\n                    <Form.Item {...buttonItemLayout}>\n                      <Slider min={recommendedGasEth / 3} max={recommendedGasEth * 3} marks={{\n                          [recommendedGasEth / 3]: '',\n                          // [recommendedGasEth]: '',\n                          [recommendedGasEth * 3]: '',\n                        }}\n                        step={0.000001} value={gasEth} onChange={value => setGasEth(value)}\n                      />\n                    </Form.Item>\n                  </Box>\n                </>\n              )\n            }\n            {\n              renderIf(type === 'withdraw')(\n                <Box mt={28}>\n                  <Form.Item label=\"\">\n                    <Input style={{color: '#323232', width: '100%'}} disabled value={'0.002ETH'} size=\"large\" />\n                  </Form.Item>\n                  {\n                    renderIf(walletEthAvail < withdrawFee)(\n                      <Form.Item {...buttonItemLayout}>\n                        <Text mt={15} color=\"#F0505A\" lineHeight=\"14px\">{` ${withdrawFee}ETH  ${walletEthAvail}ETH `}</Text>\n                      </Form.Item>\n                    )\n                  }\n                  {\n                    renderIf(walletEthAvail >= withdrawFee)(\n                      <Form.Item {...buttonItemLayout}>\n                        <Text mt={15} color=\"#F0505A\" lineHeight=\"14px\">GASETH</Text>\n                      </Form.Item>\n                    )\n                  }\n                </Box>\n              )\n            }\n            <Box mt={20}>\n              <Form.Item {...buttonItemLayout}>\n                <Button size=\"large\" style={{width: '100%'}} type=\"primary\" htmlType=\"submit\"></Button>\n              </Form.Item>\n            </Box>\n          </Form>\n        </Box>\n      </Box>\n    </Modal>\n  )\n}\n\nconst mapStateToProps = ({ balance, walletBalance, rate }) => {\n  return {\n    balance,\n    walletBalance,\n    rate\n  };\n};\n\nconst mapDispatchToProps = ({ balance, transfer, walletBalance }) => {\n  return {\n    fetchBalances: balance.fetchBalances,\n    fetchWalletBalances: walletBalance.fetchAllBalances,\n    transfer: (type, symbol, amount, gasEth) => {\n      let gasPriceInWEI = config.toWEI('ETH', gasEth) / gasLimitInWEI\n      let gasPrice = common.formatter.toGWEI(gasPriceInWEI)\n      return utils.withLoading(() => transfer[type]({symbol, amount, gasPrice}))\n    }\n  };\n};\n\nlet connectedWidget = connect(mapStateToProps, mapDispatchToProps, null, {forwardRef: true})(Widget)\n\nexport default (props) => funcfy(connectedWidget, props)\n","import _ from 'lodash'\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom'\nimport PropTypes from 'prop-types'\nimport { Modal } from 'antd';\n\nclass InnerModal extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      visible: false,\n    }\n  }\n\n  componentDidMount () {\n    this.show()\n  }\n\n  componentWillUnmount() {\n  }\n  \n  async show () {\n    await this.setState({\n      visible: true\n    })\n  }\n\n  render () {\n    let {renderContent, onOk, onCancel, ...otherProps} = this.props\n    return (\n      <Modal\n        visible={this.state.visible}\n        onOk={async () => {\n          try {\n            await onOk()\n            this.setState({ visible: false })\n          } catch(e) {}\n        }}\n        onCancel={async () => {\n          await onCancel()\n          this.setState({ visible: false })\n        }}\n        {...otherProps}\n      >\n        {renderContent()}\n      </Modal>\n    )\n  }\n}\n\nInnerModal.propTypes = {\n  renderContent: PropTypes.func.isRequired,\n  otherProps: PropTypes.object\n}\n\nexport function funcfy (props) {\n  var div = document.createElement('div')\n  \n  function destroy () {\n    var unmountResult = ReactDOM.unmountComponentAtNode(div)\n    if (unmountResult && div.parentNode) {\n        div.parentNode.removeChild(div)\n    }\n  }\n\n  function render () {\n    ReactDOM.render(\n      <InnerModal {...props} onDestory={() => destroy()}></InnerModal>\n    , div)\n  }\n\n  render()\n}\n\nexport default function promisefy (props) {\n  return new Promise((resolve, reject) => {\n    funcfy({\n      ...props,\n      onOk: resolve,\n      onCancel: reject,\n    })\n  })\n}","import _ from 'lodash';\nimport React, { forwardRef, useEffect, useState, useImperativeHandle, Fragment } from 'react';\nimport { connect } from 'react-redux';\nimport { SignInModal, UpsertPasswordModal } from '../Dialog'\nimport PromisefyConfirm from 'components/PromisefyConfirm'\nimport {\n  Box,\n  Flex,\n  Text\n} from 'rebass'\nimport { Input, Button } from 'antd';\nimport { ENUM_ACCOUNT_STATUS } from 'utils/enum'\nimport { store } from 'store'\nvar detect = require('detect-browser').detect;\n\nconst Widget = forwardRef(({\n  disabled,\n  onSuccess = () => {},\n  children,\n  metaMask,\n  dexAccount,\n  signIn,\n  initAccountFromMetaMask\n}, ref) => {\n\n  const checkBrowser = () => {\n    const browser = detect()\n    // TODO 360\n    let valid = _.includes(['firefox', 'chrome', '360'], browser.name)\n    if (valid) return true\n\n    return PromisefyConfirm({\n      bodyStyle:{backgroundColor: '#363636', color: '#d0d0d0'},\n      renderContent: () => (\n        <Box px={20}>\n          <Text>MetaMaskMetaMask</Text>\n          <Text>360</Text>\n          <Text></Text>\n        </Box>\n      ),\n      maskClosable: true,\n      footer: null,\n      width: 800\n    })\n  }\n\n  const checkMetaMaskInstalled = () => {\n    let valid = metaMask.installed\n    if (valid) return true\n\n    return PromisefyConfirm({\n      // title: 'MetaMask',\n      renderContent: () => (\n        <Box px={20}>\n          <Text>MetaMask</Text>\n          <Text>MetaMask</Text>\n          <Text></Text>\n        </Box>\n      ),\n      maskClosable: true,\n      footer: null,\n      width: 800\n    })\n  }\n\n  const checkNetwork = () => {\n    let { isDesiredNetwork } = metaMask\n\n    let invalidText = ''\n\n    if (!isDesiredNetwork) {\n      invalidText = 'MetaMask'\n    }\n\n    if (!invalidText) return true\n\n    return PromisefyConfirm({\n      // title: 'MetaMask',\n      renderContent: () => (\n        <Box px={20}>\n          <Text>{invalidText}</Text>\n        </Box>\n      ),\n      maskClosable: true,\n      footer: null,\n      width: 800\n    })\n  }\n\n  const checkAddress = () => {\n    let rootState = store.getState()\n    let { address } = rootState.dexAccount\n\n    let invalidText = ''\n\n    if (!address) {\n      invalidText = 'MetaMask'\n    }\n\n    if (!invalidText) return true\n\n    return PromisefyConfirm({\n      // title: 'MetaMask',\n      renderContent: () => (\n        <Box px={20}>\n          <Text>{invalidText}</Text>\n        </Box>\n      ),\n      maskClosable: true,\n      footer: null,\n      width: 800\n    })\n  }\n\n  const loadMetamask = async () => {\n    let { address, passwordHash } = dexAccount\n    if (!address || !passwordHash) {\n      await initAccountFromMetaMask()\n    }\n  }\n\n  const checkSignedIn = async () => {\n    let { address, passwordHash, state } = dexAccount\n    let signined = address && passwordHash\n    if (signined) return true\n\n    if (state === ENUM_ACCOUNT_STATUS.UNCREATED.getValue()) {\n      try {\n        await UpsertPasswordModal({type: 'create'})\n        return true\n      } catch (e) {\n        return false\n      }\n    } else if (state === ENUM_ACCOUNT_STATUS.UNSIGNED.getValue()) {\n      try {\n        await SignInModal()\n        return true\n      } catch (e) {\n        return false\n      }\n    }\n  }\n\n  useImperativeHandle(ref, () => ({\n    checkBrowser,\n    checkSignedIn,\n    check\n  }))\n\n  const check = async () => {\n    //  metamask\n    await checkBrowser()\n    //  metamask\n    await checkMetaMaskInstalled()\n    // \n    await checkNetwork()\n    //  MetaMask  MetaMask \n    await loadMetamask()\n    // metamask \n    await checkAddress()\n    // \n    await checkSignedIn()\n    return true\n  }\n\n  return (\n    <div onClick={async () => {\n      if (disabled) return\n\n      let isValid = await check()\n      if (isValid) {\n        onSuccess()\n      }\n    }}>\n      {children}\n    </div>\n  )\n})\n\n\nconst mapStateToProps = ({ metaMask, dexAccount }) => {\n  return {\n    metaMask,\n    dexAccount\n  };\n};\n\nconst mapDispatchToProps = ({ dexAccount, metaMask }) => {\n  return {\n    initAccountFromMetaMask: metaMask.initAccountFromMetaMask,\n    signIn: dexAccount.signIn\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps, null, {forwardRef: true})(Widget)","import _ from 'lodash'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text,\n} from 'rebass'\nimport { Table, Input, Icon } from 'antd';\nimport utils from 'utils';\n\nconst Widget = ({errors, items}) => {\n  return (\n    <Box>\n      <Text fontSize={14} color=\"#969696\" ml={'6px'}>:</Text>\n      {\n        _.map(items, item => {\n          let error = !!_.includes(errors, item)\n          return (\n            <Flex key={item} alignItems=\"center\">\n              {\n                utils.renderIf(error)(\n                  <Icon style={{color: \"#F0505A\"}} type=\"close\" />\n                )\n              }\n              {\n                utils.renderIf(!error)(\n                  <Icon style={{color: \"#50BE8c\"}} type=\"check\" />\n                )\n              }\n              <Text lineHeight={'30px'} fontSize={14} line color=\"#969696\" ml={'6px'}>{item}</Text>\n            </Flex>\n          )\n        })\n      }\n    </Box>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget);","import React from 'react';\nimport _ from 'lodash';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Menu, Dropdown, Button } from 'antd';\nimport { BillPreCheck } from './Common'\nimport { renderIf } from 'utils';\nimport metamaskLogo from 'metamask.png';\nimport wedexLogo from 'icons/wedexLogo.svg';\nimport { ENUM_ACCOUNT_STATUS } from 'utils/enum'\nimport { UpsertPasswordModal } from 'widgets/Dialog'\n\nclass TopNav extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activitis: [\n        { title: 'WEDEX926', link: 'http://www.baidu.com' },\n        { title: '10', link: 'http://www.baidu.com' },\n        { title: 'WEDEX926', link: 'http://www.baidu.com' },\n      ]\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  login() {\n    this.billPreCheck.check()\n  }\n\n  async changePassword () {\n    this.billPreCheck.checkSignedIn()\n    await UpsertPasswordModal()\n  }\n  \n  async clearStore () {\n    this.props.clearAccountInfo()\n    this.props.history.push('/')\n  }\n\n  renderNav () {\n    const menus = {\n      mine: [\n        { title: '', link: '/mine/balance' },\n        { title: '', link: '/mine/transfer' },\n        { title: '', link: '/mine/order' },\n        { title: 'API Key', link: '/mine/apikey' },\n        { title: '', link: '/mine/award' },\n        { title: '', callback: () => this.changePassword() },\n        { title: '', callback: () => this.clearStore() },\n      ],\n      activity: [\n        { title: '', newWindow: true, link: 'https://wedex.io/support/announcement' },\n        { title: '', newWindow: true, link: 'https://wedex.io/support/guide' },\n        { title: '', newWindow: true, link: 'https://wedex.io/support/faq' },\n        // { title: '', newWindow: true, link: '' },\n        { title: '', newWindow: true, link: 'https://wedex.io/support/about' },\n      ]\n    }\n    const genMenu = subMenus => (\n      <Menu onClick={({key: index}) => {\n        let menu = subMenus[index]\n        if (menu.link) {\n          // newWindow\n          // TODO: \n          if (menu.newWindow) {\n            window.open(menu.link, '_blank')\n          } else {\n            this.props.history.push(menu.link)\n          }\n        } else if (menu.callback) {\n          menu.callback()\n        }\n      }}>\n      {\n        subMenus.map((menu, index) => (\n          <Menu.Item key={index}>\n            <Text fontSize={[0, 0, 0]} color='hint'>{ menu.title }</Text>\n          </Menu.Item>\n        ))\n      }\n      </Menu>\n    )\n\n    let { address, passwordHash, state } = this.props.dexAccount\n    let { isDesiredBrowser, isDesiredNetwork } = this.props.metaMask\n    let signined = address && passwordHash\n    let accountCreating = ENUM_ACCOUNT_STATUS.CREATING.equals(state)\n\n    return (\n      <Flex alignItems='center'>\n        {renderIf(isDesiredNetwork && signined && !accountCreating)(\n          <Dropdown overlay={genMenu(menus.mine)} placement=\"bottomCenter\" overlayClassName=\"nav-menu\">\n            <Flex px={25} height={40} alignItems='center'>\n              <Image src={metamaskLogo} width={[25, 25, 25]} height={[25, 25, 25]} />\n              <Box pl={3} fontSize={`13px`} fontWeight=\"bold\">{`${_.take(address, 6).join('')}...${_.takeRight(address, 4).join('')}`}</Box>\n            </Flex>\n          </Dropdown>\n        )}\n        {renderIf(!isDesiredBrowser || !isDesiredNetwork || !signined || accountCreating)(\n          <Flex px={25} height={40} alignItems='center' sx={{ cursor: 'pointer' }}\n            onClick={() => this.login()}\n          >\n            {/* <Box pl={3} fontSize={`13px`} fontWeight=\"bold\">{!isDesiredBrowser ? 'MetaMask' : !isDesiredNetwork ? '' : accountCreating ? '' : 'MetaMask'}</Box> */}\n            <Box pl={3} fontSize={`13px`} fontWeight=\"bold\">{accountCreating ? '' : 'MetaMask'}</Box>\n          </Flex>\n        )}\n        <Box height={40} lineHeight={'40px'} px={25} fontSize={`13px`} fontWeight=\"bold\"></Box>\n        <Dropdown overlay={genMenu(menus.activity)} placement=\"bottomCenter\" overlayClassName=\"nav-menu\">\n          <Box height={40} lineHeight={'40px'} pl={25} fontSize={`13px`} fontWeight=\"bold\"></Box>\n        </Dropdown>\n        {/* <Dropdown overlay={genMenu(menus.activity)} placement=\"bottomCenter\" overlayClassName=\"nav-menu\">\n          <Box height={40} lineHeight={'40px'} px={25} fontSize={`13px`} fontWeight=\"bold\"></Box>\n        </Dropdown> */}\n        <BillPreCheck ref={ref => this.billPreCheck = ref}></BillPreCheck>\n      </Flex>\n    )\n  }\n\n  render() {\n    return (\n      <Box>\n        <Flex variant='topNav' px={15}>\n          <Flex width={120} alignItems='center' justifyContent='start' variant=\"clickable\" onClick={() => {\n            this.props.history.push(`/`)\n          }}>\n            <Image src={wedexLogo} width={150} />\n            {/* <Text color=\"white\" ml={2} fontSize={3}>WEDEX</Text> */}\n          </Flex>\n          <Flex alignItems='center' flex={1}>\n            {/* {\n              _.map(this.state.activitis, (activity, index) => (\n                <Text key={index} mr={40} fontSize={[0, 0, 0]} color='hint'>{ activity.title }</Text>\n              ))\n            } */}\n          </Flex>\n          { this.renderNav() }\n        </Flex>\n        <Box as='hr' variant='divider.topNav'\n          // sx={{\n          // }}\n        />\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ dexAccount, metaMask }) => {\n  return {\n    dexAccount,\n    metaMask\n  };\n};\n\nconst mapDispatchToProps = ({ dexAccount }) => {\n  return {\n    clearAccountInfo: dexAccount.clearAccountInfo\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TopNav))","import _ from 'lodash'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport numeral from 'numeral'\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text,\n} from 'rebass'\nimport { Table, Button, Input, Icon, AutoComplete } from 'antd';\nconst { Option } = AutoComplete;\n\nclass Pair extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      fuzzy: '',\n    }\n  }\n\n  componentDidMount() {\n  }\n  \n  renderOption(item) {\n    return (\n      <Option key={item.category} text={item.category}>\n        <div className=\"global-search-item\">\n          <span className=\"global-search-item-desc\">\n            Found {item.query} on\n            <a\n              href={`https://s.taobao.com/search?q=${item.query}`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              {item.category}\n            </a>\n          </span>\n          <span className=\"global-search-item-count\">{item.count} results</span>\n        </div>\n      </Option>\n    );\n  }\n\n  onChange(pagination, filters, sorter, extra) {\n    let { order = 'market', field = 'descend' } = sorter\n    this.props.updateFilterCond({\n      sort: order,\n      sortDirection: order === 'descend' ? 'desc' : 'asc'\n    })\n  }\n\n  render() {\n    let { markets, setCurrentTab, setCurrentMarket, starMarket } = this.props\n    let { fuzzy } = this.state\n    let pairs = _.chain(markets.currentMarkets)\n                  .filter(({market}) => _.includes(_.upperCase(market), _.upperCase(fuzzy)))\n                  .value()\n\n    const columns = [\n      {\n        align: 'left',\n        title: '',\n        key: 'star',\n        width: 20,\n        render: (unused, record) => {\n          let haveStar = _.find(markets.stars, {market: record.market})\n          return (<Icon type=\"star\" theme=\"filled\"  style={{ fontSize: '14px', color: haveStar ? \"#0064FF\": \"#3c3c50\" }} />)\n        },\n        onCell: (record, rowIndex) => {\n          return {\n            onClick: event => {\n              event.stopPropagation()\n              starMarket(record)\n            }\n          }\n        }\n      },\n      {\n        align: 'left',\n        title: '',\n        dataIndex: 'market',\n        width: 80,\n        sorter: (a, b) => a.market - b.market,\n        render: (unused, record) => (<Flex>{record.baseToken}<Text color=\"hint\">/{record.quoteToken}</Text></Flex>),\n      },\n      {\n        align: 'right',\n        title: '',\n        dataIndex: 'latest',\n        width: 100,\n        sorter: (a, b) => a.name - b.name,\n        render: (latest) => (<Text>{latest}</Text>),\n      },\n      {\n        align: 'right',\n        title: ' 24H',\n        dataIndex: 'variation',\n        sorter: (a, b) => a.variation - b.variation,\n        render: (variation) => (<Text color={variation >= 0 ? 'success' : 'failure'}>{numeral(variation).format('+0.00%')}</Text>),\n      },\n    ];\n\n    return (\n      <Box {...this.props} variant='noScrollbar' overflowY='auto'>\n        <Flex alignItems='center' justifyContent='space-around'>\n          {\n            markets.tabs.map(tab => (\n              <Flex key={tab} width={90} height={40} alignItems='center' justifyContent='center' sx={{\n                borderBottom: '2px solid',\n                borderColor: tab === markets.currentTab ? 'blue': 'background',\n                cursor: 'pointer'\n              }} onClick={() => setCurrentTab(tab)}>\n                <Text fontSize={0} fontWeight={'bold'}>{tab}</Text>\n              </Flex>\n            ))\n          }\n        </Flex>\n        <Box px={14} pt={18} pb={12}>\n          {/* <AutoComplete\n            className=\"pairs-search\"\n            dataSource={pairs}\n            onSelect={pair => {\n              let [base, quote] = pair.split('-')\n              setCurrentTab(quote)\n              let currentMarket = _.find(markets.markets, {market: pair})\n              setCurrentMarket(currentMarket)\n            }}\n            onSearch={value => this.setState({ fuzzy: value })}\n            optionLabelProp=\"text\"\n          >\n            <Input.Search\n              className=\"pairs-search\"\n              placeholder=\"\"\n              onSearch={value => this.setState({ fuzzy: value })}\n              style={{ height: 36, color: 'white' }}\n            />\n          </AutoComplete> */}\n          <Input.Search\n            className={`pairs-search ${fuzzy && 'has-content'}`}\n            placeholder=\"\"\n            style={{ height: 36, color: 'white' }}\n            allowClear={true}\n            onChange={e => this.setState({ fuzzy: e.currentTarget.value })}\n          />\n        </Box>\n        <Box px={14}>\n          <Table columns={columns} dataSource={pairs} align=\"right\"\n            className=\"exchange-table\"\n            pagination={false}\n            onRow={(record, rowIndex) => {\n              return {\n                onClick: event => {\n                  setCurrentMarket(record)\n                }\n              }\n            }}\n            locale={{emptyText: ''}}\n            onChange={(...params) => this.onChange(...params)}\n          />\n        </Box>\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({markets}) => {\n  return {\n    markets\n  };\n};\n\nconst mapDispatchToProps = ({markets}) => {\n  return {\n    setCurrentTab: markets.setCurrentTab,\n    setCurrentMarket: markets.setCurrentMarket,\n    starMarket: markets.starMarket,\n    updateFilterCond: markets.updateFilterCond\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Pair);","import moment from 'moment';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Table, Input, Icon } from 'antd';\n\nclass Trade extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tableHeight: 100\n    }\n  }\n\n  onWindowResize = function () {\n    let tableDom = document.getElementsByClassName('trade-panel')[0]\n    if (!tableDom) return\n    this.setState({\n      tableHeight: tableDom.offsetHeight\n    })\n  }.bind(this)\n\n  componentDidMount() {\n    window.addEventListener('resize', this.onWindowResize);\n    this.onWindowResize()\n    // fix: trade dom \n    setTimeout(() => this.onWindowResize(), 1000)\n  }\n  \n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onWindowResize);\n  }\n\n  render() {\n    let { trade, markets } = this.props\n    let { tableHeight } = this.state\n\n    let currentMarket = markets.currentMarket\n    if (!currentMarket) return <></>\n\n    const columns = [\n      {\n        align: 'left',\n        title: `(${currentMarket.quoteToken})`,\n        dataIndex: 'price',\n        width: 96,\n        render: (price, row) => (\n          <Text color={row.side === 'BUY' ? \"success\" : \"failure\"}>{row.price}</Text>\n        )\n      },\n      {\n        align: 'right',\n        title: `(${currentMarket.baseToken})`,\n        dataIndex: 'size',\n        width: 96,\n      },\n      {\n        align: 'right',\n        title: '',\n        dataIndex: 'timestamp',\n        render: (unused, record) => {\n          return (<Text>{moment(record.timestamp).format('HH:mm:ss')}</Text>)\n        }\n      },\n    ];\n\n    return (\n      <Box {...this.props} className=\"trade-panel\">\n        <Flex height={40} alignItems=\"center\" justifyContent=\"space-between\">\n          <Text fontSize={0} fontWeight=\"bold\"></Text>\n          {/* <Text fontSize={0} color='hint'></Text> */}\n        </Flex>\n        <Table columns={columns} dataSource={trade.list} align=\"right\"\n          scroll={{ y: tableHeight - 72 }}\n          className=\"exchange-table\"\n          pagination={false}\n          locale={{emptyText: ''}}\n        />\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ trade, markets }) => {\n  return {\n    trade,\n    markets\n  };\n};\n\nconst mapDispatchToProps = ({ trade }) => {\n  return {\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Trade);","import api from 'api';\nimport { config as lightcone_v3_config } from 'librarys/lightcone_v3';\nimport { ENUM_INTERVAL_TYPE } from 'utils/enum'\nimport { dispatch } from 'store'\n\n// resolution  https://zlq4863947.gitbook.io/tradingview/fu-lu/resolution\nlet supportedResolutions = ENUM_INTERVAL_TYPE.getOptions().map(option => option.value)\n// \n// setInterval(async () => {\n//   //  10s \n//   for (let key in _subscribers) {\n//     let sub = _subscribers[key]\n//     let { symbolInfo, listener } = sub\n//     let market = symbolInfo['name'];\n\n//     // var candles = await getCandlestick(market, '1min', 1);\n//     var candles = await getCandlestick(market, '1min');\n//     if (candles.length === 0) return\n\n//     console.info('_subscribers', {candles})\n//     candles.reverse();\n\n//     let startTimestamp;\n//     let endTimestamp;\n//     let quoteToken;\n\n//     var newCandles = {};\n//     for (var i = 0; i < candles.length; i = i + 1) {\n//       const candle = candles[i];\n//       const tokens = market.split('-');\n//       quoteToken = tokens[1];\n\n//       if (startTimestamp === undefined) {\n//         startTimestamp = candle['start'];\n//       } else {\n//         endTimestamp = candle['start'];\n//       }\n\n//       const start = candle['start'];\n\n//       let parsedCandle = {\n//         time: start,\n//         low: Number(candle['low']),\n//         high: Number(candle['high']),\n//         open: Number(candle['open']),\n//         close: Number(candle['close']),\n//         volume: lightcone_v3_config.fromWEI(quoteToken, candle['volume'], 8)\n//       };\n//       newCandles[start] = parsedCandle;\n//     }\n\n//     var newMoreCandles = [];\n//     var lastCandle = newCandles[startTimestamp];\n//     for (var i = startTimestamp; i <= endTimestamp; i = i + 60 * 1000) {\n//       if (newCandles[i] === undefined) {\n//         lastCandle['time'] = i;\n//         newMoreCandles.push(Object.assign({}, lastCandle));\n//       } else {\n//         const candle = newCandles[i];\n//         newMoreCandles.push(candle);\n//         lastCandle = {\n//           time: candle['start'],\n//           low: Number(candle['close']),\n//           high: Number(candle['close']),\n//           open: Number(candle['close']),\n//           close: Number(candle['close']),\n//           volume: 0\n//         };\n//       }\n//     }\n\n//     console.info('#########latastCandel', newMoreCandles[newMoreCandles.length - 1])\n//     listener(newMoreCandles[newMoreCandles.length - 1]);\n//   }\n// }, 10 * 1000)\n\nexport default {\n  onReady: cb => {\n    console.log('=====onReady running: ');\n    console.info(supportedResolutions)\n    setTimeout(() => cb({\n      supported_resolutions: supportedResolutions\n    }), 0);\n  },\n  searchSymbols: (userInput, exchange, symbolType, onResultReadyCallback) => {\n    console.log('====Search Symbols running');\n  },\n  resolveSymbol: (\n    symbolName,\n    onSymbolResolvedCallback,\n    onResolveErrorCallback\n  ) => {\n    // expects a symbolInfo object in response\n    console.log(' Symbol', symbolName);\n    // console.log('resolveSymbol:',{symbolName})\n    let quoteSymbol = symbolName.split('-')[1]\n    let quoteToken = lightcone_v3_config.getTokenBySymbol(quoteSymbol)\n\n    var symbol_stub = {\n      name: symbolName,\n      description: '',\n      type: 'crypto',\n      session: '24x7',\n      timezone: 'Etc/UTC',\n      exchange: '',\n      minmov: 1,\n      pricescale: Math.pow(10, quoteToken.precision),\n      // has_intradaytrue\n      has_intraday: true,\n      // :  has_intraday  true intraday_multipliers '1D''1D'\n      intraday_multipliers: supportedResolutions.filter(interval => interval < 24 * 60),\n      supported_resolution: supportedResolutions,\n      volume_precision: quoteToken.precision,\n      data_status: 'streaming',\n      has_intraday: true,\n      has_seconds: true,\n      has_daily: true,\n      has_weekly_and_monthly: true,\n      // :  bar MV \n      // has_empty_bars: true\n    };\n\n    /*\n    var split_data = symbolName.split(/[:/]/);\n\t\tif (split_data[2].match(/USD|EUR|JPY|AUD|GBP|KRW|CNY/)) {\n\t\t\tsymbol_stub.pricescale = 100\n    }\n    */\n    setTimeout(function() {\n      onSymbolResolvedCallback(symbol_stub);\n      console.log('Resolving that symbol....', symbol_stub);\n    }, 0);\n\n    // onResolveErrorCallback('Not feeling it today')\n  },\n  getBars: function(\n    symbolInfo,\n    resolution,\n    from,\n    to,\n    onHistoryCallback,\n    onErrorCallback,\n    firstDataRequest\n  ) {\n    console.log(\n      `K ${new Date(from * 1000).toLocaleString()} --- ${new Date(to * 1000).toLocaleString()} --- resolution: ${resolution}`\n    );\n\n    let market = symbolInfo['name'];\n\n    (async () => {\n      var candles = await api.getCandlestick({\n        limit: 200,\n        market,\n        interval: resolution,\n        start: from * 1000,\n        end: to * 1000,\n      })\n      candles.reverse()\n      console.log('candles:', candles);\n\n      if (candles.length === 0) {\n        onHistoryCallback([], { noData: true });\n        return\n      }\n\n      let quoteSymbol = market.split('-')[1]\n      let quoteToken = lightcone_v3_config.getTokenBySymbol(quoteSymbol)\n\n      let startTimestamp = candles[0].start\n      let endTimestamp = _.last(candles).start\n\n      console.info('tradingview start ---> ' + (new Date(from * 1000)).toLocaleString())\n      console.info('relay start       ---> ' + (new Date(startTimestamp)).toLocaleString())\n      console.info('relay end         ---> ' + (new Date(endTimestamp)).toLocaleString())\n      console.info('tradingview end   ---> ' + (new Date(to * 1000)).toLocaleString())\n\n      //  MA  has_empty_bars  tradingview \n      // : has_empty_bars MA \n      let parsedCandles = _.chain(candles)\n        // : \n        // 8~108~10:09 10~10:09\n        // tradingview \n        //  limit \n        .filter(candle => candle.start >= from * 1000 && candle.start <= to * 1000)\n        .map(candle => {\n          return {\n            time: candle.start,\n            high: Number(candle['high']),\n            low: Number(candle['low']),\n            open: Number(candle['open']),\n            close: Number(candle['close']),\n            volume: lightcone_v3_config.fromWEI(quoteToken.symbol, candle['volume'], quoteToken.precision)\n          }\n        })\n        .value()\n      \n      console.log('candles:', parsedCandles);\n      // if (firstDataRequest) {\n      //   var lastBar = bars[bars.length - 1]\n      //   history[symbolInfo.name] = {lastBar: lastBar}\n      // }\n      if (parsedCandles.length) {\n        onHistoryCallback(parsedCandles, { noData: false });\n      } else {\n        onHistoryCallback(parsedCandles, { noData: true });\n      }\n    })();\n  },\n  subscribeBars: (\n    symbolInfo,\n    resolution,\n    onRealtimeCallback,\n    subscribeUID,\n    onResetCacheNeededCallback\n  ) => {\n    console.log('ksocket', {subscribeUID, onRealtimeCallback, resolution, symbolInfo});\n    dispatch.candleStick.subscribeBars({subscribeUID, onRealtimeCallback, resolution, symbolInfo})\n  },\n  unsubscribeBars: subscriberUID => {\n    console.log('ksocket');\n    dispatch.candleStick.unsubscribeBars(subscriberUID)\n  },\n  calculateHistoryDepth: (resolution, resolutionBack, intervalBack) => {\n    // https://github.com/tradingview/charting_library/wiki/JS-Api#calculatehistorydepthresolution-resolutionback-intervalback\n    //optional\n    // console.log(\n    //   '=====calculateHistoryDepth running: ',\n    //   resolution,\n    //   resolutionBack,\n    //   intervalBack\n    // );\n    // // while optional, this makes sure we request 24 hours of minute data at a time\n    // // CryptoCompare's minute data endpoint will throw an error if we request data beyond 7 days in the past, and return no data\n    // return resolution < 60\n    //   ? { resolutionBack: 'D', intervalBack: '14' }\n    //   : undefined;\n\n    // : 200 \n    return {\n      resolutionBack: 'D',\n      intervalBack: _.floor(resolution * 200 / 60 / 24, 2)\n    }\n  },\n  // getMarks: (symbolInfo, startDate, endDate, onDataCallback, resolution) => {\n  //   //optional\n  //   console.log('=====getMarks running');\n  // },\n  // getTimeScaleMarks: (\n  //   symbolInfo,\n  //   startDate,\n  //   endDate,\n  //   onDataCallback,\n  //   resolution\n  // ) => {\n  //   //optional\n  //   console.log('=====getTimeScaleMarks running');\n  // },\n  // getServerTime: cb => {\n  //   console.log('=====getServerTime running: ', cb);\n  // }\n};\n","import * as React from 'react';\nimport './index.less';\nimport { widget } from 'charting_library/charting_library.min';\nimport { ENUM_INTERVAL_TYPE } from 'utils/enum'\nimport Datafeed from './api/';\n\nfunction getLanguageFromURL() {\n  const regex = new RegExp('[\\\\?&]lang=([^&#]*)');\n  const results = regex.exec(window.location.search);\n  return results === null\n    ? null\n    : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n}\n\n// Tutorial: https://medium.com/@jonchurch/tradingview-charting-library-js-api-setup-for-crypto-part-1-57e37f5b3d5a\nexport class TVChartContainer extends React.PureComponent {\n  static defaultProps = {\n    // : \n    interval: ENUM_INTERVAL_TYPE.HOUR_1.getValue(),\n    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n    containerId: 'tv_chart_container',\n    datafeedUrl: 'https://demo_feed.tradingview.com',\n    libraryPath: '/charting_library/',\n    chartsStorageUrl: 'https://saveload.tradingview.com',\n    chartsStorageApiVersion: '1.1',\n    clientId: 'tradingview.com',\n    userId: 'public_user_id',\n    fullscreen: false,\n    autosize: true,\n    studiesOverrides: {}\n  };\n\n  tvWidget = null;\n\n  componentDidMount() {\n    const widgetOptions = {\n      debug: false,\n      symbol: this.props.market,\n      // BEWARE: no trailing slash is expected in feed URL\n      datafeed: Datafeed,\n\n      // https://github.com/tradingview/charting_library/wiki/Resolution\n      interval: this.props.interval,\n\n      timezone: this.props.timezone,\n      container_id: this.props.containerId,\n      library_path: this.props.libraryPath,\n      frameborder: 0,\n      toolbar_bg: '#0a0e1e',\n      custom_css_url : \"tradingview.css\",\n      overrides: {\n        \"mainSeriesProperties.style\": 1,\n        \"symbolWatermarkProperties.color\" : \"#944\",\n        \"volumePaneSize\": \"tiny\",\n        'paneProperties.background': \"#0a0e1e\",\n      },\n\n      // https://github.com/tradingview/charting_library/wiki/Localization\n      locale: getLanguageFromURL() || 'en',\n      \n      // https://github.com/tradingview/charting_library/wiki/Featuresets\n      disabled_features: [\n        'use_localstorage_for_settings',\n        // 'header_widget',\n        // 'left_toolbar',\n        'create_volume_indicator_by_default',\n        'go_to_date',\n        'source_selection_markers',\n        'main_series_scale_menu',\n        'source_selection_markers',\n        'timeframes_toolbar',\n        'header_symbol_search',\n      ],\n      enabled_features: ['move_logo_to_main_pane'],\n      charts_storage_url: this.props.chartsStorageUrl,\n      charts_storage_api_version: this.props.chartsStorageApiVersion,\n      client_id: this.props.clientId,\n      user_id: this.props.userId,\n      fullscreen: this.props.fullscreen,\n      autosize: this.props.autosize,\n      studies_overrides: this.props.studiesOverrides,\n      theme: 'Dark',\n\n      time_frames: [\n        /*\n        {\n          text: '1min',\n          resolution: '1',\n          description: '1 minute',\n          title: '1min'\n        },\n        */\n        // { text: '5min', resolution: '5', description: '5 Minutes', title: '5Min' },\n        // { text: '30min', resolution: '30', description: '30 Minutes', title: '30Min' },\n        // { text: '1hr', resolution: '60', description: '1 Hour', title: '1H' }\n      ],\n      symbols_types: ['LRC-ETH', 'LRC-USDT']\n    };\n\n    const tvWidget = new widget(widgetOptions);\n    this.tvWidget = tvWidget;\n\n    this.tvWidget.onChartReady(() => {\n      this.chart = this.tvWidget.chart()\n\n      // \n      this.chart.createStudy('Moving Average', false, false, [5, 'close', 0], null, {\n        'Plot.color': '#34a9ff',\n        'Plot.linewidth': 1\n      })\n      this.chart.createStudy('Moving Average', false, false, [10, 'close', 0], null, {\n        'Plot.color': '#ffb620',\n        'Plot.linewidth': 1\n      })\n      // this.chart.createStudy('Moving Average', false, false, [15, 'close', 0], null, {\n      //   'Plot.color': '#8750ff',\n      //   'Plot.linewidth': 1\n      // })\n      this.chart.createStudy('Moving Average', false, false, [30, 'close', 0], null, {\n        'Plot.color': '#ff688f',\n        'Plot.linewidth': 1\n      })\n\n      // \n      // this.chart.createShape({\n      //     time: self.timestamp,\n      //     channel:close\n      // },{\n      //     shape: 'horizontal_line'\n      // })\n    });\n  }\n\n  componentWillUnmount() {\n    if (this.tvWidget !== null) {\n      this.tvWidget.remove();\n      this.tvWidget = null;\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (\n      this.props.market !== newProps.market\n    ) {\n      if (!this.chart || !newProps.market) return\n      console.info(`####### market${newProps.market}`)\n\n      // let market = newProps.market.replace('-', '/')\n      this.tvWidget.chart().setSymbol(newProps.market, (...params) => {\n        console.info(\"########  setSymbol callback\", {params})\n      })\n      // changeSymbol(newProps.market)\n    }\n  }\n\n  render() {\n    return <div id={this.props.containerId} className={'TVChartContainer'} style={{height: this.props.style.height}} />;\n  }\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport numeral from 'numeral'\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { TVChartContainer } from './TVChartContainer';\n// import TVChartContainer from './TVChartContainer/index.tsx';\nimport { Dropdown, Icon, Menu } from 'antd'\nimport utils from 'utils'\n\nconst units = ['USD', 'CNY']\n\nclass TVChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      unit: 'USD'\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  renderUnits () {\n    return (\n      <Menu onClick={({key}) => {\n        console.info(key)\n        this.setState({unit: key})\n      }}>\n      {\n        units.map((unit) => (\n          <Menu.Item key={unit}>\n            <Text fontSize={[0, 0, 0]} color='hint'>{ unit }</Text>\n          </Menu.Item>\n        ))\n      }\n      </Menu>\n    )\n  }\n\n  render() {\n    let { markets: { currentMarket }, candleStick: { dayInfo }, rate } = this.props\n\n    if (!currentMarket) return <></>\n\n    let { baseToken, quoteToken, market, latest, variation } = currentMarket\n    return (\n      <Box {...this.props}>\n        <Flex height={50} px={12} py={'5px'} justifyContent=\"space-between\">\n          <Box pr={15}>\n            <Text mt={'4px'} fontSize={16} lineHeight={'18px'} fontWeight={600}>\n              {baseToken}/{quoteToken}\n            </Text>\n            <Flex color={variation >= 0 ? 'success' : 'failure'} mt={'0px'} alignItems=\"center\" fontWeight={500}>\n              <Text fontSize={14}>{latest}</Text>\n              <Text width=\"60px\" ml={'10px'} fontSize={14}>{numeral(variation).format('+0.00%')}</Text>\n            </Flex>\n          </Box>\n          <Box px={15}>\n            <Dropdown overlay={this.renderUnits()} placement=\"bottomCenter\" overlayClassName=\"nav-menu\">\n              <Flex mt={'3px'} alignItems=\"center\">\n                <Text color='#646478' mr={'5px'}>:</Text>\n                <Text mr={'5px'}>{this.state.unit}</Text>\n                <Icon type=\"caret-down\" />\n              </Flex>\n            </Dropdown>\n            <Text mt={'2px'} color='#FFFFFF'>{utils.asLegalMoney(rate, latest, quoteToken, this.state.unit)}</Text>\n          </Box>\n          <Box px={15}>\n            <Text color='#646478' mt={'3px'} mr={'5px'}>24H</Text>\n            <Text color='#FFFFFF' mt={'2px'}>{dayInfo.high}</Text>\n          </Box>\n          <Box px={15}>\n            <Text color='#646478' mt={'3px'} mr={'5px'}>24H</Text>\n            <Text color='#FFFFFF' mt={'2px'}>{dayInfo.low}</Text>\n          </Box>\n          <Box px={15}>\n            <Text color='#646478' mt={'3px'} mr={'5px'}>24H</Text>\n            <Text color='#FFFFFF' mt={'2px'}>{dayInfo.size}</Text>\n          </Box>\n          <Box flex={1}></Box>\n        </Flex>\n        <TVChartContainer style={{height: `calc(${this.props.height}px - 50px)`}} market={market} />\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ markets, trade, candleStick, rate }) => {\n  return {\n    markets,\n    trade,\n    candleStick,\n    rate\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(TVChart);","import _ from 'lodash'\nimport React from 'react';\nimport numeral from 'numeral'\nimport { connect } from 'react-redux';\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { notification, Tooltip, Icon, Popover } from 'antd';\nimport { TabNav, CoinInput, BillPreCheck } from './Common'\nimport { TransferModal } from 'widgets/Dialog'\nimport utils from 'utils'\nconst BigNumber = require('bignumber.js');\n\nconst tabs = [\n  { text: '', value: 'limitPrice' },\n  // { text: '', value: 'marketPrice' },\n]\nconst percentPositins = [ 0.25, 0.5, 0.75, 1 ]\nclass PlaceOrder extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: tabs[0].value\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  renderLimitBuyArea (min, available) {\n    let { markets, rate } = this.props\n    let currentMarket = markets.currentMarket\n    if (!currentMarket) return <></>\n\n    let { baseToken, quoteToken, pricePrecision, amountPrecision, totalPrecision } = currentMarket\n    let { placeOrder: { buyPrice, buyAmount, buyTotal }, updatePlaceOrder, placeBuyOrder } = this.props\n\n    let error = null\n    if (buyTotal) {\n      min = new BigNumber(min)\n      available = new BigNumber(available)\n      // buyTotal\n      // buyTotal = new BigNumber(buyTotal)\n      let total = new BigNumber(buyTotal)\n      if (total.lt(min)) {\n        error = `${min}${quoteToken}`\n      } else if (total.gt(available)) {\n        error = `(${available} ${quoteToken})`\n      }\n    }\n\n    return (\n      <Flex flexDirection=\"column\" flex={1} px={13} pb={10} pt={'3px'}>\n        <Flex mt={'8px'} alignItems=\"center\">\n          <Text color=\"hint\" width={40}></Text>\n          <CoinInput\n            precision={pricePrecision}\n            value={buyPrice}\n            approximate={`$ ${utils.asLegalMoney(rate, buyPrice, quoteToken, 'USD')}`}\n            onChange={e => {\n              let price = e.target.value\n              let buyTotal = (new BigNumber(buyAmount || 0)).times(new BigNumber(price || 0))\n              updatePlaceOrder({\n                //  price 0 \n                buyPrice: price,\n                buyTotal: buyTotal.toFixed(totalPrecision)\n              })\n            }}\n            unit={quoteToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex mt={'8px'} alignItems=\"center\">\n          <Text color=\"hint\" width={40}></Text>\n          <CoinInput\n            precision={amountPrecision}\n            value={buyAmount}\n            onChange={e => {\n              let amount = e.target.value\n              let total = (new BigNumber(amount || 0)).times(new BigNumber(buyPrice || 0))\n              updatePlaceOrder({\n                //  value 0 \n                buyAmount: amount,\n                buyTotal: total.toFixed(totalPrecision),\n              })\n            }}\n            unit={baseToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex mt={'8px'} alignItems=\"center\">\n          <Text color=\"hint\" width={40}></Text>\n          <CoinInput\n            precision={totalPrecision}\n            error={error}\n            approximate={`$ ${utils.asLegalMoney(rate, buyTotal, quoteToken, 'USD')}`}\n            unit={quoteToken}\n            value={buyTotal}\n            onChange={e => {\n              let total = e.target.value\n              let amount = buyPrice ? (new BigNumber(total || 0) / new BigNumber(buyPrice)) : 0\n              updatePlaceOrder({\n                buyAmount: total >= available ? _.floor(amount, amountPrecision) : _.ceil(amount, amountPrecision),\n                //  total 0 \n                buyTotal: total\n              })\n            }}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex variant=\"flexCenter\" mt={9} ml={40} >\n        {\n          percentPositins.map(percent => (\n            <Flex height={18} variant=\"flexCenter\" lineHeight={'18px'} px={'6px'} py={'2px'}\n              sx={{\n                // background: '#141e32',\n                // borderRadius: '2px',\n                color:\"hint\",\n                cursor: 'pointer'\n              }}\n              onClick={() => {\n                let total = available * percent\n                let amount = buyPrice ? (new BigNumber(total || 0) / new BigNumber(buyPrice)) : 0\n                updatePlaceOrder({\n                  buyAmount: total >= available ? _.floor(amount, amountPrecision) : _.ceil(amount, amountPrecision),\n                  //  total 0 \n                  buyTotal: total >= available ? _.floor(total, totalPrecision) : _.ceil(total, totalPrecision),\n                })\n              }}\n            >\n            {numeral(percent).format('0%')}\n            </Flex>\n          ))\n        }\n        </Flex>\n        <BillPreCheck disabled={buyTotal && !!error} onSuccess={() => {\n          placeBuyOrder()\n        }} depth={1}>\n          {/* <Popover content={error} trigger={error ? \"hover\" : '' }> */}\n            <Box mt={9} ml={40} height={34} bg=\"success\" sx={{\n                borderRadius: '3px',\n                cursor: 'pointer'\n              }}\n              textAlign=\"center\" lineHeight=\"34px\" fontSize={2} fontWeight=\"bold\">\n              {baseToken}\n            </Box>\n          {/* </Popover> */}\n        </BillPreCheck>\n      </Flex>\n    )\n  }\n\n  renderLimitSaleArea (min, available) {\n    let { markets, rate } = this.props\n    let currentMarket = markets.currentMarket\n    if (!currentMarket) return <></>\n\n    let { baseToken, quoteToken, pricePrecision, amountPrecision, totalPrecision } = currentMarket\n    let { placeOrder: { sellPrice, sellAmount, sellTotal }, updatePlaceOrder, placeSellOrder } = this.props\n\n    let error = null\n    if (sellAmount) {\n      min = new BigNumber(min)\n      available = new BigNumber(available)\n      //  sellAmount \n      // sellAmount = new BigNumber(sellAmount)\n      let amount = new BigNumber(sellAmount)\n      if (amount.lt(min)) {\n        error = `${min}${baseToken}`\n      } else if (amount.gt(available)) {\n        error = `(${available} ${baseToken})`\n      }\n    }\n\n    return (\n      <Flex flexDirection=\"column\" flex={1} px={13} pb={10} pt={'3px'}>\n        <Flex mt={'8px'} alignItems=\"center\">\n          <Text color=\"hint\" width={40}></Text>\n          <CoinInput\n            precision={pricePrecision}\n            value={sellPrice}\n            approximate={`$ ${utils.asLegalMoney(rate, sellPrice, quoteToken, 'USD')}`}\n            onChange={e => {\n              let price = e.target.value\n              let sellTotal = (new BigNumber(sellAmount || 0)).times(new BigNumber(price || 0))\n              updatePlaceOrder({\n                //  price 0 \n                sellPrice: price,\n                sellTotal: sellTotal.toFixed(totalPrecision)\n              })\n            }}\n            unit={quoteToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex mt={'8px'} alignItems=\"center\">\n          <Text color=\"hint\" width={40}></Text>\n          <CoinInput\n            precision={amountPrecision}\n            error={error}\n            value={sellAmount}\n            onChange={e => {\n              let amount = e.target.value\n              let total = (new BigNumber(amount || 0)).times(new BigNumber(sellPrice || 0))\n              updatePlaceOrder({\n                //  amount 0 \n                sellAmount: amount,\n                sellTotal: total.toFixed(totalPrecision),\n              })\n            }}\n            unit={baseToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex mt={'8px'} alignItems=\"center\">\n          <Text color=\"hint\" width={40}></Text>\n          <CoinInput\n            precision={totalPrecision}\n            approximate={`$ ${utils.asLegalMoney(rate, sellTotal, quoteToken, 'USD')}`}\n            unit={quoteToken}\n            value={sellTotal}\n            onChange={e => {\n              let total = e.target.value\n              let amount = sellPrice ? (new BigNumber(total || 0) / new BigNumber(sellPrice)) : 0\n              updatePlaceOrder({\n                sellAmount: total >= available ? _.floor(amount, amountPrecision) : _.ceil(amount, amountPrecision),\n                //  total 0 \n                sellTotal: total\n              })\n            }}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex variant=\"flexCenter\" mt={9} ml={40} >\n        {\n          percentPositins.map(percent => (\n            <Text height={18} lineHeight={'18px'}\n              sx={{\n                color:\"hint\",\n                cursor: 'pointer'\n              }}\n              onClick={() => {\n                let amount = available * percent\n                let total = (new BigNumber(amount || 0)).times(new BigNumber(sellPrice || 0))\n                updatePlaceOrder({\n                  //  amount 0 \n                  sellAmount: _.floor(amount, amountPrecision),\n                  sellTotal: total.toFixed(totalPrecision),\n                })\n              }}\n            >\n            {numeral(percent).format('0%')}\n            </Text>\n          ))\n        }\n        </Flex>\n        <BillPreCheck disabled={sellAmount && !!error} onSuccess={() => placeSellOrder()} depth={1}>\n          {/* <Popover content={error} trigger={error ? \"hover\" : '' }> */}\n            <Box mt={9} ml={40} height={34} bg=\"failure\" sx={{\n                borderRadius: '3px',\n                cursor: 'pointer'\n              }}\n              textAlign=\"center\" lineHeight=\"34px\" fontSize={2} fontWeight=\"bold\">\n              {baseToken}\n            </Box>\n          {/* </Popover> */}\n        </BillPreCheck>\n      </Flex>\n    )\n  }\n\n  renderMarketBuyArea (available) {\n    let { markets, depth, currentPrecision } = this.props\n    let currentMarket = markets.currentMarket\n    if (!currentMarket) return <></>\n\n    let { baseToken, quoteToken } = currentMarket\n    let { placeOrder: { marketBuyTotal }, updatePlaceOrder, placeBuyOrder } = this.props\n\n    return (\n      <Flex flexDirection=\"column\" flex={1} px={13} pb={10} pt={'3px'}>\n        <Flex mt={'8px'} alignItems=\"center\">\n          <Text color=\"hint\" width={50}></Text>\n          <CoinInput\n            disabled={true}\n            value={''}\n            unit={quoteToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex mt={'8px'} alignItems=\"center\">\n          <Text color=\"hint\" width={50}></Text>\n          <CoinInput\n            approximate={`$ 0.0`}\n            value={marketBuyTotal}\n            onChange={e => updatePlaceOrder({marketBuyTotal: e.target.value})}\n            unit={quoteToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex variant=\"flexCenter\" mt={9} ml={40} >\n        {\n          percentPositins.map(percent => (\n            <Flex height={18} variant=\"flexCenter\" lineHeight={'18px'} px={'6px'} py={'2px'}\n              sx={{\n                // background: '#141e32',\n                // borderRadius: '2px',\n                color:\"hint\",\n                cursor: 'pointer'\n              }}\n              onClick={() => {\n                let marketBuyTotal = (available * percent).toFixed(6)\n                updatePlaceOrder({ marketBuyTotal })\n              }}\n            >\n            {numeral(percent).format('0%')}\n            </Flex>\n          ))\n        }\n        </Flex>\n        <BillPreCheck onSuccess={() => placeBuyOrder()} depth={1}>\n          <Box mt={9} ml={40} height={34} bg=\"success\" sx={{\n              borderRadius: '3px',\n              cursor: 'pointer'\n            }}\n            textAlign=\"center\" lineHeight=\"34px\" fontSize={2} fontWeight=\"bold\">\n            {baseToken}\n          </Box>\n        </BillPreCheck>\n      </Flex>\n    )\n  }\n\n  renderMarketSaleArea (available) {\n    let { markets, depth, currentPrecision } = this.props\n    let currentMarket = markets.currentMarket\n    if (!currentMarket) return <></>\n\n    let { baseToken, quoteToken } = currentMarket\n    let { placeOrder: { marketSellAmount }, updatePlaceOrder, placeSellOrder } = this.props\n\n    return (\n      <Flex flexDirection=\"column\" flex={1} px={13} pb={10} pt={'3px'}>\n        <Flex mt={'8px'} alignItems=\"center\">\n          <Text color=\"hint\" width={50}></Text>\n          <CoinInput\n            disabled={true}\n            value={''}\n            onChange={e => updatePlaceOrder({sellPrice: e.target.value})}\n            unit={quoteToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex mt={'8px'} alignItems=\"center\">\n          <Text color=\"hint\" width={50}></Text>\n          <CoinInput\n            value={marketSellAmount}\n            onChange={e => updatePlaceOrder({marketSellAmount: e.target.value})}\n            unit={baseToken}\n          >\n          </CoinInput>\n        </Flex>\n        <Flex variant=\"flexCenter\" mt={9} ml={40} >\n        {\n          percentPositins.map(percent => (\n            <Text height={18} lineHeight={'18px'}\n              sx={{\n                color:\"hint\",\n                cursor: 'pointer'\n              }}\n              onClick={() => {\n                let marketSellAmount = (available * percent).toFixed(6)\n                updatePlaceOrder({ marketSellAmount })\n              }}\n            >\n            {numeral(percent).format('0%')}\n            </Text>\n          ))\n        }\n        </Flex>\n        <BillPreCheck onSuccess={() => placeSellOrder()} depth={1}>\n          <Box mt={9} ml={40} height={34} bg=\"failure\" sx={{\n              borderRadius: '3px',\n              cursor: 'pointer'\n            }}\n            textAlign=\"center\" lineHeight=\"34px\" fontSize={2} fontWeight=\"bold\">\n            {baseToken}\n          </Box>\n        </BillPreCheck>\n      </Flex>\n    )\n  }\n\n  getMinTradeValue (symbol) {\n    let mapping = {\n      'USDT': 2,\n      'LRC': 100,\n      'ETH': 0.01,\n      'DKEY': 10,\n    }\n    return mapping[symbol] || 0\n  }\n\n  render() {\n    let { markets: { currentMarket }, balance: { list: balances }, dexAccount: { passwordHash } } = this.props\n    if (!currentMarket) return <></>\n\n    let { baseToken, quoteToken } = currentMarket\n    let baseBalance = _.find(balances, balance => balance.token.symbol === baseToken)\n    let quoteBalance = _.find(balances, balance => balance.token.symbol === quoteToken)\n    let availBase = baseBalance ? baseBalance.availAmount : 0\n    let availQuote = quoteBalance ? quoteBalance.availAmount : 0\n    return (\n      <Box>\n        <TabNav tabs={tabs} onChange={tab => this.setState({activeTab: tab.value})}>\n          <Box flex={1}></Box>\n          <Text color=\"hint\"> {baseToken}: {availBase}</Text>\n          <Text color=\"hint\" ml={20}> {quoteToken}: {availQuote}</Text>\n          <Text mx={15} color=\"blue\" onClick={() => {\n            if (!passwordHash) {\n              notification.info({ message: '' })\n              return\n            }\n            TransferModal()\n          }}\n            sx={{ cursor: 'pointer' }}\n          >\n            \n          </Text>\n        </TabNav>\n        {\n          utils.renderIf(this.state.activeTab === 'limitPrice')(\n            <Flex bg=\"backgroundTint\" height={203}>\n              {this.renderLimitBuyArea(this.getMinTradeValue(quoteToken), availQuote)}\n              {this.renderLimitSaleArea(this.getMinTradeValue(baseToken), availBase)}\n            </Flex>\n          )\n        }\n        {\n          utils.renderIf(this.state.activeTab === 'marketPrice')(\n            <Flex bg=\"backgroundTint\" height={203}>\n              {this.renderMarketBuyArea(availQuote)}\n              {this.renderMarketSaleArea(availBase)}\n            </Flex>\n          )\n        }\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ placeOrder, markets, balance, dexAccount, rate }) => {\n  return {\n    placeOrder,\n    markets,\n    balance,\n    dexAccount,\n    rate\n  };\n};\n\nconst mapDispatchToProps = ({ placeOrder }) => {\n  return {\n    placeBuyOrder: placeOrder.placeBuyOrder,\n    placeSellOrder: placeOrder.placeSellOrder,\n    updatePlaceOrder: placeOrder.update\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(PlaceOrder);","import _ from 'lodash'\nimport moment from 'moment'\nimport React from 'react';\nimport numeral from 'numeral'\nimport { connect } from 'react-redux';\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Table, Tooltip, Divider, Checkbox, Menu, Dropdown, Icon } from 'antd';\nimport { TabNav, CoinInput, BillPreCheck } from './Common'\nimport { TransferModal } from 'widgets/Dialog'\nimport { ENUM_ORDER_STATUS } from 'utils/enum'\nimport utils from 'utils';\nimport { notification } from 'antd';\n\nconst BigNumber = require('bignumber.js');\n\nconst tabs = [\n  { text: '', value: 'current' },\n  { text: '', value: 'history' },\n]\n\nclass MyOrder extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n  }\n\n  onTabChange (tab) {\n    this.props.updateFilterCond({\n      type: tab.value,\n      page: 1,\n      pageSize: 50\n    })\n    this.props.fetchOrders()\n  }\n\n  onChangeShowAll (e) {\n    //  onchange  tab \n    e.stopPropagation()\n    this.props.updateFilterCond({\n      allMarket: e.target.checked,\n      page: 1,\n      pageSize: 50\n    })\n    this.props.fetchOrders()\n  }\n\n  render() {\n    let { order, cancelAnOrders, cancelAllOrders } = this.props\n\n    const filters = [\n      { text: '', value: 'ALL' },\n      { text: '', value: 'PROCESSED' },\n      { text: '', value: 'CANCELLED' },\n    ]\n\n    let columns = [\n      {\n        align: 'left',\n        title: ``,\n        dataIndex: 'createdAt',\n        width: 120,\n        render: (unused, row) => {\n          return (<Text>{moment(row.createdAt).format('MM-DD HH:mm')}</Text>)\n        }\n      },\n      {\n        align: 'left',\n        title: ``,\n        dataIndex: 'market',\n        width: 100,\n        render: (market, row) => {\n          let [baseSymbol, quoteSymbol] = market.split('-')\n          return (<Flex>{baseSymbol}<Text color=\"hint\">/{quoteSymbol}</Text></Flex>)\n        }\n      },\n      {\n        align: 'center',\n        title: '',\n        dataIndex: 'side',\n        width: 30,\n        render: (unused, row) => {\n          return (<Text color={row.side === 'BUY' ? \"success\" : \"failure\"}>{row.side === 'BUY' ? \"\" : \"\"}</Text>)\n        }\n      },\n      {\n        align: 'right',\n        title: ``,\n        dataIndex: 'price',\n        width: 120,\n        render: price => (\n          <Text>{price}</Text>\n        )\n      },\n      {\n        align: 'right',\n        title: ``,\n        dataIndex: 'size',\n        width: 120,\n        render: size => (\n          <Text>{size}</Text>\n        )\n      },\n      {\n        align: 'right',\n        title: ``,\n        dataIndex: 'filledVolume',\n        width: 120,\n        render: filledVolume => (\n          <Text>{filledVolume}</Text>\n        )\n      },\n      {\n        align: 'right',\n        title: ``,\n        dataIndex: 'filledSize',\n        width: 155,\n        render: (filledSize, row) => (\n          <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n            <Text mr={'4px'}>{filledSize}</Text>\n            <Divider style={{position: 'unset', background: '#646478', margin: '0 2px'}} type=\"vertical\" />\n            <Text width={34} >{row.filled}</Text>\n          </Flex>\n        )\n      },\n    ];\n\n    if (order.cond.type === 'current') {\n      columns.push({\n        align: 'right',\n        title: ``,\n        dataIndex: '',\n        key: 'ops',\n        width: 80,\n        render: (unused, row) => (\n          <Text color=\"blue\" sx={{ cursor: 'pointer' }} onClick={async () => {\n            await cancelAnOrders(row)\n            notification['success']({\n              duration: 5,\n              message: ''\n            })\n          }}></Text>\n        )\n      })\n    } else {\n      columns.push({\n        align: 'right',\n        title: ``,\n        dataIndex: 'status',\n        key: 'ops',\n        width: 80,\n        render: (status, row) => (\n          <Text>{ENUM_ORDER_STATUS.toText(status)}</Text>\n        )\n      })\n    }\n\n    return (\n      <Flex {...this.props} flexDirection=\"column\">\n        <TabNav tabs={tabs} onChange={tab => this.onTabChange(tab)}>\n          <Box flex={1}></Box>\n          <Checkbox onChange={e => this.onChangeShowAll(e)} className=\"all-paire-type\"></Checkbox>\n          {\n            utils.renderIf(order.cond.type === 'current')(\n              <Text width={`100px`} px={10} textAlign=\"right\" color=\"blue\" onClick={() => cancelAllOrders()}\n                sx={{ cursor: 'pointer' }}\n              >\n                10\n              </Text>\n            )\n          }\n          {\n            utils.renderIf(order.cond.type === 'history')(\n              <Dropdown overlay={\n                  <Menu onClick={({key: index}) => {\n                    let historyStatus = filters[index].value\n                    this.props.updateFilterCond({\n                      historyStatus,\n                      page: 1,\n                      pageSize: 50\n                    })\n                    this.props.fetchOrders()\n                  }}>\n                  {\n                    filters.map((menu, index) => (\n                      <Menu.Item key={index}>\n                        <Text fontSize={[0, 0, 0]} color='hint'>{ menu.text }</Text>\n                      </Menu.Item>\n                    ))\n                  }\n                  </Menu>\n                }\n                placement=\"bottomCenter\" overlayClassName=\"nav-menu\"\n              >\n                <Flex width={`100px`} px={10} justifyContent=\"flex-end\" height={40} lineHeight={'40px'} alignItems=\"center\">\n                  {_.find(filters, {value: order.cond.historyStatus}).text}<Icon type=\"caret-down\" />\n                </Flex>\n              </Dropdown>\n            )\n          }\n        </TabNav>\n        <Flex bg=\"backgroundTint\" px={15} flex={1}>\n          <Table columns={columns} dataSource={order.list} align=\"right\"\n            style={{flex: 1}}\n            tableLayout=\"auto\"\n            className=\"exchange-table\"\n            pagination={false}\n            scroll={{ y: this.props.height - 70 }}\n            // height={this.props.height - 50}\n            locale={{emptyText: ''}}\n          />\n        </Flex>\n      </Flex>\n    )\n  }\n}\n\nconst mapStateToProps = ({ order }) => {\n  return {\n    order,\n  };\n};\n\nconst mapDispatchToProps = ({ order }) => {\n  return {\n    updateFilterCond: order.updateFilterCond,\n    fetchOrders: order.fetchOrders,\n    cancelAnOrders: order.cancelAnOrders,\n    cancelAllOrders: () => utils.withLoading(() => order.cancelAllOrders())\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(MyOrder);","import _ from 'lodash'\nimport React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport { Pagination } from 'antd';\nimport styles from './index.less';\n\nclass QhPagination extends Component {\n  constructor (props) {\n    super(props)\n    \n    this.state = {\n      pageSize: props.initPageSize,\n      page: 1,\n      total: 0\n    }\n  }\n\n  async componentDidMount () {\n    if (this.props.autoload) {\n      this.fetchDataByPage()\n    }\n  }\n\n  componentWillUnmount() {\n  }\n  \n  async reset () {\n    await this.setState({\n      page: 1,\n      total: 0\n    })\n    return this.fetchDataByPage()\n  }\n\n  fetchDataByPage () {\n    let pageParams = {\n      page: this.state.page,\n      pageSize: this.state.pageSize\n    }\n    return this.props.fetchData(pageParams).then(body => {\n      this.setState({\n        total: body.count\n      })\n      this.props.onFetched(body.rows)\n    }).catch(error => { console.info(error.message) })\n  }\n\n  handleSizeChange = async function (size) {\n    await this.setState({pageSize: size})\n    this.fetchDataByPage()\n  }.bind(this)\n\n  handleCurrentChange = async function (currentPage) {\n    await this.setState({page: currentPage})\n    this.fetchDataByPage()\n  }.bind(this)\n\n  render () {\n    return (\n      <Pagination\n        className=\"qhPagination\"\n        current={this.state.page}\n        pageSize={this.state.pageSize}\n        total={this.state.total}\n        onChange={this.handleCurrentChange}\n        onShowSizeChange={this.handleSizeChange}\n        pageSizeOptions={['30', '50', '100', '200']}\n        showQuickJumper\n      />\n    )\n  }\n}\n\nQhPagination.defaultProps = {\n  initPageSize: 30,\n  autoload: true\n};\n  \nQhPagination.propTypes = {\n  initPageSize: PropTypes.number,\n  fetchData: PropTypes.func,\n  onFetched: PropTypes.func,\n  autoload: PropTypes.bool,\n};\n\nexport default QhPagination;\n","\nimport React from 'react'\n\nexport default ({\n  color,\n  icon,\n  width,\n  height,\n  size,\n  ...props\n}) => (\n  <svg className=\"icon\" aria-hidden=\"true\" style={{\n    width: width || size,\n    height: height || size,\n  }} {...props}>\n    <use xlinkHref={`#${icon}`} style={{ color }}></use>\n  </svg>\n)","import numeral from 'numeral';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Table, Dropdown, Menu, Icon } from 'antd'\nimport utils from 'utils'\nimport { Svg } from 'components'\nimport depthAllIcon from 'icons/depthAll.svg'\nimport depthSellIcon from 'icons/depthSell.svg'\nimport depthBuyIcon from 'icons/depthBuy.svg'\n\nconst tableHeaderHeight = 30\n\nconst depthTypes = [\n  { key: 'all', icon: depthAllIcon },\n  { key: 'sell', icon: depthSellIcon },\n  { key: 'buy', icon: depthBuyIcon },\n]\nclass Depth extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tableHeight: 400,\n      activeType: depthTypes[0]\n    }\n  }\n\n  onWindowResize = function () {\n    const windowHeight = document.body.clientHeight\n\n    let tableHeight = (windowHeight - (50 + 3 * 2 + 40 + 30 + 30)) / 2\n    this.setState({tableHeight})\n  }.bind(this)\n\n  componentDidMount() {\n    window.addEventListener('resize', this.onWindowResize);\n    this.onWindowResize()\n  }\n  \n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onWindowResize);\n  }\n\n  renderPrecisions () {\n    let precisions = this.props.precisions()\n    return (\n      <Menu onClick={({key}) => {\n        let { markets, setLevel } = this.props\n        let precision = Number(key)\n        let level = markets.currentMarket.pricePrecision - precision\n        setLevel(level)\n      }}>\n      {\n        precisions.map((precision) => (\n          <Menu.Item key={precision}>\n            <Text fontSize={[0, 0, 0]} color='hint'>{ precision }</Text>\n          </Menu.Item>\n        ))\n      }\n      </Menu>\n    )\n  }\n\n  render() {\n    let { markets, depth, trade: { latestPrice, variation }, currentPrecision, rate } = this.props\n    let currentMarket = markets.currentMarket\n    if (!currentMarket) return <></>\n\n    const columns = [\n      {\n        align: 'left',\n        title: (col) => `(${currentMarket.quoteToken})`,\n        dataIndex: 'price',\n        render: (price, row) => (\n          <Text color={row.type === 'ask' ? \"failure\" : \"success\"}>{price}</Text>\n        )\n      },\n      {\n        align: 'right',\n        title: (col) => `(${currentMarket.baseToken})`,\n        dataIndex: 'size',\n        width: 105,\n        render: size => (\n          <Text>{size}</Text>\n        )\n      },\n      {\n        align: 'right',\n        title: (col) => `(${currentMarket.quoteToken})`,\n        dataIndex: 'volume',\n        width: 105,\n        render: volume => (\n          <Text>{volume}</Text>\n        )\n      },\n    ];\n\n    const onRowEvent = record => {\n      return {\n        onClick: event => {\n          this.props.updatePlaceOrder({\n            buyPrice: record.price,\n            buyAmount: null,\n            buyTotal: null,\n            marketBuyTotal: null,\n          })\n          this.props.updatePlaceOrder({\n            sellPrice: record.price,\n            sellAmount: null,\n            sellTotal: null,\n            marketSellAmount: null,\n          })\n        }\n      }\n    }\n\n    let { tableHeight, activeType } = this.state\n    let { key: depthType } = activeType\n    return (\n      <Box width={320}>\n        <Flex px={14} height={40} alignItems=\"center\" justifyContent=\"flex-start\">\n          <Text fontSize={0} fontWeight=\"bolder\"></Text>\n          <Flex ml={'5px'}>\n            {\n              depthTypes.map(type => (\n                <Flex key={type.key} width={16} height={14} mx={'4px'} variant=\"flexCenter\" sx={{\n                    borderRadius: '2px',\n                    border: `1px solid ${this.state.activeType === type ? '#0064FF' : '#32374b'}`,\n                    cursor: 'pointer',\n                  }}\n                  onClick={() => {\n                    this.setState({ activeType: type })\n                    this.props.scrollSellTable()\n                  }}\n                >\n                  <Image width={10} height={6} src={type.icon} />\n                </Flex>\n              ))\n            }\n          </Flex>\n          <Box flex={1}></Box>\n          <Dropdown overlay={this.renderPrecisions()} placement=\"bottomCenter\" overlayClassName=\"nav-menu\">\n            <Flex height={40} lineHeight={'40px'} alignItems=\"center\">{currentPrecision()}<Icon type=\"caret-down\" /></Flex>\n          </Dropdown>\n        </Flex>\n        <Flex height={30} alignItems=\"center\" px={14}>\n          <Box px={`2px`} fontSize=\"12\" lineHeight={`20px`} color=\"#646478\" flex={1}>{`(${currentMarket.quoteToken})`}</Box>\n          <Box px={`2px`} fontSize=\"12\" lineHeight={`20px`} color=\"#646478\" width={105} textAlign=\"right\">{`(${currentMarket.baseToken})`}</Box>\n          <Box px={`2px`} fontSize=\"12\" lineHeight={`20px`} color=\"#646478\" width={105} textAlign=\"right\">{`(${currentMarket.quoteToken})`}</Box>\n        </Flex>\n        {\n          utils.renderIf(depthType === 'all' || depthType === 'sell')(\n            <Box px={14}>\n              <Table px={14} columns={columns} dataSource={depth.asks} onRow={onRowEvent} align=\"right\"\n                className=\"exchange-table sell-table\"\n                pagination={false}\n                scroll={{ y: depthType === 'all' ? tableHeight : tableHeight * 2 }}\n                style={{ height: depthType === 'all' ? tableHeight : tableHeight * 2 }}\n                showHeader={false}\n                locale={{emptyText: ''}}\n              />\n            </Box>\n          )\n        }\n        <Flex px={14} height={30} fontWeight=\"bold\" bg=\"backgroundTint\" alignItems=\"center\">\n          <Text mr={'8px'} fontSize={'18px'} color={variation >= 0 ? 'success' : 'failure'}>{latestPrice}</Text>\n          <Svg color={variation >= 0 ? '#50BE8c' : '#F0505A'} icon={variation >= 0 ? 'icon-arrow-up' : 'icon-arrow-down'} size=\"25px\"></Svg>\n          <Text ml={'8px'} fontSize={'18px'} color=\"#3c3c50\">$ {utils.asLegalMoney(rate, latestPrice, currentMarket.quoteToken, 'USD')}</Text>\n        </Flex>\n        {\n          utils.renderIf(depthType === 'all' || depthType === 'buy')(\n            <Box px={14}>\n              <Table px={14} columns={columns} dataSource={depth.bids} onRow={onRowEvent} align=\"right\" \n                className=\"exchange-table\"\n                pagination={false}\n                scroll={{ y: depthType === 'all' ? tableHeight : tableHeight * 2 }}\n                showHeader={false}\n                // style={{ height: tableHeight - tableHeaderHeight}}\n                locale={{emptyText: ''}}\n              />\n            </Box>\n          )\n        }\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ markets, depth, trade, rate }) => {\n  return {\n    markets,\n    depth,\n    trade,\n    rate,\n    precisions: () => {\n      let market = markets.currentMarket\n      if (!market) return []\n\n      let { pricePrecision, maxLevel } = market\n      return _.range(pricePrecision, pricePrecision - maxLevel)\n    },\n    currentPrecision: () => {\n      if (!markets.currentMarket) return 0\n      return markets.currentMarket.pricePrecision - depth.level\n    }\n  };\n};\n\nconst mapDispatchToProps = ({ depth, placeOrder }) => {\n  return {\n    setLevel: depth.setLevel,\n    scrollSellTable: depth.scrollSellTable,\n    updatePlaceOrder: placeOrder.update\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Depth);","import moment from 'moment'\nimport _ from 'lodash'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  Flex,\n  Box,\n  Card,\n  Image,\n  Heading,\n  Text,\n} from 'rebass'\nimport { Table, Input, Icon } from 'antd';\nimport awardIcon from 'icons/award.png';\nimport wedexLogoVertical from 'icons/wedexLogoVertical.png';\n\nclass Widget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n    })\n  }\n\n  render() {\n    let { appState: {awardInfo}, dexAccount, closeAward, markRead } = this.props\n    if (!awardInfo.visible) return <></>\n    return (\n      <Flex variant=\"flexCenter\" sx={{\n        position: 'fixed',\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        margin: 'auto',\n        backgroundImage: `url(${awardIcon})`,\n        backgroundSize: 'contain',\n        backgroundPosition: 'center',\n        width: 375 * 1.4,\n        height: 515 * 1.4,\n        flexDirection: 'column',\n        justifyContent: 'flex-start',\n        zIndex: 999\n      }} >\n        {/* <Image src={awardIcon} width={300} /> */}\n        <Image mt={262} src={wedexLogoVertical} size={45} />\n        <Text fontSize={14} mt={'8px'} color=\"black\" fontWeight={700}></Text>\n        <Text fontSize={20} color=\"red\" fontWeight={700}>{awardInfo.amount}{awardInfo.unit}</Text>\n        <Flex variant=\"flexCenter\" color=\"hint\" sx={{\n          borderTop: '1px dashed #646478',\n          flexDirection: 'column'\n        }}>\n          <Text mt={2}>24</Text>\n          <Text mt={0}>{`${_.take(dexAccount.address, 10).join('')}......${_.takeRight(dexAccount.address, 10).join('')}`}</Text>\n          <Text mt={0}>:{moment(awardInfo.createdAt).format('YYYY-MM-DD HH:mm:ss')}</Text>\n        </Flex>\n        <Box sx={{\n            position: 'absolute',\n            right: 100,\n            top: 100,\n            border: '1px solid #646478',\n            borderRadius: '50%',\n            size: 30,\n            // padding: '3px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            cursor: 'pointer'\n          }} onClick={async () => {\n            await markRead([awardInfo.id])\n            closeAward()\n          }}>\n          <Icon type=\"close\" style={{ fontSize: '15px', width: '15px', height: '15px'}}/>\n        </Box>\n      </Flex>\n    )\n  }\n}\n\nconst mapStateToProps = ({appState, dexAccount}) => {\n  return {\n    appState: appState,\n    dexAccount: dexAccount,\n  };\n};\n\nconst mapDispatchToProps = ({appState, award}) => {\n  return {\n    closeAward: appState.closeAward,\n    markRead: award.markRead\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget);","import React from 'react';\nimport { connect } from 'react-redux';\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport {\n  Pair,\n  Trade,\n  TVChart,\n  PlaceOrder,\n  MyOrder,\n  Depth,\n  EggAward\n} from 'widgets'\nimport { BillPreCheck } from 'widgets/Common'\nimport utils from 'utils'\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    // this.billPreCheck = React.createRef();\n    this.state = {\n      remainHeight: 447,\n      largeScreen: false\n    }\n  }\n\n  onWindowResize = function () {\n    const windowHeight = document.body.clientHeight\n    const remainHeight = windowHeight - 305\n\n    const windowWidth = document.body.clientWidth\n\n    this.setState({\n      remainHeight,\n      largeScreen: windowWidth >= 1920\n    })\n  }.bind(this)\n\n  componentDidMount() {\n    window.addEventListener('resize', this.onWindowResize);\n    this.onWindowResize()\n\n    this.billPreCheck.checkBrowser()\n  }\n  \n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onWindowResize);\n  }\n\n  render() {\n    let { remainHeight } = this.state\n    return (\n      <Flex variant='exchange' width=\"100%\">\n        <Flex width={[320, 320, 320]} flexDirection='column'>\n          <Pair height={this.state.largeScreen ? '100%' : '55%'} />\n          {\n            utils.renderIf(!this.state.largeScreen)(\n              <>\n                <Box as='hr' variant='divider.exchangeX' />\n                <Trade height={'45%'} px={14} />\n              </>\n            )\n          }\n        </Flex>\n        <Box as='hr' variant='divider.exchangeY' />\n        <Flex flex={1} flexDirection=\"column\">\n          <TVChart height={_.max([remainHeight * 260 / (260 + 130), 285])} />\n          <Box as='hr' variant='divider.exchangeX' />\n          <PlaceOrder />\n          <Box as='hr' variant='divider.exchangeX' />\n          <MyOrder height={_.min([remainHeight * 130 / (260 + 130), remainHeight - 285])} />\n        </Flex>\n        <Box as='hr' variant='divider.exchangeY' />\n        <Depth />\n        {\n          utils.renderIf(this.state.largeScreen)(\n            <>\n              <Box as='hr' variant='divider.exchangeY' />\n              <Trade width={320} px={14} />\n            </>\n          )\n        }\n        <BillPreCheck ref={ref => this.billPreCheck = ref}></BillPreCheck>\n        <EggAward />\n      </Flex>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Home);","import _ from 'lodash'\nimport numeral from 'numeral'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { config } from 'librarys/lightcone_v3';\nimport { TransferModal } from 'widgets/Dialog'\nimport utils from 'utils'\n\nimport Chart from 'bizcharts/lib/components/Chart';\nimport Geom from 'bizcharts/lib/components/Geom';\nimport Coord from 'bizcharts/lib/components/Coord';\n\nimport { Tabs, Table, Select, Checkbox, Menu, Dropdown } from 'antd';\nconst { TabPane } = Tabs;\nconst { Option } = Select;\n\nlet tokens = config.getTokens()\nconst symbols = tokens.map(token => token.symbol)\n\nconst renderChart = _.memoize((overview) => {\n  return (\n    <Chart\n      width={200}\n      height={200}\n      data={overview}\n      padding={[0, 0, 0, 0]}\n      forceFit\n    >\n      <Coord type={\"theta\"} radius={1} innerRadius={0.6} />\n      <Geom\n        type=\"intervalStack\"\n        position=\"percent\"\n        color={['count', ['#1890ff', '#0064FF']]}\n      >\n      </Geom>\n    </Chart>\n  )\n}, overview => `${overview[0].count}-${overview[1].count}`)\n\nclass Widget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filters: {\n        tokenSymbol: ''\n      },\n      marketOptions: []\n    }\n  }\n\n  componentDidMount() {\n    // this.props.fetchBalances()\n    this.props.fetchWalletBalances()\n  }\n\n  onChangeTab (key) {\n    if (key === 'dex') {\n      // TODO: test\n      // this.props.fetchBalances()\n    } else {\n      this.props.fetchWalletBalances()\n    }\n  }\n\n  renderOverview () {\n    let { dexAccount, balance, walletBalance, rate } = this.props\n    let balanceTotal = _.reduce(balance.list, (total, item) => {\n      let usd = utils.asLegalMoney(rate, Number(item.totalAmount), item.token.symbol, 'USD')\n      return total + Number(usd)\n    }, 0)\n    let walletBalanceTotal = _.reduce(walletBalance.list, (total, item) => {\n      let usd = utils.asLegalMoney(rate, Number(item.amount), item.symbol, 'USD')\n      return total + Number(usd)\n    }, 0)\n    let total = balanceTotal + walletBalanceTotal\n\n    const overview = [\n      {\n        item: \"\",\n        count: walletBalanceTotal,\n        percent: total ? walletBalanceTotal / total * 100 : 0,\n      },\n      {\n        item: \"\",\n        count: balanceTotal,\n        percent: total ? balanceTotal / total * 100: 0,\n      },\n    ];\n    console.info(overview)\n    return (\n      <Flex>\n        <Box size={200} mr={60} mb={90}>\n          { renderChart(overview) }\n        </Box>\n        <Flex flexDirection=\"column\" flex={1}>\n          <Text color=\"#323232\" fontSize={20} fontWeight=\"bolder\"></Text>\n          <Flex mt={'5px'} alignItems=\"center\">\n            <Text color=\"#323232\" fontSize={30} fontWeight=\"bolder\">{utils.toTokenPrecision(total, 'USDT')} USD</Text>\n            <Text fontSize={20} ml={30} fontWeight=\"bolder\">{utils.asLegalMoney(rate, total, 'USD', 'CNY')} CNY</Text>\n          </Flex>\n          <Text mt={'5px'} color=\"#323232\">: {dexAccount.address}</Text>\n          <Flex mt={30} justifyContent=\"flex-start\">\n            <Box flex={1}>\n              <Flex alignItems=\"center\">\n                <Box size={14} bg=\"#0064FF\"></Box>\n                <Text ml={'6px'} color=\"#969696\"></Text>\n              </Flex>\n              <Flex mt={'5px'} alignItems=\"center\">\n                <Text color=\"#323232\" fontSize={14} fontWeight=\"bold\">{utils.toTokenPrecision(walletBalanceTotal, 'USD')} USD</Text>\n                <Text fontSize={14} ml={13}>{utils.asLegalMoney(rate, walletBalanceTotal, 'USD', 'CNY')} CNY</Text>\n              </Flex>\n            </Box>\n            <Box flex={1}>\n              <Flex alignItems=\"center\">\n                <Box size={14} bg=\"#1890ff\"></Box>\n                <Text ml={'6px'} color=\"#969696\"></Text>\n              </Flex>\n              <Flex mt={'5px'} alignItems=\"center\">\n                <Text color=\"#323232\" fontSize={14} fontWeight=\"bold\">{utils.toTokenPrecision(balanceTotal, 'USD')} USD</Text>\n                <Text fontSize={14} ml={13}>{utils.asLegalMoney(rate, balanceTotal, 'USD', 'CNY')} CNY</Text>\n              </Flex>\n            </Box>\n          </Flex>\n        </Flex>\n      </Flex>\n    )\n  }\n\n  renderFilters () {\n    // let { balance, walletBalance } = this.props\n    // let balanceSymbols = balance.list.map(b => b.token.symbol)\n    // let walletBalanceSymbols = walletBalance.list.map(b => b.symbol)\n\n    // let symbols = _.union(balanceSymbols, walletBalanceSymbols)\n    return (\n      <Flex alignItems=\"center\" style={{position: 'absolute', right: 0, zIndex: 1000}}>\n        <Checkbox style={{color: '#323232'}} onChange={() => {}}></Checkbox>\n        <Select\n          // size=\"small\"\n          placeholder=\"\"\n          allowClear\n          style={{ width: 140, color: '#323232' }}\n          onChange={tokenSymbol => {\n            this.setState(({ filters }) => {\n              filters.tokenSymbol = tokenSymbol\n              return { filters }\n            })\n          }}\n        >\n          {\n            symbols.map(symbol => (\n              <Option key={symbol} value={symbol}>{symbol}</Option>\n            ))\n          }\n        </Select>\n      </Flex>\n    )\n  }\n  \n  render() {\n    let { filters, marketOptions } = this.state\n    let { history, balance, walletBalance, markets: marketsStore, setCurrentTab, setCurrentMarket } = this.props\n    let balances = balance.list\n    let walletBalances = walletBalance.list\n\n    if (filters.tokenSymbol) {\n      balances = balances.filter(b => b.token.symbol === filters.tokenSymbol)\n      walletBalances = walletBalances.filter(b => b.symbol === filters.tokenSymbol)\n    }\n\n    const walletColumns = [\n      {\n        title: '',\n        dataIndex: 'tokenId',\n        key: 'tokenId',\n        render: (unused, record) => {\n          return (\n            <Flex>\n              <Text>{record.symbol}</Text>\n              <Text color=\"#969696\">({record.name})</Text>\n            </Flex>\n          )\n        },\n      },\n      {\n        title: '',\n        dataIndex: 'amount',\n        key: 'amount',\n        render: (unused, record) => {\n          return <Text>{utils.toTokenPrecision(record.amount, record.symbol)}</Text>\n        },\n      },\n      {\n        align: 'center',\n        title: ``,\n        dataIndex: '',\n        key: 'ops',\n        width: 140,\n        render: (unused, record) => (\n          <Flex>\n            <Text color=\"#0078FF\" mr={\"6px\"}\n              sx={{ cursor: 'pointer' }}\n              onClick={() => TransferModal({\n                initialSymbol: record.symbol,\n                initialType: 'deposit',\n              })}\n            >\n              \n            </Text>\n            <Text color=\"#0078FF\"\n              sx={{ cursor: 'pointer' }}\n              onClick={async () => {\n                history.push({ pathname: `/mine/transfer`, data: {\n                  initialSymbol: record.symbol,\n                  initialSide: 'WITHDRAW',\n                }})\n              }}\n            >\n              \n            </Text>\n          </Flex>\n        )\n      }\n    ]\n\n    const dexColumns = [\n      {\n        title: '',\n        dataIndex: 'tokenId',\n        key: 'tokenId',\n        render: (unused, record) => {\n          return (\n            <Flex>\n              <Text>{record.token.symbol}</Text>\n              <Text color=\"#969696\">({record.token.name})</Text>\n            </Flex>\n          )\n        },\n      },\n      {\n        title: '',\n        dataIndex: 'availAmount',\n        key: 'availAmount',\n      },\n      {\n        title: '',\n        dataIndex: 'frozenAmount',\n        key: 'frozenAmount',\n      },\n      {\n        title: '(+)',\n        dataIndex: 'totalAmount',\n        key: 'totalAmount',\n      },\n      {\n        align: 'center',\n        title: ``,\n        dataIndex: '',\n        key: 'ops',\n        width: 180,\n        render: (unused, record) => (\n          <Flex>\n            <Dropdown overlay={\n              <Menu onClick={({key: pair}) => {\n                let [base, quote] = pair.split('-')\n                setCurrentTab(quote)\n                let currentMarket = _.find(marketsStore.markets, {market: pair})\n                setCurrentMarket(currentMarket)\n                history.push({ pathname: `/`})\n              }}>\n                {\n                  marketOptions.map((menu) => (\n                    <Menu.Item key={menu.market}>\n                      <Text fontSize={[0, 0, 0]} color='hint'>{ menu.market }</Text>\n                    </Menu.Item>\n                  ))\n                }\n              </Menu>\n              }\n              placement=\"bottomCenter\" overlayClassName=\"nav-menu\"\n            >\n              <Text color=\"#0078FF\" mr={\"6px\"} sx={{ cursor: 'pointer' }} onMouseEnter={() => {\n                let markets = config.getMarkets().filter(market => market.baseToken === record.token.symbol || market.quoteToken === record.token.symbol)\n                this.setState({marketOptions: markets})\n              }}></Text>\n            </Dropdown>\n            <Text color=\"#0078FF\" mr={\"6px\"}\n              sx={{ cursor: 'pointer' }}\n              onClick={() => TransferModal({\n                initialSymbol: record.token.symbol,\n                initialType: 'withdraw',\n              })}\n            >\n              \n            </Text>\n            <Text color=\"#0078FF\"\n              sx={{ cursor: 'pointer' }}\n              onClick={async () => {\n                history.push({ pathname: `/mine/transfer`, data: {\n                  initialSymbol: record.token.symbol,\n                  initialSide: 'DEPOSIT',\n                }})\n              }}\n            >\n              \n            </Text>\n          </Flex>\n        )\n      }\n    ]\n\n    return (\n      <>\n        { this.renderOverview() }\n        <Box style={{position: 'relative'}}>\n          { this.renderFilters() }\n          <Tabs className=\"balance-tab\" onChange={(key) => this.onChangeTab(key)} type=\"card\">\n            <TabPane tab=\"\" key=\"wallet\">\n              <Table rowKey=\"symbol\" columns={walletColumns} dataSource={walletBalances}\n                className=\"mine-table\"\n                pagination={false}\n                locale={{emptyText: ''}}\n              />\n            </TabPane>\n            <TabPane tab=\"\" key=\"dex\">\n              <Table rowKey=\"tokenId\" columns={dexColumns} dataSource={balances}\n                className=\"mine-table\"\n                pagination={false}\n                locale={{emptyText: ''}}\n              />\n            </TabPane>\n          </Tabs>\n        </Box>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = ({ dexAccount, balance, walletBalance, rate, markets }) => {\n  return {\n    dexAccount,\n    balance,\n    walletBalance,\n    rate,\n    markets\n  };\n};\n\nconst mapDispatchToProps = ({ balance, walletBalance, transfer, markets }) => {\n  return {\n    fetchBalances: balance.fetchBalances,\n    fetchWalletBalances: walletBalance.fetchAllBalances,\n    setCurrentTab: markets.setCurrentTab,\n    setCurrentMarket: markets.setCurrentMarket,\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget))","import numeral from 'numeral';\nimport _ from 'lodash'\nimport moment from 'moment'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Pagination } from 'components';\nimport { Table, Select, DatePicker } from 'antd';\nimport { ENUM_TX_STATUS } from 'utils/enum'\nimport { config } from 'librarys/lightcone_v3';\nconst { Option } = Select;\nconst { RangePicker } = DatePicker;\n\nconst transferColumns = [\n  {\n    title: '',\n    dataIndex: 'symbol',\n    key: 'symbol',\n    width: 90,\n    render: (symbol, record) => {\n      return (\n        <Flex>\n          <Text>{symbol}</Text>\n        </Flex>\n      )\n    },\n  },\n  {\n    title: '',\n    dataIndex: 'timestamp',\n    key: 'timestamp',\n    width: 160,\n    render: (timestamp, row) => {\n      return (<Text>{moment(timestamp).format('YYYY-MM-DD HH:mm:ss')}</Text>)\n    }\n  },\n  {\n    title: '',\n    dataIndex: 'txType',\n    key: 'txType',\n    width: 100,\n    render: (txType, row) => {\n      return (<Text>{txType === 'deposit' ? '' : ''}</Text>)\n    }\n  },\n  {\n    title: '',\n    dataIndex: 'txType',\n    key: 'txType2',\n    width: 100,\n    render: (txType, row) => {\n      return (<Text>{txType === 'deposit' ? '' : ''}</Text>)\n    }\n  },\n  {\n    title: '',\n    dataIndex: 'realAmount',\n    key: 'realAmount',\n    width: 150,\n    render: (realAmount, row) => (\n      <Text>{numeral(realAmount).format('0,0.[00000000]')}</Text>\n    )\n  },\n  {\n    title: '',\n    dataIndex: 'feeAmount',\n    key: 'feeAmount',\n    width: 150,\n    render: (feeAmount, row) => (\n      <Text>{numeral(feeAmount).format('0,0.[00000000]')} ETH</Text>\n    )\n  },\n  {\n    title: '',\n    dataIndex: 'status',\n    key: 'status',\n    width: 50,\n    render: (status, row) => (\n      <Text>{ENUM_TX_STATUS.toText(status)}</Text>\n    )\n  },\n];\n\nlet tokens = config.getTokens()\nconst symbols = tokens.map(token => token.symbol)\n\nclass Widget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filters: {\n        symbol: undefined,\n        side: undefined,\n        status: undefined\n      }\n    }\n  }\n\n  async componentDidMount() {\n    let { initialSymbol, initialSide } = this.props.history.location.data || {}\n    if (initialSymbol) {\n      await this.onSymbolChanged(initialSymbol)\n    }\n    if (initialSide) {\n      await this.onSideChanged(initialSide)\n    }\n    this.props.fetchTransactions()\n  }\n\n  async onSymbolChanged (symbol) {\n    this.setState(({ filters }) => {\n      filters.symbol = symbol\n      return { filters }\n    })\n    await this.props.updateFilterCond({ token: symbol })\n  }\n\n  async onSideChanged (side) {\n    this.setState(({ filters }) => {\n      filters.side = side\n      return { filters }\n    })\n\n    let types = side && (side === 'WITHDRAW' ? ['onchainWithdrawal'] : ['deposit'])\n    await this.props.updateFilterCond({ types })\n  }\n\n  async onStatusChanged (status) {\n    this.setState(({ filters }) => {\n      filters.status = status\n      return { filters }\n    })\n    await this.props.updateFilterCond({ statuses: [status] })\n  }\n\n  renderFilters () {\n    let { updateFilterCond, fetchTransactions } = this.props\n    return (\n      <Flex justifyContent=\"flex-end\" flex={1}>\n        <Select\n          placeholder=\"\"\n          allowClear\n          style={{ width: 140, color: '#323232' }}\n          value={this.state.filters.symbol}\n          onChange={symbol => {\n            this.onSymbolChanged(symbol)\n            fetchTransactions()\n          }}\n        >\n          {\n            symbols.map(symbol => (\n              <Option key={symbol} value={symbol}>{symbol}</Option>\n            ))\n          }\n        </Select>\n        <Select\n          placeholder=\"\"\n          allowClear\n          style={{ width: 180, color: '#323232', marginLeft: '20px', marginRight: '20px' }}\n          value={this.state.filters.side}\n          onChange={async (side) => {\n            this.onSideChanged(side)\n            fetchTransactions()\n          }}\n        >\n          <Option value={'DEPOSIT'}>{'  '}</Option>\n          <Option value={'WITHDRAW'}>{'  '}</Option>\n        </Select>\n        <Select\n          placeholder=\"\"\n          allowClear\n          style={{ width: 140, color: '#323232', marginRight: '20px' }}\n          onChange={async (status) => {\n            this.onStatusChanged(status)\n            fetchTransactions()\n          }}\n        >\n          {\n            _.map(ENUM_TX_STATUS.getOptions(), status => (\n              <Option key={status.value} value={status.value}>{status.label}</Option>\n            ))\n          }\n        </Select>\n        <RangePicker placeholder={['', '']} onChange={async range => {\n          let [start, end] = range\n          start = start && start.startOf('day').toDate().valueOf()\n          end = end && end.endOf('day').toDate().valueOf()\n\n          console.info({start, end})\n          await updateFilterCond({\n            start,\n            end\n          })\n          fetchTransactions()\n        }} />\n      </Flex>\n    )\n  }\n\n  render() {\n    let { transfer } = this.props\n    // TODO:  render \n    \n    let transfers = transfer.list.map(transfer => {\n      let { symbol, amount, realAmount, feeAmount } = transfer\n      let token = config.getTokenBySymbol(symbol)\n      let ethToken = config.getTokenBySymbol('ETH')\n      return {\n        ...transfer,\n        token,\n        amount: config.fromWEI(token.symbol, amount, token.precision),\n        realAmount: config.fromWEI(token.symbol, realAmount, token.precision),\n        feeAmount: config.fromWEI(ethToken.symbol, feeAmount, ethToken.precision)\n      }\n    })\n\n    return (\n      <Box>\n        { this.renderFilters() }\n        <Table rowKey=\"tokenId\" columns={transferColumns} dataSource={transfers}\n          className=\"mine-table\"\n          pagination={false}\n          style={{ minHeight: '450px' }}\n          locale={{emptyText: ''}}\n        />\n        {/* <Pagination ref={pagination => this.pagination = pagination} fetchData={this.fetchData} onFetched={this.onDataFetched}></Pagination> */}\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ transfer, markets }) => {\n  return {\n    transfer,\n    markets\n  };\n};\n\nconst mapDispatchToProps = ({ transfer }) => {\n  return {\n    fetchTransactions: transfer.fetchTransactions,\n    updateFilterCond: transfer.updateFilterCond,\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget))","import numeral from 'numeral';\nimport _ from 'lodash'\nimport moment from 'moment'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Pagination } from 'components';\nimport { config } from 'librarys/lightcone_v3';\nimport { Table, Select, DatePicker } from 'antd';\nimport utils from 'utils'\nimport api from 'api'\nimport { ENUM_ORDER_STATUS } from 'utils/enum'\nconst { Option } = Select;\nconst { RangePicker } = DatePicker;\n\nconst columns = [\n  {\n    align: 'left',\n    title: ``,\n    dataIndex: 'createdAt',\n    width: 90,\n    render: (unused, row) => {\n      return (<Text>{moment(row.createdAt).format('MM-DD HH:mm')}</Text>)\n    }\n  },\n  {\n    align: 'left',\n    title: ``,\n    dataIndex: 'market',\n    width: 100,\n    render: (market, row) => {\n      let [baseSymbol, quoteSymbol] = market.split('-')\n      return (<Flex>{baseSymbol}<Text color=\"hint\">/{quoteSymbol}</Text></Flex>)\n    }\n  },\n  {\n    align: 'left',\n    title: '',\n    dataIndex: 'side',\n    width: 30,\n    render: (unused, row) => {\n      return (<Text>{row.side === 'BUY' ? \"\" : \"\"}</Text>)\n    }\n  },\n  {\n    align: 'right',\n    title: ``,\n    dataIndex: 'filledSize',\n    width: 100,\n    render: (filledSize, row) => {\n      let isBuy = (row.side === 'BUY')\n      return (\n        <Text color={isBuy ? \"success\" : \"failure\"}>{isBuy ? '+' : '-'}{filledSize}</Text>\n      )\n    }\n  },\n  {\n    align: 'right',\n    title: ``,\n    dataIndex: 'price',\n    width: 100,\n    render: (price, row) => (\n      <Text>{price}</Text>\n    )\n  },\n  {\n    align: 'right',\n    title: ``,\n    dataIndex: 'volume',\n    width: 120,\n    render: volume => (\n      <Text>{volume}</Text>\n    )\n  },\n  // {\n  //   align: 'right',\n  //   title: ``,\n  //   dataIndex: 'filledSize',\n  //   width: 180,\n  //   render: (filledSize, row) => (\n  //     <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n  //       <Text mr={'4px'}>{filledSize}</Text>\n  //     </Flex>\n  //   )\n  // },\n  {\n    align: 'right',\n    title: ``,\n    dataIndex: 'filledFee',\n    width: 180,\n    render: (filledFee, row) => {\n      let [baseSymbol, quoteSymbol] = row.market.split('-')\n      return (\n        <Flex alignItems=\"center\" justifyContent=\"flex-end\">\n          <Text mr={'4px'}>{filledFee} {row.side === 'BUY' ? baseSymbol : quoteSymbol }</Text>\n        </Flex>\n      )\n    }\n  },\n  {\n    align: 'right',\n    title: '',\n    dataIndex: 'status',\n    key: 'status',\n    width: 100,\n    render: (status, row) => (\n      <Text>{ENUM_ORDER_STATUS.toText(status)}</Text>\n    )\n  },\n];\n\nclass Widget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n      filters: {\n        market: undefined,\n        start: undefined,\n        end: undefined,\n        side: undefined,\n        status: undefined\n      }\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  fetchData = async function (pageParams) {\n    let { dexAccount: { accountId, apiKey } } = this.props\n    let { filters: { market, side, start, end, status } } = this.state\n    let { offset, limit } = utils.formatPageParams(pageParams)\n\n    let resp = await api.getOrders({\n      accountId,\n      apiKey,\n      offset,\n      limit,\n      market,\n      side,\n      start,\n      end,\n      statuses: status ? [status] : undefined\n    })\n    let { totalNum, orders } = resp || {}\n\n    orders = orders || []\n    return {\n      // TODO: \n      count: totalNum || 0,\n      rows: orders\n    }\n  }.bind(this)\n  \n  onDataFetched = function (list) {\n    console.info({list})\n    this.setState({list})\n  }.bind(this)\n\n  renderFilters () {\n    let { markets: marketsStore } = this.props\n    let markets = marketsStore.markets.map(item => item.market)\n    return (\n      <Flex justifyContent=\"flex-end\" flex={1}>\n        <Select\n          placeholder=\"\"\n          allowClear\n          style={{ width: 140, color: '#323232', marginRight: '20px' }}\n          onChange={async (market) => {\n            console.info({market})\n            await this.setState(({ filters }) => {\n              filters.market = market\n              return { filters }\n            })\n            this.pagination.reset()\n          }}\n        >\n          {\n            markets.map(market => (\n              <Option key={market} value={market}>{market}</Option>\n            ))\n          }\n        </Select>\n        <Select\n          placeholder=\"\"\n          allowClear\n          style={{ width: 140, color: '#323232', marginRight: '20px' }}\n          onChange={async (side) => {\n            console.info({side})\n            await this.setState(({ filters }) => {\n              filters.side = side\n              return { filters }\n            })\n            this.pagination.reset()\n          }}\n        >\n          <Option value={'BUY'}>{''}</Option>\n          <Option value={'SELL'}>{''}</Option>\n        </Select>\n        <Select\n          placeholder=\"\"\n          allowClear\n          style={{ width: 140, color: '#323232', marginRight: '20px' }}\n          onChange={async (status) => {\n            console.info({status})\n            await this.setState(({ filters }) => {\n              filters.status = status\n              return { filters }\n            })\n            this.pagination.reset()\n          }}\n        >\n          {\n            _.map(ENUM_ORDER_STATUS.getOptions(), status => (\n              <Option key={status.value} value={status.value}>{status.label}</Option>\n            ))\n          }\n        </Select>\n        <RangePicker placeholder={['', '']} onChange={async range => {\n          let [start, end] = range\n          start = start && start.startOf('day').toDate().valueOf()\n          end = end && end.endOf('day').toDate().valueOf()\n\n          console.info({start, end})\n          await this.setState(({ filters }) => {\n            filters.start = start\n            filters.end = end\n            return { filters }\n          })\n          this.pagination.reset()\n        }} />\n      </Flex>\n    )\n  }\n\n  render() {\n    let { list } = this.state\n\n    return (\n      <Box>\n        { this.renderFilters() }\n        <Table rowKey=\"tokenId\" columns={columns} dataSource={list}\n          className=\"mine-table\"\n          pagination={false}\n          style={{ minHeight: '450px' }}\n          locale={{emptyText: ''}}\n        />\n        <Pagination ref={pagination => this.pagination = pagination} fetchData={this.fetchData} onFetched={this.onDataFetched}></Pagination>\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ dexAccount, markets }) => {\n  return {\n    dexAccount,\n    markets\n  };\n};\n\nconst mapDispatchToProps = ({ order }) => {\n  return {\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget))","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { Divider, Table } from 'antd';\nimport { Account } from 'librarys/lightcone_v3'\n\nclass Widget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  render() {\n    let { dexAccount, metaMask, initAccountFromMetaMask } = this.props\n    let { installed, startConnecting } = metaMask\n    let { address, accountId, apiKey, passwordHash } = dexAccount\n\n    if (startConnecting || !installed || !address || !passwordHash) return <></>\n\n    // TODO: window.wallet( initAccountFromMetaMask window.wallet)\n    // if (!window.wallet) {\n    //   window.wallet = ethereum.account.fromMetaMask(\n    //     window.web3,\n    //     address,\n    //     address\n    //   )\n    // }\n    let exchangeAccount = new Account(window.wallet)\n    const keyPair = exchangeAccount.generateKeyPair(passwordHash)\n\n    let infos = [\n      { label: 'ID', value: accountId },\n      { label: '', value: address },\n      { label: 'API', value: apiKey },\n      { label: 'X', value: keyPair.publicKeyX },\n      { label: 'Y', value: keyPair.publicKeyY },\n      { label: '', value: keyPair.secretKey },\n    ]\n\n    return (\n      <Box {...this.props}>\n        <Text mb={'14px'} color=\"#323232\" fontSize={16} fontWeight=\"bold\">API KEY</Text>\n        <Divider/>\n        <Box>\n        {\n          infos.map(info => (\n            <Flex key={info.label} height={50}>\n              <Text fontSize={14} width={100} color=\"#969696\">{info.label}:</Text>\n              <Text fontSize={14} color=\"#323232\">{info.value}</Text>\n            </Flex>\n          ))\n        }\n        </Box>\n      </Box>\n    )\n  }\n}\n\nconst mapStateToProps = ({ dexAccount, metaMask }) => {\n  return {\n    dexAccount,\n    metaMask\n  };\n};\n\nconst mapDispatchToProps = ({ metaMask }) => {\n  return {\n    initAccountFromMetaMask: metaMask.initAccountFromMetaMask\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget))","import _ from 'lodash'\nimport moment from 'moment'\nimport numeral from 'numeral'\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport { config } from 'librarys/lightcone_v3';\nimport { Pagination } from 'components';\nimport api from 'api'\n\nimport { Tabs, Table, Select, Checkbox } from 'antd';\nconst { TabPane } = Tabs;\nconst { Option } = Select;\n\nlet tokens = config.getTokens()\nconst symbols = tokens.map(token => token.symbol)\n\nclass Widget extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: []\n    }\n  }\n\n  componentDidMount() {\n    // this.props.fetchBalances()\n    this.props.fetchWalletBalances()\n  }\n\n  onChangeTab (key) {\n    if (key === 'mine') {\n    } else {\n    }\n  }\n\n  fetchData = async function (pageParams) {\n    let { dexAccount } = this.props\n    let resp = await api.getUserBillEggPrizeList({\n      // address: '0x2bbfe5650e9876fb313d6b32352c6dc5966a7b68',\n      address: dexAccount.address,\n      ...pageParams,\n      sort: 'billTime',\n      sortDirection: 'desc',\n      // TODO: delete\n      startDate: '2020-01-02 18:00:00'\n    })\n    return resp.data\n  }.bind(this)\n  \n  onDataFetched = function (list) {\n    console.info({list})\n    this.setState({list})\n  }.bind(this)\n\n  render() {\n    const columns = [\n      {\n        title: '',\n        dataIndex: 'billTime',\n        key: 'billTime',\n        render: (billTime, record) => {\n          return (\n            <Flex>\n              <Text>{moment(billTime).format('YYYY-MM-DD HH:mm:ss')}</Text>\n            </Flex>\n          )\n        },\n      },\n      {\n        title: '',\n        dataIndex: 'winnerWalletAddr',\n        key: 'winnerWalletAddr',\n      },\n      {\n        align: 'center',\n        title: ``,\n        dataIndex: 'money',\n        key: 'money',\n      },\n      {\n        align: 'center',\n        title: ``,\n        dataIndex: 'unit',\n        key: 'unit',\n      },\n      \n    ]\n    let { list } = this.state\n\n    return (\n      <>\n        <Box style={{position: 'relative'}}>\n          <Tabs className=\"balance-tab\" onChange={(key) => this.onChangeTab(key)} type=\"card\">\n            <TabPane tab=\"\" key=\"mine\">\n              <Table rowKey=\"symbol\" columns={columns} dataSource={list}\n                className=\"mine-table\"\n                pagination={false}\n                locale={{emptyText: ''}}\n              />\n              <Pagination autoload={true} ref={pagination => this.pagination = pagination} fetchData={this.fetchData} onFetched={this.onDataFetched}></Pagination>\n            </TabPane>\n            {/* <TabPane tab=\"\" key=\"all\">\n              <Table rowKey=\"tokenId\" columns={columns} dataSource={balances}\n                className=\"mine-table\"\n                pagination={false}\n                locale={{emptyText: ''}}\n              />\n            </TabPane> */}\n          </Tabs>\n          {/* <Pagination ref={pagination => this.pagination = pagination} fetchData={this.fetchData} onFetched={this.onDataFetched}></Pagination> */}\n        </Box>\n      </>\n    )\n  }\n}\n\nconst mapStateToProps = ({ dexAccount, balance, walletBalance }) => {\n  return {\n    dexAccount,\n    balance,\n    walletBalance\n  };\n};\n\nconst mapDispatchToProps = ({ balance, walletBalance, transfer }) => {\n  return {\n    fetchBalances: balance.fetchBalances,\n    fetchWalletBalances: walletBalance.fetchAllBalances,\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Widget))","import React from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\"\nimport {\n  Box,\n  Flex,\n  Image,\n  Heading,\n  Text\n} from 'rebass'\nimport {\n  Pair,\n  Trade,\n  TVChart,\n  PlaceOrder,\n  MyOrder,\n  Depth,\n} from 'widgets'\nimport { Tabs } from 'antd';\nimport Balance from './Balance';\nimport Transfer from './Transfer';\nimport Order from './Order';\nimport Apikey from './Apikey';\nimport Award from './Award';\nimport { UpsertPasswordModal } from 'widgets/Dialog'\n\nconst { TabPane } = Tabs;\n\nconst tabs = [\n  { title: '', key: 'balance', render: () => <Balance/> },\n  { title: '', key: 'transfer', render: () => <Transfer/> },\n  { title: '', key: 'order', render: () => <Order/> },\n  { title: 'API Key', key: 'apikey', render: () => <Apikey/> },\n  { title: '', key: 'award', render: () => <Award/> },\n  { title: '', key: 'password' },\n]\n\nclass Mine extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: tabs[0].key\n    }\n  }\n\n  componentDidMount() {\n    console.info(this.props.location)\n    let { tab } = this.props.match.params\n    this.setState({activeTab: tab})\n  }\n\n  componentWillReceiveProps(newProps) {\n    let { tab: oldTab } = this.props.match.params\n    let { tab: newTab } = newProps.match.params\n    if (oldTab !== newTab) {\n      this.setState({activeTab: newTab})\n    }\n  }\n\n  renderContent () {\n    let {activeTab} = this.state\n    let tab = _.find(tabs, { key: activeTab })\n    return tab.render && tab.render()\n  }\n\n  render() {\n    return (\n      <Flex pt={90} variant={'mine'} fontSize={14}>\n        <Flex flexDirection=\"column\" sx={{\n          borderLeft: '1px solid #F0F0F0',\n          borderTop: '1px solid #F0F0F0',\n        }}>\n        {\n          tabs.map(tab => (\n            <Box key={tab.key} variant=\"flexCenter\" width={150} height={50} lineHeight={'50px'} sx={{\n                bg: tab.key === this.state.activeTab ? '#eff7ff' : 'white',\n                color: tab.key === this.state.activeTab ? '#0078FF' : 'black',\n                cursor: 'pointer',\n                borderRight: '1px solid #F0F0F0',\n                borderBottom: '1px solid #F0F0F0',\n                textAlign: 'center',\n              }} onClick={async () => {\n                if (tab.key === 'password') {\n                  await UpsertPasswordModal()\n                  return\n                }\n                this.props.history.push(`/mine/${tab.key}`)\n              }}\n            >\n              {tab.title}\n            </Box>\n          ))\n        }\n        </Flex>\n        <Box width={1100} ml={60} mb={20}>\n        {\n          this.renderContent()\n        }\n        </Box>\n      </Flex>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n  };\n};\n\nexport default withRouter(connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Mine))","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router';\nimport MyOrders from 'components/my-orders/MyOrders';\nimport MyBalances from 'components/my-balances/MyBalances';\nimport Referral from 'components/referral/Referral';\n// import NavBarLevel1 from 'components/nav-bar/NavBarLevel1';\nimport TopNav from 'widgets/TopNav';\nimport Home from 'views/Home';\nimport Mine from 'views/mine/Mine';\n\nconst routes = (\n  <div>\n    {/* <NavBarLevel1 /> */}\n    <TopNav />\n    {/* Routes must be also defined in server.js */}\n    <Switch>\n      {/* <Route exact path=\"/\" render={() => <Redirect to=\"/trade/LRC-ETH\" />} />\n      <Route\n        exact\n        path=\"/trade\"\n        render={() => <Redirect to=\"/trade/LRC-ETH\" />}\n      /> */}\n      <Route exact path=\"/\" component={Home} />\n      <Route exact path=\"/mine/:tab\" component={Mine} />\n    </Switch>\n  </div>\n);\n\nexport default routes;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { ConnectedRouter } from 'connected-react-router';\nimport routes from './routes';\nimport { connect } from 'react-redux';\nimport { Spin, Icon } from 'antd';\nimport {\n  Box,\n} from 'rebass'\nimport './App.less';\n\nconst App = ({ history, ready, loading, connectToMetaMask, fetchMarkets, startSocket }) => {\n\n  //  persist/REHYDRATE \n  if (!ready) return <div></div>\n\n  return (\n    <div>\n      <Spin className=\"body-loading\" spinning={loading} size=\"large\" style={{height: '100vh', maxHeight: 'unset', zIndex:1001}}>\n        <ConnectedRouter history={history}>{routes}</ConnectedRouter>\n      </Spin>\n    </div>\n  )\n};\n\nApp.propTypes = {\n  history: PropTypes.object\n};\n\nconst mapState = ({ appState }) => {\n  return {\n    ready: appState.ready,\n    loading: appState.loading,\n  }\n}\n\nconst mapDispatch = ({ metaMask, markets, socket }) => {\n  return {\n    connectToMetaMask: metaMask.connectToMetaMask,\n    fetchMarkets: markets.fetchMarkets,\n    startSocket: socket.start\n  };\n};\n\nexport default connect(mapState, mapDispatch)(App)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","var topNavHeight = [50, 50, 50]\nvar tableHeaderHeight = [30, 30, 30]\nvar topNavDividerHeight = 3\nvar exchangeDividerHeight = 3\nexport default {\n  // breakpoints: ['40em', '52em', '64em'],\n  // TODO:  1920\n  breakpoints: ['1366px', '1919px'],\n  space: [\n    0,\n    4,\n    8,\n    16,\n    32,\n    64,\n    128,\n    256,\n    512\n  ],\n  fonts: {\n    body: 'system-ui, sans-serif',\n    heading: 'inherit',\n    monospace: 'Menlo, monospace'\n  },\n  fontSizes: [\n    12,\n    14,\n    16,\n    20,\n    24,\n    32,\n    48,\n    64,\n    96\n  ],\n  fontWeights: {\n    body: 400,\n    heading: 700,\n    bold: 700\n  },\n  lineHeights: {\n    body: 1.5,\n    heading: 1.125\n  },\n  colors: {\n    text: '#000',\n    background: '#0A0F1E',\n    backgroundTint: '#0F1428',\n    primary: '#07c',\n    secondary: '#30c',\n    muted: '#f6f6f6',\n    hint: '#646478',\n    blue: '#0064FF',\n    success: '#50BE8c',\n    failure: '#F0505A',\n  },\n  styles: {\n    root: {\n      fontFamily: 'body',\n      lineHeight: 'body',\n      fontWeight: 'body'\n    },\n    h1: {\n      color: 'text',\n      fontFamily: 'heading',\n      lineHeight: 'heading',\n      fontWeight: 'heading',\n      fontSize: 5\n    },\n    h2: {\n      color: 'text',\n      fontFamily: 'heading',\n      lineHeight: 'heading',\n      fontWeight: 'heading',\n      fontSize: 4\n    },\n    h3: {\n      color: 'text',\n      fontFamily: 'heading',\n      lineHeight: 'heading',\n      fontWeight: 'heading',\n      fontSize: 3\n    },\n    h4: {\n      color: 'text',\n      fontFamily: 'heading',\n      lineHeight: 'heading',\n      fontWeight: 'heading',\n      fontSize: 2\n    },\n    h5: {\n      color: 'text',\n      fontFamily: 'heading',\n      lineHeight: 'heading',\n      fontWeight: 'heading',\n      fontSize: 1\n    },\n    h6: {\n      color: 'text',\n      fontFamily: 'heading',\n      lineHeight: 'heading',\n      fontWeight: 'heading',\n      fontSize: 0\n    },\n    p: {\n      color: 'text',\n      fontFamily: 'body',\n      fontWeight: 'body',\n      lineHeight: 'body'\n    },\n    a: {\n      color: 'primary'\n    },\n    pre: {\n      fontFamily: 'monospace',\n      overflowX: 'auto',\n      code: {\n        color: 'inherit'\n      }\n    },\n    code: {\n      fontFamily: 'monospace',\n      fontSize: 'inherit'\n    },\n    table: {\n      width: '100%',\n      borderCollapse: 'separate',\n      borderSpacing: 0\n    },\n    th: {\n      textAlign: 'left',\n      borderBottomStyle: 'solid'\n    },\n    td: {\n      textAlign: 'left',\n      borderBottomStyle: 'solid'\n    },\n    img: {\n      maxWidth: '100%'\n    }\n  },\n  shadows: {\n    small: '0 0 4px rgba(0, 0, 0, .125)',\n    large: '0 0 24px rgba(0, 0, 0, .125)'\n  },\n  variants: {\n    divider: {\n      topNav: {\n        bg: 'black',\n        border: 0,\n        height: topNavDividerHeight\n      },\n      exchangeX: {\n        bg: 'black',\n        border: 0,\n        width: '100%',\n        height: exchangeDividerHeight\n      },\n      exchangeY: {\n        bg: 'black',\n        border: 0,\n        width: exchangeDividerHeight,\n        height: '100%'\n      }\n    },\n    topNav: {\n      height: topNavHeight,\n    },\n    exchange: {\n      position: 'fixed',\n      top: topNavHeight.map(height => `${height + topNavDividerHeight}px`),\n      bottom: 0,\n      borderBottom: `${topNavDividerHeight * 1.5}px solid black`,\n      overflow: 'hidden'\n    },\n    mine: {\n      minHeight: topNavHeight.map(height => `calc(100vh - ${height + topNavDividerHeight}px)`),\n      bg: 'white',\n      justifyContent: \"center\",\n      alignItems: \"flex-start\"\n    },\n    noScrollbar: {\n      '::-webkit-scrollbar': {\n        display: 'none'\n      }\n    },\n    flexCenter: {\n      justifyContent: \"space-around\",\n      alignItems: \"center\"\n    },\n    clickable: {\n      cursor: 'pointer'\n    }\n  },\n  text: {\n  },\n  buttons: {\n    primary: {\n      color: 'white',\n      bg: 'primary',\n    }\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { AppContainer } from 'react-hot-loader';\nimport { Provider } from 'react-redux';\n\nimport './index.less';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// import configureStore, { history } from 'redux/configureStore';\nimport {history, store, reloadSaga} from 'store'\n\nimport theme from './theme'\nimport { ThemeProvider } from 'emotion-theming'\n\n// loadTheme({\n//   palette: {\n//     themePrimary: '#303030',\n//     themeLighterAlt: '#eff6fc',\n//     themeLighter: '#deecf9',\n//     themeLight: '#c7e0f4',\n//     themeTertiary: '#71afe5',\n//     themeSecondary: '#2b88d8',\n//     themeDarkAlt: '#106ebe',\n//     themeDark: '#005a9e',\n//     themeDarker: '#004578',\n//     neutralLighterAlt: '#f8f8f8',\n//     neutralLighter: '#272727', // Used in dropdown item when it's hovered.\n//     neutralLight: '#252525', // Used in dropdown item selected\n//     neutralQuaternaryAlt: '#dadada',\n//     neutralQuaternary: '#d0d0d0',\n//     neutralTertiaryAlt: '#c8c8c8',\n//     neutralTertiary: '#c2c2c2',\n//     neutralSecondary: '#858585',\n//     neutralPrimaryAlt: '#4b4b4b',\n//     neutralPrimary: '#333333',\n//     neutralDark: '#eeeeee',\n//     black: '#1d1d1d',\n//     white: '#ffffff'\n//   }\n// });\n\n// const store = configureStore();\nconst render = () => {\n  ReactDOM.render(\n    <AppContainer>\n      <Provider store={store}>\n        <ThemeProvider theme={theme}>\n          <App history={history} />\n        </ThemeProvider>\n      </Provider>\n    </AppContainer>,\n    document.getElementById('root')\n  );\n};\n\nrender();\n\n// Hot reloading\nif (module.hot) {\n  // Reload components\n  module.hot.accept('./App', () => {\n    render();\n  });\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import ethUtil from \"ethereumjs-util\";\nimport BigNumber from \"bignumber.js\";\nimport BN from \"bn.js\";\n\nBigNumber.config({\n  EXPONENTIAL_AT: 20,\n  RANGE: [-100000, 10000000],\n  ROUNDING_MODE: 1\n});\n\n/**\n *\n * @param mixed Buffer|number|string (hex string must be with '0x' prefix)\n * @returns {Buffer}\n */\nexport function toBuffer(mixed) {\n  if (mixed instanceof Buffer) {\n    return mixed;\n  } else {\n    return ethUtil.toBuffer(mixed);\n  }\n}\n\n/**\n *\n * @param mixed number | BigNumber |  BN  | Buffer | string\n * @returns {string}\n */\nexport function toHex(mixed) {\n  if (\n    typeof mixed === \"number\" ||\n    mixed instanceof BigNumber ||\n    mixed instanceof BN\n  ) {\n    return addHexPrefix(mixed.toString(16));\n  }\n\n  if (mixed instanceof Buffer) {\n    return addHexPrefix(mixed.toString(\"hex\"));\n  }\n\n  if (typeof mixed === \"string\") {\n    const regex = new RegExp(/^0x[0-9a-fA-F]*$/);\n    return regex.test(mixed)\n      ? mixed\n      : addHexPrefix(toBuffer(mixed).toString(\"hex\"));\n  }\n  throw new Error(\"Unsupported type\");\n}\n\n/**\n *\n * @param mixed number | BigNumber |  BN  | Buffer | string\n * @returns {number}\n */\nexport function toNumber(mixed) {\n  if (typeof mixed === \"number\") {\n    return mixed;\n  }\n\n  if (mixed instanceof BigNumber || mixed instanceof BN) {\n    return mixed.toNumber();\n  }\n\n  if (typeof mixed === \"string\") {\n    return Number(mixed);\n  }\n\n  throw new Error(\"Unsupported type\");\n}\n\n/**\n *\n * @param mixed number | BigNumber |  BN  | Buffer | string\n * @returns {BigNumber}\n */\nexport function toBig(mixed) {\n  if (mixed instanceof BigNumber) {\n    return mixed;\n  }\n\n  if (typeof mixed === \"number\") {\n    return new BigNumber(mixed.toString());\n  }\n\n  if (typeof mixed === \"string\") {\n    return new BigNumber(mixed);\n  }\n\n  throw new Error(\"Unsupported type\");\n}\n\n/**\n *\n * @param mixed number | BigNumber |  BN  | Buffer | string\n * @returns {BN}\n */\nexport function toBN(mixed) {\n  return mixed instanceof BN ? mixed : new BN(toBig(mixed).toString(10), 10);\n}\n\n/**\n *\n * @param mixed number | BigNumber |  BN  | Buffer | string\n * @returns {BN}\n */\nexport function fromGWEI(value) {\n  return toBig(value).times(1e9);\n}\n\n/**\n *\n * @param mixed number | BigNumber |  BN  | Buffer | string\n * @returns {BN}\n */\nexport function toGWEI(valueInWEI) {\n  return toBig(valueInWEI).div(1e9);\n}\n\n/**\n * Returns formatted hex string of a given private key\n * @param mixed Buffer| string\n * @returns {string}\n */\nexport function formatKey(mixed) {\n  if (mixed instanceof Buffer) {\n    return mixed.toString(\"hex\");\n  }\n\n  if (typeof mixed === \"string\") {\n    return mixed.startsWith(\"0x\") ? mixed.slice(2) : mixed;\n  }\n  throw new Error(\"Unsupported type\");\n}\n\n/**\n * Returns hex string of a given address\n * @param mixed Buffer | string\n * @returns {string}\n */\nexport function formatAddress(mixed) {\n  if (mixed instanceof Buffer) {\n    return ethUtil.toChecksumAddress(\"0x\" + mixed.toString(\"hex\"));\n  }\n\n  if (typeof mixed === \"string\") {\n    return ethUtil.toChecksumAddress(\n      mixed.startsWith(\"0x\") ? mixed : \"0x\" + mixed\n    );\n  }\n  throw new Error(\"Unsupported type\");\n}\n\n/**\n * Returns hex string with '0x' prefix\n * @param input\n * @returns {string}\n */\nexport function addHexPrefix(input) {\n  if (typeof input === \"string\") {\n    return input.startsWith(\"0x\") ? input : \"0x\" + input;\n  }\n  throw new Error(\"Unsupported type\");\n}\n\n/**\n * Returns hex string without '0x' prefix\n * @param input string\n * @returns {string}\n */\nexport function clearHexPrefix(input) {\n  if (typeof input === \"string\") {\n    return input.startsWith(\"0x\") ? input.slice(2) : input;\n  }\n  throw new Error(\"Unsupported type\");\n}\n\n/**\n *\n * @param hex\n * @returns {string}\n */\nexport function padLeftEven(hex) {\n  return hex.length % 2 !== 0 ? `0${hex}` : hex;\n}\n\n/**\n * Returns symbol of a given kind of currency\n * @param settingsCurrency\n * @returns {*}\n */\nexport function getDisplaySymbol(settingsCurrency) {\n  switch (settingsCurrency) {\n    case \"CNY\":\n      return \"\";\n    case \"USD\":\n      return \"$\";\n    default:\n      return \"\";\n  }\n}\n\n/**\n * Returns number in string with a given precision\n * @param number number | BigNumber\n * @param precision number\n * @param ceil bool  round up\n * @returns {string}\n */\nexport function toFixed(number, precision, ceil) {\n  precision = precision || 0;\n  ceil = ceil || false;\n  if (number instanceof BigNumber) {\n    const rm = ceil ? 0 : 1;\n    return number.toFixed(precision, rm);\n  }\n\n  if (typeof number === \"number\") {\n    return ceil\n      ? (\n          Math.ceil(number * Number(\"1e\" + precision)) /\n          Number(\"1e\" + precision)\n        ).toFixed(precision)\n      : (\n          Math.floor(number * Number(\"1e\" + precision)) /\n          Number(\"1e\" + precision)\n        ).toFixed(precision);\n  }\n\n  throw new Error(\"Unsupported type\");\n}\n\nexport default {};\n","import { hashPersonalMessage, keccak } from \"ethereumjs-util\";\nimport formatter, { toBig, toHex } from \"./formatter\";\n\n/**\n * trim head space and tail space\n * @param str string\n */\nexport function trim(str) {\n  return str.replace(/(^\\s+)|(\\s+$)/g, \"\");\n}\n\n/**\n * trim all spaces\n * @param str\n */\nexport function trimAll(str) {\n  return trim(str).replace(/\\s/g, \"\");\n}\n\nexport function keccakHash(str) {\n  return toHex(keccak(str));\n}\n\nexport function calculateGas(gasPrice, gasLimit) {\n  return toBig(gasPrice)\n    .times(gasLimit)\n    .div(1e9);\n}\n\nexport default {\n  hashPersonalMessage,\n  ...formatter,\n  trim,\n  trimAll,\n  keccakHash,\n  calculateGas\n};\n","import validator from \"./validator\";\nimport Response from \"../common/response\";\nimport code from \"../common/code\";\nimport { addHexPrefix, toHex, toNumber } from \"../common/formatter\";\nimport { hashPersonalMessage, sha3 } from \"ethereumjs-util\";\nimport EthTransaction from \"ethereumjs-tx\";\n\n/**\n * @description sign hash\n * @param web3\n * @param account\n * @param hash\n * @returns {Promise.<*>}\n */\nexport async function sign(web3, account, hash) {\n  try {\n    validator.validate({ value: account, type: \"ETH_ADDRESS\" });\n  } catch (e) {\n    return Promise.resolve(\n      new Response(code.PARAM_INVALID.code, code.PARAM_INVALID.msg)\n    );\n  }\n\n  return new Promise(resolve => {\n    web3.eth.sign(account, hash, function(err, result) {\n      if (!err) {\n        const r = result.slice(0, 66);\n        const s = addHexPrefix(result.slice(66, 130));\n        const v = toNumber(addHexPrefix(result.slice(130, 132)));\n        resolve({ result: { r, s, v } });\n      } else {\n        const errorMsg = err.message.substring(0, err.message.indexOf(\" at \"));\n        resolve({ error: { message: errorMsg } });\n      }\n    });\n  });\n}\n\n/**\n * @description sign message\n * @param web3\n * @param account\n * @param message\n * @returns {Promise}\n */\nexport function signMessage(web3, account, message) {\n  const hash = toHex(hashPersonalMessage(sha3(message)));\n  return sign(web3, account, hash);\n}\n\n/**\n * @description Signs ethereum tx\n * @param web3\n * @param account\n * @param rawTx\n * @returns {Promise.<*>}\n */\nexport async function signEthereumTx(web3, account, rawTx) {\n  try {\n    validator.validate({ value: rawTx, type: \"TX\" });\n  } catch (e) {\n    return Promise.resolve(\n      new Response(code.PARAM_INVALID.code, code.PARAM_INVALID.msg)\n    );\n  }\n  try {\n    const ethTx = new EthTransaction(rawTx);\n    const hash = toHex(ethTx.hash(false));\n    const response = await sign(web3, account, hash);\n    if (!response[\"error\"]) {\n      const signature = response[\"result\"];\n      signature.v += ethTx._chainId * 2 + 8;\n      Object.assign(ethTx, signature);\n      return { result: toHex(ethTx.serialize()) };\n    } else {\n      return response;\n    }\n  } catch (e) {\n    console.log(\"Failed to sign EthereumTx\");\n    console.log(e);\n    return e;\n  }\n}\n\n/**\n * @description Sends ethereum tx through MetaMask\n * @param web3\n * @param tx\n * @returns {*}\n */\nexport function sendTransaction(web3, tx) {\n  try {\n    validator.validate({ type: \"TX\", value: tx });\n  } catch (e) {\n    return Promise.resolve(\n      new Response(code.PARAM_INVALID.code, code.PARAM_INVALID.msg)\n    );\n  }\n\n  return new Promise(resolve => {\n    web3.eth.sendTransaction(tx, function(err, transactionHash) {\n      if (!err) {\n        resolve({ result: transactionHash });\n      } else {\n        const errorMsg = err.message.substring(0, err.message.indexOf(\" at \"));\n        resolve({ error: { message: errorMsg } });\n      }\n    });\n  });\n}\n","import { fromEthSale, fromPrivateKey, fromV1, fromV3 } from \"ethereumjs-wallet\";\nimport { clearHexPrefix } from \"../common/formatter\";\n\n/**\n * Returns private key of given keystore\n * @param keystore string\n * @param password string\n * @returns {Buffer}\n */\nexport function decryptKeystoreToPkey(keystore, password) {\n  let wallet;\n  const parsed = JSON.parse(keystore);\n  switch (determineKeystoreType(keystore)) {\n    case \"presale\":\n      wallet = decryptPresaleToPrivKey(keystore, password);\n      break;\n    case \"v1-unencrypted\":\n      wallet = Buffer.from(parsed.private, \"hex\");\n      break;\n    case \"v1-encrypted\":\n      wallet = decryptMewV1ToPrivKey(keystore, password);\n      break;\n    case \"v2-unencrypted\":\n      wallet = Buffer.from(parsed.privKey, \"hex\");\n      break;\n    case \"v2-v3-utc\":\n      wallet = decryptUtcKeystoreToPkey(keystore, password);\n      break;\n    default:\n      throw new Error(\"unrecognized type of keystore\");\n  }\n  return wallet;\n}\n\n/**\n * Returns keystore of a given ethereum private key with password\n * @param privateKey\n * @param password\n * @returns {{version, id, address, crypto}}  keystore\n */\nexport function pkeyToKeystore(privateKey, password) {\n  return fromPrivateKey(privateKey).toV3(password, { c: 1024, n: 1024 });\n}\n\n/**\n * Returns ethereum private key of given v3 keystore\n * @param keystore string\n * @param password string\n * @returns {Buffer}\n */\nexport function decryptUtcKeystoreToPkey(keystore, password) {\n  return fromV3(keystore, password, true).getPrivateKey();\n}\n\n/**\n * Returns type of a given keystore\n * @param keystore string\n * @returns {string}\n */\nexport function determineKeystoreType(keystore) {\n  const parsed = JSON.parse(keystore);\n  if (parsed.encseed) {\n    return \"presale\";\n  } else if (parsed.Crypto || parsed.crypto) {\n    return \"v2-v3-utc\";\n  } else if (parsed.hash && parsed.locked === true) {\n    return \"v1-encrypted\";\n  } else if (parsed.hash && parsed.locked === false) {\n    return \"v1-unencrypted\";\n  } else if (parsed.publisher === \"MyEtherWallet\") {\n    return \"v2-unencrypted\";\n  } else {\n    throw new Error(\"Invalid keystore\");\n  }\n}\n\n/**\n * Returns ethereum  private key of given presale keystore\n * @param keystore string\n * @param password string\n * @returns {Buffer}\n */\nexport function decryptPresaleToPrivKey(keystore, password) {\n  return fromEthSale(keystore, password).getPrivateKey();\n}\n\n/**\n * Returns ethereum  private key of given v1 keystore\n * @param keystore string\n * @param password string\n * @returns {Buffer}\n */\nexport function decryptMewV1ToPrivKey(keystore, password) {\n  return fromV1(keystore, password).getPrivateKey();\n}\n\n/**\n * Checks whether a password is required to decrypt the given keystore\n * @param keystore string\n * @returns {boolean}\n */\nexport function isKeystorePassRequired(keystore) {\n  switch (determineKeystoreType(keystore)) {\n    case \"presale\":\n      return true;\n    case \"v1-unencrypted\":\n      return false;\n    case \"v1-encrypted\":\n      return true;\n    case \"v2-unencrypted\":\n      return false;\n    case \"v2-v3-utc\":\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Returns V3 format fileName\n * @param address\n * @returns {string}\n */\nexport function getFileName(address) {\n  const ts = new Date();\n  return [\n    \"UTC--\",\n    ts.toJSON().replace(/:/g, \"-\"),\n    \"--\",\n    clearHexPrefix(address),\n    \".json\"\n  ].join(\"\");\n}\n","// Taken from\n// https://github.com/iden3/circomlib\n\nconst bn128 = require(\"snarkjs\").bn128;\nconst bigInt = require(\"snarkjs\").bigInt;\nconst blake2b = require(\"blake2b\");\nconst assert = require(\"assert\");\n\nconst F = bn128.Fr;\nconst SEED = \"poseidon\";\nconst NROUNDSF = 8;\nconst NROUNDSP = 57;\nconst T = 6;\n\nfunction getPseudoRandom(seed, n) {\n  const res = [];\n  let input = Buffer.from(seed);\n  let h = blake2b(32)\n    .update(input)\n    .digest();\n  while (res.length < n) {\n    const n = F.affine(bigInt.leBuff2int(h));\n    res.push(n);\n    h = blake2b(32)\n      .update(h)\n      .digest();\n  }\n\n  return res;\n}\n\nfunction allDifferent(v) {\n  for (let i = 0; i < v.length; i++) {\n    if (v[i].isZero()) return false;\n    for (let j = i + 1; j < v.length; j++) {\n      if (v[i].equals(v[j])) return false;\n    }\n  }\n  return true;\n}\n\nexport function getMatrix(t, seed, nRounds) {\n  if (typeof seed === \"undefined\") seed = SEED;\n  if (typeof nRounds === \"undefined\") nRounds = NROUNDSF + NROUNDSP;\n  if (typeof t === \"undefined\") t = T;\n  let nonce = \"0000\";\n  let cmatrix = getPseudoRandom(seed + \"_matrix_\" + nonce, t * 2);\n  while (!allDifferent(cmatrix)) {\n    nonce = Number(nonce) + 1 + \"\";\n    while (nonce.length < 4) nonce = \"0\" + nonce;\n    cmatrix = getPseudoRandom(seed + \"_matrix_\" + nonce, t * 2);\n  }\n\n  const M = new Array(t);\n  for (let i = 0; i < t; i++) {\n    M[i] = new Array(t);\n    for (let j = 0; j < t; j++) {\n      M[i][j] = F.affine(F.inverse(F.sub(cmatrix[i], cmatrix[t + j])));\n    }\n  }\n  return M;\n}\n\nexport function getConstants(t, seed, nRounds) {\n  if (typeof seed === \"undefined\") seed = SEED;\n  if (typeof nRounds === \"undefined\") nRounds = NROUNDSF + NROUNDSP;\n  if (typeof t === \"undefined\") t = T;\n  return getPseudoRandom(seed + \"_constants\", nRounds);\n}\n\nfunction ark(state, c) {\n  for (let j = 0; j < state.length; j++) {\n    state[j] = F.add(state[j], c);\n  }\n}\n\nfunction sigma(a) {\n  return F.mul(a, F.square(F.square(a, a)));\n}\n\nfunction mix(state, M) {\n  const newState = new Array(state.length);\n  for (let i = 0; i < state.length; i++) {\n    newState[i] = F.zero;\n    for (let j = 0; j < state.length; j++) {\n      newState[i] = F.add(newState[i], F.mul(M[i][j], state[j]));\n    }\n  }\n  for (let i = 0; i < state.length; i++) state[i] = newState[i];\n}\n\nexport function createHash(t, nRoundsF, nRoundsP, seed?) {\n  if (typeof seed === \"undefined\") seed = SEED;\n  if (typeof nRoundsF === \"undefined\") nRoundsF = NROUNDSF;\n  if (typeof nRoundsP === \"undefined\") nRoundsP = NROUNDSP;\n  if (typeof t === \"undefined\") t = T;\n\n  assert(nRoundsF % 2 == 0);\n  const C = getConstants(t, seed, nRoundsF + nRoundsP);\n  const M = getMatrix(t, seed, nRoundsF + nRoundsP);\n  return function(inputs) {\n    let state = [];\n    assert(inputs.length < t);\n    assert(inputs.length > 0);\n    for (let i = 0; i < inputs.length; i++) state[i] = bigInt(inputs[i]);\n    for (let i = inputs.length; i < t; i++) state[i] = F.zero;\n\n    for (let i = 0; i < nRoundsF + nRoundsP; i++) {\n      ark(state, C[i]);\n      if (i < nRoundsF / 2 || i >= nRoundsF / 2 + nRoundsP) {\n        for (let j = 0; j < t; j++) state[j] = sigma(state[j]);\n      } else {\n        state[0] = sigma(state[0]);\n      }\n      mix(state, M);\n    }\n    return F.affine(state[0]);\n  };\n}\n","import { mnemonicToSeed, validateMnemonic } from \"bip39\";\nimport { fromMasterSeed } from \"hdkey\";\n\n/**\n * Decrypt mnemonic into ethereum private key\n * @param mnemonic string\n * @param password string\n * @param dpath string\n */\nexport function mnemonictoPrivatekey(mnemonic, dpath, password) {\n  if (dpath) {\n    mnemonic = mnemonic.trim();\n    if (!validateMnemonic(mnemonic)) {\n      throw new Error(\"Invalid mnemonic\");\n    }\n    const seed = mnemonicToSeed(mnemonic, password);\n    const derived = fromMasterSeed(seed).derive(dpath);\n    return derived.privateKey;\n  } else {\n    throw new Error(\"dpath can't be null\");\n  }\n}\n\n/**\n * Valid mnemonic\n * @param phrase string\n * @returns {bool}\n */\nexport function isValidateMnemonic(phrase) {\n  return validateMnemonic(phrase);\n}\n","export default [\n  {\n    symbol: \"ETH\",\n    title: \"Ethereum\",\n    icon: true\n  },\n  {\n    symbol: \"WETH\",\n    title: \"WETH\",\n    icon: true\n  },\n  {\n    symbol: \"LRC\",\n    title: \"Loopring\",\n    icon: true\n  },\n  {\n    symbol: \"EOS\",\n    title: \"EOS\",\n    icon: true\n  },\n  {\n    symbol: \"QTUM\",\n    title: \"QTUM\",\n    icon: true\n  },\n  {\n    symbol: \"BNB\",\n    title: \"Binance\",\n    icon: true\n  },\n  {\n    symbol: \"ZRX\",\n    title: \"0x\",\n    icon: true\n  },\n  {\n    symbol: \"XRP\",\n    title: \"Ripple\",\n    icon: true\n  },\n  {\n    symbol: \"SNT\",\n    icon: true\n  },\n  {\n    symbol: \"AE\",\n    icon: true\n  },\n  {\n    symbol: \"TRX\",\n    tile: \"TRON\",\n    icon: true\n  },\n  {\n    symbol: \"RDN\",\n    title: \"Raiden Network\"\n  },\n  {\n    symbol: \"BTM\"\n  },\n  {\n    symbol: \"MCO\"\n  },\n  {\n    symbol: \"PPT\"\n  },\n  {\n    symbol: \"SWT\"\n  },\n  {\n    symbol: \"NMR\"\n  },\n  {\n    symbol: \"MTL\"\n  },\n  {\n    symbol: \"REX\"\n  },\n  {\n    symbol: \"SNGLS\"\n  },\n  {\n    symbol: \"OMG\"\n  },\n  {\n    symbol: \"SAN\"\n  },\n  {\n    symbol: \"ANT\"\n  },\n  {\n    symbol: \"ATM\"\n  },\n  {\n    symbol: \"DNT\"\n  },\n  {\n    symbol: \"STORJ\"\n  },\n  {\n    symbol: \"HMQ\"\n  },\n  {\n    symbol: \"TAAS\"\n  },\n  {\n    symbol: \"MGO\"\n  },\n  {\n    symbol: \"AST\"\n  },\n  {\n    symbol: \"LUN\"\n  },\n  {\n    symbol: \"1ST\"\n  },\n  {\n    symbol: \"REQ\"\n  },\n\n  {\n    symbol: \"FUN\"\n  },\n  {\n    symbol: \"XAUR\"\n  },\n  {\n    symbol: \"PAY\"\n  },\n  {\n    symbol: \"SALT\"\n  },\n  {\n    symbol: \"CFI\"\n  },\n  {\n    symbol: \"WINGS\"\n  },\n  {\n    symbol: \"GNT\"\n  },\n  {\n    symbol: \"TKN\"\n  },\n  {\n    symbol: \"GUP\"\n  },\n  {\n    symbol: \"BAT\"\n  },\n  {\n    symbol: \"RCN\"\n  },\n  {\n    symbol: \"KNC\"\n  },\n  {\n    symbol: \"PPP\"\n  },\n  {\n    symbol: \"MLN\"\n  },\n  {\n    symbol: \"REP\"\n  },\n  {\n    symbol: \"NET\"\n  },\n  {\n    symbol: \"WTC\"\n  },\n  {\n    symbol: \"MANA\"\n  },\n  {\n    symbol: \"CVC\"\n  },\n  {\n    symbol: \"ICN\"\n  },\n  {\n    symbol: \"RDN\"\n  },\n  {\n    symbol: \"ETHOS\"\n  },\n  {\n    symbol: \"POWR\"\n  },\n  {\n    symbol: \"BNT\"\n  },\n  {\n    symbol: \"PLU\"\n  },\n  {\n    symbol: \"EDG\"\n  },\n  {\n    symbol: \"ENG\"\n  },\n  {\n    symbol: \"KIN\"\n  },\n  {\n    symbol: \"GNO\"\n  },\n  {\n    symbol: \"LINK\"\n  },\n  {\n    symbol: \"RLC\"\n  },\n  {\n    symbol: \"QSP\"\n  },\n  {\n    symbol: \"IND\"\n  },\n  {\n    symbol: \"TRST\"\n  },\n  {\n    symbol: \"CAT\"\n  }\n];\n","import tokens from \"./tokens\";\n\nimport configs from \"./config.json\";\nimport wallets from \"./dpath.json\";\n\nexport { tokens, configs, wallets };\n","export {\n  default as UpOutline\n} from \"@ant-design/icons/lib/outline/UpOutline\";\nexport {\n  default as DownOutline\n} from \"@ant-design/icons/lib/outline/DownOutline\";\nexport {\n  default as CloseOutline\n} from \"@ant-design/icons/lib/outline/CloseOutline\";\nexport {\n  default as CheckOutline\n} from \"@ant-design/icons/lib/outline/CheckOutline\";\n\nexport {\n  default as RightOutline\n} from \"@ant-design/icons/lib/outline/RightOutline\";\nexport {\n  default as LeftOutline\n} from \"@ant-design/icons/lib/outline/LeftOutline\";\n\nexport {\n  default as CheckCircleOutline\n} from \"@ant-design/icons/lib/outline/CheckCircleOutline\";\nexport {\n  default as InfoCircleOutline\n} from \"@ant-design/icons/lib/outline/InfoCircleOutline\";\nexport {\n  default as ExclamationCircleOutline\n} from \"@ant-design/icons/lib/outline/ExclamationCircleOutline\";\nexport {\n  default as CloseCircleOutline\n} from \"@ant-design/icons/lib/outline/CloseCircleOutline\";\nexport {\n  default as CloseCircleFill\n} from \"@ant-design/icons/lib/fill/CloseCircleFill\";\nexport {\n  default as SearchOutline\n} from \"@ant-design/icons/lib/outline/SearchOutline\";\n\nexport {\n  default as CaretUpFill\n} from \"@ant-design/icons/lib/fill/CaretUpFill\";\nexport {\n  default as CaretDownFill\n} from \"@ant-design/icons/lib/fill/CaretDownFill\";\nexport {\n  default as CaretDownOutline\n} from \"@ant-design/icons/lib/outline/CaretDownOutline\";\n\n// export {\n//   default as EyeInvisibleFill\n// } from \"@ant-design/icons/lib/fill/EyeInvisibleFill\";\n// export {\n//   default as EyeFill\n// } from \"@ant-design/icons/lib/fill/EyeFill\";\nexport {\n  default as EyeInvisibleOutline\n} from \"@ant-design/icons/lib/outline/EyeInvisibleOutline\";\nexport {\n  default as EyeOutline\n} from \"@ant-design/icons/lib/outline/EyeOutline\";\n\nexport {\n  default as StarFill\n} from \"@ant-design/icons/lib/fill/StarFill\";\n\n","import basicSchemas from \"../common/schemas\";\n\nlet standSchemas = {\n  BASIC_TX: {\n    to: {\n      ...basicSchemas.ADDRESS\n    },\n    value: {\n      ...basicSchemas.ETH_DATA\n    },\n    gasLimit: {\n      type: \"string\",\n      pattern: /^0x[0-9a-fA-F]{1,64}$/g\n    },\n    gasPrice: {\n      type: \"string\",\n      pattern: /^0x[0-9a-fA-F]{1,64}$/g\n    },\n    chainId: {\n      type: \"number\"\n    },\n    nonce: {\n      type: \"string\",\n      required: true,\n      pattern: /^0x[0-9a-fA-F]{1,64}$/g\n    },\n    data: {\n      type: \"string\",\n      required: true,\n      pattern: /^0x[0-9a-fA-F]*$/g\n    }\n  },\n  TX: {\n    to: {\n      ...basicSchemas.ADDRESS\n    },\n    value: {\n      ...basicSchemas.ETH_DATA\n    },\n    gasLimit: {\n      ...basicSchemas.ETH_DATA\n    },\n    gasPrice: {\n      ...basicSchemas.ETH_DATA\n    },\n    chainId: {\n      type: \"number\",\n      required: true\n    },\n    nonce: {\n      ...basicSchemas.ETH_DATA\n    },\n    data: {\n      type: \"string\",\n      required: true,\n      pattern: /^0x[0-9a-fA-F]*$/g\n    },\n    signed: {\n      type: \"string\"\n    }\n  },\n  BASIC_TOKEN: {\n    address: {\n      ...basicSchemas.ADDRESS\n    },\n    symbol: {\n      type: \"string\"\n    },\n    name: {\n      type: \"string\"\n    },\n    digits: {\n      type: \"number\"\n    },\n    unit: {\n      type: \"string\"\n    },\n    website: {\n      type: \"url\"\n    },\n    allowance: {\n      type: \"number\"\n    },\n    precision: {\n      type: \"number\"\n    },\n    minTradeValue: {\n      type: \"number\"\n    }\n  },\n  TOKEN: {\n    address: {\n      ...basicSchemas.ADDRESS\n    },\n    symbol: {\n      type: \"string\",\n      required: true\n    },\n    name: {\n      type: \"string\",\n      required: true\n    },\n    digits: {\n      type: \"number\",\n      required: true\n    },\n    unit: {\n      type: \"string\",\n      required: true\n    },\n    website: {\n      type: \"url\"\n    },\n    allowance: {\n      type: \"number\",\n      required: true\n    },\n    precision: {\n      type: \"number\",\n      required: true\n    },\n    minTradeValue: {\n      type: \"number\",\n      required: true\n    }\n  }\n};\n\n// Hack: What is standSchemas?\nexport default standSchemas;\n","import Schema from \"async-validator\";\nimport basicSchemas from \"../common/schemas\";\nimport transactionSchmas from \"./schemas\";\n\nconst schemas = {\n  basic: {\n    ...basicSchemas\n  },\n  transaction: {\n    ...transactionSchmas\n  }\n};\n\nlet handleErrors = (errors, fields) => {\n  let msgs = errors.map(err => err.message).join();\n  throw new Error(`data type invalid: ${msgs} \\n`);\n};\n\nlet validate = payload => {\n  let { type, value, onError, onSuccess } = payload;\n  let source = {};\n  let schema = {};\n\n  // fix bug: if value undefined or null\n  if (typeof value === \"undefined\") {\n    throw new Error(`data type invalid: ${type} should not be undefined`);\n  }\n  if (value === null) {\n    throw new Error(`data type invalid: ${type} should not be null`);\n  }\n\n  if (schemas[\"basic\"][type]) {\n    // validate one field , schema & source must just has one field\n    schema[type] = schemas[\"basic\"][type];\n    source[type] = value;\n  }\n  if (schemas[\"transaction\"][type]) {\n    // validate multiple fileds , schema & source must has multiple fields\n    schema[type] = {\n      type: \"object\",\n      required: true,\n      fields: schemas[\"transaction\"][type]\n    };\n    source[type] = value;\n  }\n\n  // TODO: if schema empty\n  let validator = new Schema(schema);\n  validator.validate(source, (errors, fields) => {\n    if (errors) {\n      console.log(\"validate start source\", source);\n      console.log(\"validate start schema\", schema);\n      if (onError) {\n        onError(errors, fields);\n      } else {\n        handleErrors(errors, fields);\n      }\n    } else {\n      if (onSuccess) {\n        onSuccess();\n      }\n    }\n  });\n};\n\nexport default {\n  validate\n};\n","// @ts-ignore\n/* ts-disable */\nimport validator from \"./validator\";\nimport {\n  addHexPrefix,\n  formatAddress,\n  formatKey,\n  toBuffer,\n  toHex,\n  toNumber\n} from \"../common/formatter\";\nimport { decryptKeystoreToPkey, pkeyToKeystore } from \"./keystore\";\nimport {\n  ecsign,\n  hashPersonalMessage,\n  privateToAddress,\n  privateToPublic,\n  publicToAddress,\n  sha3\n} from \"ethereumjs-util\";\nimport { mnemonictoPrivatekey } from \"./mnemonic\";\nimport { generateMnemonic } from \"bip39\";\nimport { trimAll } from \"../common/utils\";\nimport HDKey from \"hdkey\";\nimport EthTransaction from \"ethereumjs-tx\";\nimport * as MetaMask from \"./metaMask\";\nimport Wallet from \"ethereumjs-wallet\";\n\nimport wallets from \"../config/wallets.json\";\nconst LoopringWallet = wallets.find(\n  wallet => trimAll(wallet.name).toLowerCase() === \"loopringwallet\"\n);\nexport const path = LoopringWallet.dpath;\n\nexport function createWallet() {\n  return Wallet.generate();\n}\n\n/**\n * @description Returns the ethereum address  of a given private key\n * @param privateKey\n * @returns {string}\n */\nexport function privateKeytoAddress(privateKey) {\n  try {\n    if (typeof privateKey === \"string\") {\n      validator.validate({ value: privateKey, type: \"ETH_KEY\" });\n      privateKey = toBuffer(addHexPrefix(privateKey));\n    } else {\n      validator.validate({ value: privateKey, type: \"PRIVATE_KEY_BUFFER\" });\n    }\n  } catch (e) {\n    throw new Error(\"Invalid private key\");\n  }\n  return formatAddress(privateToAddress(privateKey));\n}\n\n/**\n * @description Returns the ethereum address of a given public key.\n * Accepts \"Ethereum public keys\" and SEC1 encoded keys.\n * @param publicKey Buffer | string\n * @param sanitize bool [sanitize=false] Accept public keys in other formats\n * @returns {string}\n */\nexport function publicKeytoAddress(publicKey, sanitize) {\n  publicKey = toBuffer(publicKey);\n  return formatAddress(publicToAddress(publicKey, sanitize));\n}\n\n/**\n *\n * @param publicKey\n * @param chainCode\n * @param pageSize\n * @param pageNum\n * @returns {<Array>}\n */\nexport function getAddresses({ publicKey, chainCode, pageSize, pageNum }) {\n  const addresses = [];\n  const hdk = new HDKey();\n  hdk.publicKey =\n    publicKey instanceof Buffer ? publicKey : toBuffer(addHexPrefix(publicKey));\n  hdk.chainCode =\n    chainCode instanceof Buffer ? chainCode : toBuffer(addHexPrefix(chainCode));\n  for (let i = 0; i < pageSize; i++) {\n    const dkey = hdk.derive(`m/${i + pageSize * pageNum}`);\n    addresses.push(publicKeytoAddress(dkey.publicKey, true));\n  }\n  return addresses;\n}\n\n/**\n * @description Returns the ethereum public key of a given private key.\n * @param privateKey Buffer | string\n * @returns {string}\n */\nexport function privateKeytoPublic(privateKey) {\n  try {\n    if (typeof privateKey === \"string\") {\n      validator.validate({ value: privateKey, type: \"ETH_KEY\" });\n      privateKey = toBuffer(addHexPrefix(privateKey));\n    } else {\n      validator.validate({ value: privateKey, type: \"PRIVATE_KEY_BUFFER\" });\n    }\n  } catch (e) {\n    throw new Error(\"Invalid private key\");\n  }\n  return formatKey(privateToPublic(privateKey));\n}\n\n/**\n * @description Returns WalletAccount of given mnemonic, dpath and password\n * @param mnemonic string\n * @param dpath string\n * @param password string\n * @returns {WalletAccount}\n */\nexport function fromMnemonic(mnemonic, dpath, password) {\n  const privateKey = mnemonictoPrivatekey(mnemonic, dpath, password);\n  return fromPrivateKey(privateKey);\n}\n\n/**\n * @description Returns WalletAccount of a given private key\n * @param privateKey string | buffer\n * @returns {WalletAccount}\n */\nexport function fromPrivateKey(privateKey) {\n  return new PrivateKeyAccount(privateKey);\n}\n\n/**\n * @description Returns WalletAccount of the given keystore\n * @param keystore string\n * @param password string\n * @returns {WalletAccount}\n */\nexport function fromKeystore(keystore, password) {\n  const privateKey = decryptKeystoreToPkey(keystore, password);\n  return fromPrivateKey(privateKey);\n}\n\nexport function fromMetaMask(web3, account, address) {\n  return new MetaMaskAccount(web3, account, address);\n}\n\n/**\n * @description generate mnemonic\n * @param strength\n * @returns {*}\n */\nexport function createMnemonic(strength) {\n  return generateMnemonic(strength || 256);\n}\n\n// Hack: Failed to import in react web app\nexport class WalletAccount {\n  // Hack: to use in typescript\n  getAddress() {\n    return \"1\";\n  }\n\n  // /**\n  //  * @description sign\n  //  * @param hash\n  //  */\n  // sign(hash) {\n  //     throw Error('unimplemented');\n  // }\n\n  // /**\n  //  * @description Returns serialized signed ethereum tx\n  //  * @param rawTx\n  //  * @returns {string}\n  //  */\n  signEthereumTx(rawTx) {\n    throw Error(\"unimplemented\");\n  }\n\n  // /**\n  //  * @description Returns given order along with r, s, v\n  //  * @param order\n  //  */\n  // signOrder(order) {\n  //     throw Error('unimplemented');\n  // }\n\n  // /**\n  //  * @description Calculates an Ethereum specific signature with: sign(keccak256(\"\\x19Ethereum Signed Message:\\n\" + len(message) + message))).\n  //  * @param message string\n  //  */\n  // signMessage(message) {\n  //     throw Error('unimplemented');\n  // }\n\n  async sendTransaction(ethNode, signedTx) {\n    const response = await ethNode.sendRawTransaction(signedTx);\n    console.log(\"WalletAccount sendTransaction: \", response);\n    return response;\n  }\n}\n\nexport class PrivateKeyAccount extends WalletAccount {\n  privateKey: any;\n\n  /**\n   * @property\n   * @param privateKey string | Buffer\n   */\n  constructor(privateKey) {\n    super();\n    try {\n      if (typeof privateKey === \"string\") {\n        validator.validate({ value: privateKey, type: \"ETH_KEY\" });\n        privateKey = toBuffer(addHexPrefix(privateKey));\n      } else {\n        validator.validate({ value: privateKey, type: \"PRIVATE_KEY_BUFFER\" });\n      }\n    } catch (e) {\n      throw new Error(\"Invalid private key\");\n    }\n    this.privateKey = privateKey;\n  }\n\n  /**\n   * @description Returns V3 type keystore of this account\n   * @param password\n   * @returns {{version, id, address, crypto}}\n   */\n  toV3Keystore(password) {\n    return pkeyToKeystore(this.privateKey, password);\n  }\n\n  /**\n   * Returns ethereum public key of this account\n   * @returns {string}\n   */\n  getPublicKey() {\n    return privateKeytoPublic(this.privateKey);\n  }\n\n  getAddress() {\n    return privateKeytoAddress(this.privateKey);\n  }\n\n  sign(hash) {\n    hash = toBuffer(hash);\n    const signature = ecsign(hash, this.privateKey);\n    const v = toNumber(signature.v);\n    const r = toHex(signature.r);\n    const s = toHex(signature.s);\n    return { r, s, v };\n  }\n\n  signMessage(message) {\n    const hash = sha3(message);\n    const finalHash = hashPersonalMessage(hash);\n    return this.sign(finalHash);\n  }\n\n  signEthereumTx(rawTx) {\n    validator.validate({ type: \"TX\", value: rawTx });\n    const ethTx = new EthTransaction(rawTx);\n    ethTx.sign(this.privateKey);\n    return toHex(ethTx.serialize());\n  }\n}\n\nexport class MetaMaskAccount extends WalletAccount {\n  web3: any;\n  account: any;\n  address: string;\n\n  constructor(web3, account, address) {\n    super();\n    this.web3 = web3;\n    this.account = account;\n    this.address = address;\n  }\n\n  getAddress() {\n    return this.address;\n  }\n\n  async sign(hash) {\n    const result = await MetaMask.sign(this.web3, this.account, hash);\n    if (!result[\"error\"]) {\n      return result[\"result\"];\n    } else {\n      // SDK shouldn't throw any error\n      throw new Error(result[\"error\"][\"message\"]);\n    }\n  }\n\n  async signMessage(message) {\n    const result = await MetaMask.signMessage(this.web3, this.account, message);\n    if (!result[\"error\"]) {\n      return result[\"result\"];\n    } else {\n      // SDK shouldn't throw any error\n      throw new Error(result[\"error\"][\"message\"]);\n    }\n  }\n\n  async signEthereumTx(rawTx) {\n    const result = await MetaMask.signEthereumTx(\n      this.web3,\n      this.account,\n      rawTx\n    );\n    if (!result[\"error\"]) {\n      return result[\"result\"];\n    } else {\n      // SDK shouldn't throw any error\n      throw new Error(result[\"error\"][\"message\"]);\n    }\n  }\n}\n","import { BigNumber } from \"bignumber.js\";\nimport BN from \"bn.js\";\n\nconst assert = require(\"assert\");\nconst abi = require(\"ethereumjs-abi\");\n\nexport class Bitstream {\n  private data: string;\n\n  constructor(initialData: string = \"\") {\n    this.data = initialData;\n    if (this.data.startsWith(\"0x\")) {\n      this.data = this.data.slice(2);\n    }\n  }\n\n  public getData() {\n    if (this.data.length === 0) {\n      return \"0x\";\n    } else {\n      return \"0x\" + this.data;\n    }\n  }\n\n  public getBytes32Array() {\n    if (this.data.length === 0) {\n      return [];\n    } else {\n      assert.equal(\n        this.length() % 32,\n        0,\n        \"Bitstream not compatible with bytes32[]\"\n      );\n      return this.data.match(/.{1,64}/g).map(element => \"0x\" + element);\n    }\n  }\n\n  public addBigNumber(x: BigNumber, numBytes = 32) {\n    const formattedData = this.padString(x.toString(16), numBytes * 2);\n    return this.insert(formattedData);\n  }\n\n  public addBN(x: BN, numBytes = 32) {\n    const formattedData = this.padString(x.toString(16), numBytes * 2);\n    return this.insert(formattedData);\n  }\n\n  public addNumber(x: number, numBytes = 4) {\n    // Check if we need to encode this number as negative\n    if (x < 0) {\n      const encoded = abi.rawEncode([\"int256\"], [x.toString(10)]);\n      const hex = encoded.toString(\"hex\").slice(-(numBytes * 2));\n      return this.addHex(hex);\n    } else {\n      return this.addBigNumber(new BigNumber(x), numBytes);\n    }\n  }\n\n  public addAddress(x: string, numBytes = 20) {\n    const formattedData = this.padString(x.slice(2), numBytes * 2);\n    return this.insert(formattedData);\n  }\n\n  public addHex(x: string) {\n    if (x.startsWith(\"0x\")) {\n      return this.insert(x.slice(2));\n    } else {\n      return this.insert(x);\n    }\n  }\n\n  public extractUint8(offset: number) {\n    return parseInt(this.extractData(offset, 1), 16);\n  }\n\n  public extractUint16(offset: number) {\n    return parseInt(this.extractData(offset, 2), 16);\n  }\n\n  public extractUint24(offset: number) {\n    return parseInt(this.extractData(offset, 3), 16);\n  }\n\n  public extractUint32(offset: number) {\n    return parseInt(this.extractData(offset, 4), 16);\n  }\n\n  public extractUint40(offset: number) {\n    return parseInt(this.extractData(offset, 5), 16);\n  }\n\n  public extractUint48(offset: number) {\n    return parseInt(this.extractData(offset, 6), 16);\n  }\n\n  public extractUint56(offset: number) {\n    return new BN(this.extractData(offset, 7), 16);\n  }\n\n  public extractUint64(offset: number) {\n    return new BN(this.extractData(offset, 8), 16);\n  }\n\n  public extractUint(offset: number) {\n    return new BN(this.extractData(offset, 32), 16);\n  }\n\n  public extractAddress(offset: number) {\n    return \"0x\" + this.extractData(offset, 20);\n  }\n\n  public extractBytes1(offset: number) {\n    return this.extractBytesX(offset, 1);\n  }\n\n  public extractBytes32(offset: number) {\n    return this.extractBytesX(offset, 32);\n  }\n\n  public extractBytesX(offset: number, length: number) {\n    return new Buffer(this.extractData(offset, length), \"hex\");\n  }\n\n  public extractChar(offset: number) {\n    return this.extractData(offset, 1);\n  }\n\n  public extractData(offset: number, length: number) {\n    const start = offset * 2;\n    const end = start + length * 2;\n    if (this.data.length < end) {\n      throw new Error(\n        \"substring index out of range:[\" + start + \", \" + end + \"]\"\n      );\n    }\n    return this.data.slice(start, end);\n  }\n\n  // Returns the number of bytes of data\n  public length() {\n    return this.data.length / 2;\n  }\n\n  public static hashCode(s) {\n    for (var i = 0, h = 0; i < s.length; i++)\n      h = (Math.imul(31, h) + s.charCodeAt(i)) | 0;\n    return Math.abs(h);\n  }\n\n  private insert(x: string) {\n    const offset = this.length();\n    this.data += x;\n    return offset;\n  }\n\n  private padString(x: string, targetLength: number) {\n    if (x.length > targetLength) {\n      throw Error(\n        \"0x\" +\n          x +\n          \" is too big to fit in the requested length (\" +\n          targetLength +\n          \")\"\n      );\n    }\n    while (x.length < targetLength) {\n      x = \"0\" + x;\n    }\n    return x;\n  }\n}\n","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/wedexLogo.6266a393.svg\";","/* eslint-disable */\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e(t.TradingView={})}(this,function(t){\"use strict\";var e=Object.assign||function(t){for(var e,o=arguments,i=1,n=arguments.length;i<n;i++)for(var s in e=o[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t};function o(t,i){var n=e({},t);for(var s in i)\"object\"!=typeof t[s]||null===t[s]||Array.isArray(t[s])?void 0!==i[s]&&(n[s]=i[s]):n[s]=o(t[s],i[s]);return n}var i={mobile:{disabled_features:[\"left_toolbar\",\"header_widget\",\"timeframes_toolbar\",\"edit_buttons_in_legend\",\"context_menus\",\"control_bar\",\"border_around_the_chart\"],enabled_features:[]}},n={width:800,height:500,symbol:\"AA\",interval:\"D\",timezone:\"Etc/UTC\",container_id:\"\",library_path:\"\",locale:\"en\",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{\"mainSeriesProperties.showCountdown\":!1},studies_overrides:{},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:\"5y\",resolution:\"W\"},{text:\"1y\",resolution:\"W\"},{text:\"6m\",resolution:\"120\"},{text:\"3m\",resolution:\"60\"},{text:\"1m\",resolution:\"30\"},{text:\"5d\",resolution:\"5\"},{text:\"1d\",resolution:\"1\"}],client_id:\"0\",user_id:\"0\",charts_storage_api_version:\"1.0\",favorites:{intervals:[],chartTypes:[]}};function s(){return\"1.14 (internal id 36c29828 @ 2019-09-24 10:39:54.259301)\"}var r=function(){function t(t){if(this._id=\"tradingview_\"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error(\"Datafeed is not defined\");if(this._options=o(n,t),t.preset){var e=i[t.preset];e?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(e.disabled_features):this._options.disabled_features=e.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(e.enabled_features):this._options.enabled_features=e.enabled_features):console.warn(\"Unknown preset: `\"+t.preset+\"`\")}\"Dark\"===this._options.theme&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:\"#131722\"}),this._create()}return t.prototype.onChartReady=function(t){this._ready?t.call(this):this._readyHandlers.push(t)},t.prototype.headerReady=function(){var t=this;return this._innerWindowLoaded.then(function(){return t._innerWindow().headerReady()})},t.prototype.onGrayedObjectClicked=function(t){this._innerAPI().onGrayedObjectClicked(t)},t.prototype.onShortcut=function(t,e){this._innerWindow().createShortcutAction(t,e)},t.prototype.subscribe=function(t,e){this._innerAPI().subscribe(t,e)},t.prototype.unsubscribe=function(t,e){this._innerAPI().unsubscribe(t,e)},t.prototype.chart=function(t){return this._innerAPI().chart(t)},t.prototype.setLanguage=function(t){this.remove(),this._options.locale=t,this._create()},t.prototype.setSymbol=function(t,e,o){this._innerAPI().changeSymbol(t,e+\"\",o)},t.prototype.remove=function(){window.removeEventListener(\"resize\",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)},t.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},t.prototype.selectLineTool=function(t){this._innerAPI().selectLineTool(t)},t.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},t.prototype.save=function(t){this._innerAPI().saveChart(t)},t.prototype.load=function(t,e){this._innerAPI().loadChart({json:t,extendedData:e})},t.prototype.getSavedCharts=function(t){this._innerAPI().getSavedCharts(t)},t.prototype.loadChartFromServer=function(t){this._innerAPI().loadChartFromServer(t)},t.prototype.saveChartToServer=function(t,e,o,i){this._innerAPI().saveChartToServer(t,e,o,i)},t.prototype.removeChartFromServer=function(t,e){this._innerAPI().removeChartFromServer(t,e)},t.prototype.onContextMenu=function(t){this._innerAPI().onContextMenu(t)},t.prototype.createButton=function(t){return this._innerWindow().createButton(t)},t.prototype.showNoticeDialog=function(t){this._innerAPI().showNoticeDialog(t)},t.prototype.showConfirmDialog=function(t){this._innerAPI().showConfirmDialog(t)},t.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},t.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},t.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},t.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},t.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},t.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},t.prototype.addCustomCSSFile=function(t){this._innerWindow().addCustomCSSFile(t)},t.prototype.applyOverrides=function(t){this._options=o(this._options,{overrides:t}),this._innerWindow().applyOverrides(t)},t.prototype.applyStudiesOverrides=function(t){this._innerWindow().applyStudiesOverrides(t)},t.prototype.watchList=function(){return this._innerAPI().watchlist()},t.prototype.activeChart=function(){return this._innerAPI().activeChart()},t.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},t.prototype.layout=function(){return this._innerAPI().layout()},t.prototype.setLayout=function(t){this._innerAPI().setLayout(t)},t.prototype.layoutName=function(){return this._innerAPI().layoutName()},t.prototype.changeTheme=function(t){this._innerWindow().changeTheme(t)},t.prototype.takeScreenshot=function(){this._innerAPI().takeScreenshot()},t.prototype.lockAllDrawingTools=function(){return this._innerAPI().lockAllDrawingTools()},t.prototype.hideAllDrawingTools=function(){return this._innerAPI().hideAllDrawingTools()},t.prototype.undoRedoState=function(){return this._innerAPI().undoRedoState()},t.prototype._innerAPI=function(){return this._innerWindow().tradingViewApi},t.prototype._innerWindow=function(){return this._iFrame.contentWindow},t.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+\"px\")},t.prototype._create=function(){var t=this,e=this._render(),o=document.getElementById(this._options.container_id);if(null===o)throw new Error(\"There is no such element - #\"+this._options.container_id);o.innerHTML=e,this._iFrame=o.querySelector(\"#\"+this._id);var i=this._iFrame;(this._options.autosize||this._options.fullscreen)&&(i.style.width=\"100%\",this._options.fullscreen||(i.style.height=\"100%\")),window.addEventListener(\"resize\",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded=new Promise(function(t){var e=function(){i.removeEventListener(\"load\",e,!1),t()};i.addEventListener(\"load\",e,!1)}),this._innerWindowLoaded.then(function(){t._innerWindow().widgetReady(function(){t._ready=!0;for(var e=0,o=t._readyHandlers;e<o.length;e++){var i=o[e];try{i.call(t)}catch(t){console.error(t)}}t._innerWindow().initializationFinished()})})},t.prototype._render=function(){var t=window;t[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,customIndicatorsUrl:this._options.indicators_file_name},this._options.saved_data&&(t[this._id].chartContent={json:this._options.saved_data});var e=(this._options.library_path||\"\")+\"static/\"+encodeURIComponent(this._options.locale)+\"-tv-chart.36c29828de05fa4d10c3.html#symbol=\"+encodeURIComponent(this._options.symbol)+\"&interval=\"+encodeURIComponent(this._options.interval)+(this._options.timeframe?\"&timeframe=\"+encodeURIComponent(this._options.timeframe):\"\")+(this._options.toolbar_bg?\"&toolbarbg=\"+encodeURIComponent(this._options.toolbar_bg.replace(\"#\",\"\")):\"\")+(this._options.studies_access?\"&studiesAccess=\"+encodeURIComponent(JSON.stringify(this._options.studies_access)):\"\")+\"&widgetbar=\"+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?\"&drawingsAccess=\"+encodeURIComponent(JSON.stringify(this._options.drawings_access)):\"\")+\"&timeFrames=\"+encodeURIComponent(JSON.stringify(this._options.time_frames))+\"&locale=\"+encodeURIComponent(this._options.locale)+\"&uid=\"+encodeURIComponent(this._id)+\"&clientId=\"+encodeURIComponent(String(this._options.client_id))+\"&userId=\"+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?\"&chartsStorageUrl=\"+encodeURIComponent(this._options.charts_storage_url):\"\")+(this._options.charts_storage_api_version?\"&chartsStorageVer=\"+encodeURIComponent(this._options.charts_storage_api_version):\"\")+(this._options.custom_css_url?\"&customCSS=\"+encodeURIComponent(this._options.custom_css_url):\"\")+(this._options.auto_save_delay?\"&autoSaveDelay=\"+encodeURIComponent(String(this._options.auto_save_delay)):\"\")+\"&debug=\"+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?\"&snapshotUrl=\"+encodeURIComponent(this._options.snapshot_url):\"\")+(this._options.timezone?\"&timezone=\"+encodeURIComponent(this._options.timezone):\"\")+(this._options.study_count_limit?\"&studyCountLimit=\"+encodeURIComponent(String(this._options.study_count_limit)):\"\")+(this._options.symbol_search_request_delay?\"&ssreqdelay=\"+encodeURIComponent(String(this._options.symbol_search_request_delay)):\"\")+(this._options.theme?\"&theme=\"+encodeURIComponent(String(this._options.theme)):\"\");return'<iframe id=\"'+this._id+'\" name=\"'+this._id+'\"  src=\"'+e+'\"'+(this._options.autosize||this._options.fullscreen?\"\":' width=\"'+this._options.width+'\" height=\"'+this._options.height+'\"')+' frameborder=\"0\" allowTransparency=\"true\" scrolling=\"no\" allowfullscreen style=\"display:block;\"></iframe>'},t}();window.TradingView=window.TradingView||{},window.TradingView.version=s,t.version=s,t.widget=r,Object.defineProperty(t,\"__esModule\",{value:!0})});\n","module.exports = __webpack_public_path__ + \"static/media/depthAll.66afdc64.svg\";","module.exports = __webpack_public_path__ + \"static/media/depthSell.58406931.svg\";","module.exports = __webpack_public_path__ + \"static/media/depthBuy.efcbc04e.svg\";","module.exports = __webpack_public_path__ + \"static/media/award.86f95a8e.png\";","module.exports = __webpack_public_path__ + \"static/media/wedexLogoVertical.d319b12f.png\";","export default {\n  SUCC: { code: 0, msg: \"success\" },\n  PARAM_INVALID: { code: 1001, msg: \"parameter invalid\" }\n};\n","// Schema Help https://github.com/yiminghe/async-validator\n// required: value should be not empty eg: null, undefined, ''\n\nlet basicSchemas = {\n  STRING: {\n    type: \"string\",\n    required: true\n  },\n  OPTION_NUMBER: {\n    validator: (rule, value, cb) => {\n      if (value) {\n        if (typeof value === \"number\") {\n          cb();\n        } else {\n          cb(\"page number valid\");\n        }\n      } else {\n        cb();\n      }\n    }\n  },\n  URL: {\n    type: \"url\",\n    required: true\n  },\n  ADDRESS: {\n    type: \"string\",\n    required: true,\n    pattern: /^0x[0-9a-fA-F]{40}$/g\n  },\n  HEX: {\n    type: \"string\",\n    required: true,\n    pattern: /^0x[0-9a-fA-F]*$/g\n  },\n  ETH_DATA: {\n    type: \"string\",\n    required: true,\n    pattern: /^0x[0-9a-fA-F]{1,64}$/g\n  },\n  QUANTITY: {\n    type: \"string\",\n    required: true\n  },\n  PRIVATE_KEY: {\n    type: \"string\",\n    required: true,\n    len: 64\n  },\n  TX_HASH: {\n    type: \"string\",\n    required: true,\n    pattern: /^0x[0-9a-fA-F]{64}$/g\n  },\n  ABI_METHOD: {\n    type: \"enum\",\n    required: true,\n    enum: [\n      \"cancelOrder\",\n      \"cancelAllOrders\",\n      \"cancelOrdersByTokenPairs\",\n      \"approve\",\n      \"deposit\",\n      \"withdraw\",\n      \"transfer\",\n      \"balanceOf\",\n      \"allowance\",\n      \"symbol\",\n      \"name\",\n      \"decimals\",\n      \"bind\",\n      \"unbind\",\n      \"getBindingAddress\"\n    ]\n  },\n  RPC_TAG: {\n    type: \"enum\",\n    required: true,\n    enum: [\"latest\", \"earliest\", \"pending\"]\n  },\n  TIMESTAMP: {\n    type: \"string\"\n  },\n  PROJECT_ID: {\n    type: \"number\",\n    required: true,\n    min: 1\n  },\n  LOOPRING_TOKEN: {\n    type: \"enum\",\n    required: true,\n    enum: [\"LRC\", \"LRN\", \"LRQ\"]\n  },\n  PRIVATE_KEY_BUFFER: {\n    validator: (rule, value, cb) => {\n      if (value instanceof Buffer && value.length === 32) {\n        cb();\n      } else {\n        cb(\"private_key must be buffer\");\n      }\n    }\n  },\n  CURRENCY: {\n    type: \"string\",\n    required: true,\n    enum: [\"USD\", \"CNY\"]\n  },\n  DEFAULT_BLOCK: {\n    type: \"string\",\n    required: true,\n    enum: [\"earliest\", \"latest\", \"pending\"]\n  },\n  CANCEL_ORDER_TYPE: {\n    type: \"enum\",\n    required: true,\n    enum: [1, 2, 3, 4]\n  }\n};\n\nexport default basicSchemas;\n","import { bigInt, bn128 } from \"snarkjs\";\n\nexport let Base8 = [\n  bigInt(\n    \"16540640123574156134436876038791482806971768689494387082833631921987005038935\"\n  ),\n  bigInt(\n    \"20819045374670962167435360035096875258406992893633759881276124905556507972311\"\n  )\n];\nexport let order = bigInt(\n  \"21888242871839275222246405745257275088614511777268538073601725287587578984328\"\n);\nexport let subOrder = order.shr(3);\nexport let p = bn128.r;\n\nexport function addPoint(a, b) {\n  const q = bn128.r;\n  const cta = bigInt(\"168700\");\n  const d = bigInt(\"168696\");\n  const res = [];\n\n  res[0] = bigInt(\n    bigInt(a[0])\n      .mul(b[1])\n      .add(bigInt(b[0]).mul(a[1]))\n      .mul(\n        bigInt(\n          bigInt(\"1\").add(\n            d\n              .mul(a[0])\n              .mul(b[0])\n              .mul(a[1])\n              .mul(b[1])\n          )\n        ).inverse(q)\n      )\n  ).affine(q);\n  res[1] = bigInt(\n    bigInt(a[1])\n      .mul(b[1])\n      .sub(cta.mul(a[0]).mul(b[0]))\n      .mul(\n        bigInt(\n          bigInt(\"1\").sub(\n            d\n              .mul(a[0])\n              .mul(b[0])\n              .mul(a[1])\n              .mul(b[1])\n          )\n        ).inverse(q)\n      )\n  ).affine(q);\n\n  return res;\n}\n\nexport function mulPointEscalar(base, e) {\n  let res = [bigInt(\"0\"), bigInt(\"1\")];\n  let rem = bigInt(e);\n  let exp = base;\n\n  while (!rem.isZero()) {\n    if (rem.isOdd()) {\n      res = addPoint(res, exp);\n    }\n    exp = addPoint(exp, exp);\n    rem = rem.shr(1);\n  }\n\n  return res;\n}\n\nexport function inSubgroup(P) {\n  if (!inCurve(P)) return false;\n  const res = mulPointEscalar(P, subOrder);\n  return res[0].equals(bigInt(0)) && res[1].equals(bigInt(1));\n}\n\nexport function inCurve(P) {\n  const F = bn128.Fr;\n\n  const a = bigInt(\"168700\");\n  const d = bigInt(\"168696\");\n\n  const x2 = F.square(P[0]);\n  const y2 = F.square(P[1]);\n\n  if (!F.equals(F.add(F.mul(a, x2), y2), F.add(F.one, F.mul(F.mul(x2, y2), d))))\n    return false;\n\n  return true;\n}\n\nexport function packPoint(P) {\n  const buff = bigInt.leInt2Buff(P[1], 32);\n  if (P[0].greater(p.shr(1))) {\n    buff[31] = buff[31] | 0x80;\n  }\n  return buff;\n}\n\nexport function unpackPoint(_buff) {\n  const F = bn128.Fr;\n\n  const buff = Buffer.from(_buff);\n  let sign = false;\n  const P = new Array(2);\n  if (buff[31] & 0x80) {\n    sign = true;\n    buff[31] = buff[31] & 0x7f;\n  }\n  P[1] = bigInt.leBuff2int(buff);\n  if (P[1].greaterOrEquals(p)) return null;\n\n  const a = bigInt(\"168700\");\n  const d = bigInt(\"168696\");\n\n  const y2 = F.square(P[1]);\n\n  let x = F.sqrt(F.div(F.sub(F.one, y2), F.sub(a, F.mul(d, y2))));\n\n  if (x == null) return null;\n\n  if (sign) x = F.neg(x);\n\n  P[0] = F.affine(x);\n\n  return P;\n}\n\nexport default {\n  addPoint,\n  mulPointEscalar,\n  inCurve,\n  inSubgroup,\n  packPoint,\n  unpackPoint,\n  Base8,\n  order,\n  subOrder,\n  p,\n}","// Taken and modified from\n// https://github.com/iden3/circomlib\nimport { Bitstream } from \"./bitstream\";\nimport { KeyPair, Signature } from \"../../model/types\";\n\nconst createBlakeHash = require(\"blake-hash\");\nconst bigInt = require(\"snarkjs\").bigInt;\nconst babyJub = require(\"./babyjub\");\nconst poseidon = require(\"./poseidon\");\n\nexport class EdDSA {\n  public static generateKeyPair(seed: string) {\n    let randomNumber = Bitstream.hashCode(seed);\n    let secretKey = bigInt(randomNumber.toString(10));\n    secretKey = secretKey.mod(babyJub.subOrder);\n    const publicKey = babyJub.mulPointEscalar(babyJub.Base8, secretKey);\n\n    const keyPair: KeyPair = {\n      publicKeyX: publicKey[0].toString(10),\n      publicKeyY: publicKey[1].toString(10),\n      secretKey: secretKey.toString(10)\n    };\n    return keyPair;\n  }\n\n  public static sign(strKey: string, msg: string) {\n    const key = bigInt(strKey);\n    const prv = bigInt.leInt2Buff(key, 32);\n\n    const h1 = createBlakeHash(\"blake512\")\n      .update(prv)\n      .digest();\n    const msgBuff = bigInt.leInt2Buff(bigInt(msg), 32);\n    const rBuff = createBlakeHash(\"blake512\")\n      .update(Buffer.concat([h1.slice(32, 64), msgBuff]))\n      .digest();\n    let r = bigInt.leBuff2int(rBuff);\n    r = r.mod(babyJub.subOrder);\n\n    const A = babyJub.mulPointEscalar(babyJub.Base8, key);\n    const R8 = babyJub.mulPointEscalar(babyJub.Base8, r);\n\n    const hasher = poseidon.createHash(6, 6, 52);\n    const hm = hasher([R8[0], R8[1], A[0], A[1], msg]);\n    const S = r.add(hm.mul(key)).mod(babyJub.subOrder);\n\n    const signature: Signature = {\n      Rx: R8[0].toString(),\n      Ry: R8[1].toString(),\n      s: S.toString()\n    };\n    return signature;\n  }\n\n  public static verify(msg: string, sig: Signature, pubKey: string[]) {\n    const A = [bigInt(pubKey[0]), bigInt(pubKey[1])];\n    const R = [bigInt(sig.Rx), bigInt(sig.Ry)];\n    const S = bigInt(sig.s);\n\n    // Check parameters\n    if (!babyJub.inCurve(R)) return false;\n    if (!babyJub.inCurve(A)) return false;\n    if (S >= babyJub.subOrder) return false;\n\n    const hasher = poseidon.createHash(6, 6, 52);\n    const hm = hasher([R[0], R[1], A[0], A[1], bigInt(msg)]);\n\n    const Pleft = babyJub.mulPointEscalar(babyJub.Base8, S);\n    let Pright = babyJub.mulPointEscalar(A, hm);\n    Pright = babyJub.addPoint(R, Pright);\n\n    if (!Pleft[0].equals(Pright[0])) return false;\n    if (!Pleft[1].equals(Pright[1])) return false;\n\n    return true;\n  }\n}\n"],"sourceRoot":""}